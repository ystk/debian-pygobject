commit ca8a28793dc46dd62fc2140c400c835781b36cb3
Author: Jose Rostagno <joserostagno@vijona.com.ar>
Date:   Fri May 11 19:08:47 2012 -0300

    pygtkcompat: Correctly set flags

    https://bugzilla.gnome.org/show_bug.cgi?id=675911

    Signed-off-by: Martin Pitt <martinpitt@gnome.org>

 gi/pygtkcompat.py         |    5 ++---
 tests/test_pygtkcompat.py |    1 +
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 04c45e5c83701016d73a7ab2251bb5c7ce78c1a3
Author: Jose Rostagno <joserostagno@vijona.com.ar>
Date:   Fri May 11 12:39:05 2012 -0300

    Gtk overrides: Implement __delitem__ on TreeModel

    https://bugzilla.gnome.org/show_bug.cgi?id=675892

    Signed-off-by: Martin Pitt <martinpitt@gnome.org>

 gi/overrides/Gtk.py     |   16 ++++++++++++----
 tests/test_overrides.py |    9 +++++++++
 2 files changed, 21 insertions(+), 4 deletions(-)

commit cceb5bcca0b966ed927bbafacd015008fc6e30bb
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:   Thu May 10 21:03:31 2012 +0200

    Fixed names in NEWS

 NEWS |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a659354b4dffd9d042d4ce2e6ee0e0c589443eee
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:   Thu May 10 20:59:52 2012 +0200

    Post release version bump to 3.2.2

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 803313a03b241e9ad933c2b4f23752763d1b66e4
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:   Thu May 10 20:58:04 2012 +0200

    Bump version to 3.2.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ebdb1cb6f865ddb28ac79d15172b9ce28e07d07d
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:   Thu May 10 20:56:59 2012 +0200

    Prepare 3.2.1 release

 NEWS |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit a890cf021a414a16361f0d1a9ecf6c86b10507ff
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:   Thu May 10 20:47:52 2012 +0200

    Reindent files in tests to use 4-space indentation

    Previously, running make check with python3 resulted in a TabError
    because tabs and spaces for indentation where mixed

 tests/compathelper.py    |    2 +-
 tests/runtests.py        |   17 +++++-----
 tests/test_everything.py |   24 +++++++-------
 tests/test_gdbus.py      |   11 +++----
 tests/test_gi.py         |   38 +++++++++++-----------
 tests/test_gobject.py    |    2 +-
 tests/test_interface.py  |    1 -
 tests/test_option.py     |    1 -
 tests/test_overrides.py  |   80
 +++++++++++++++++++++++-----------------------
 tests/test_properties.py |    2 +-
 tests/test_source.py     |    2 +-
 tests/test_uris.py       |    1 -
 12 files changed, 88 insertions(+), 93 deletions(-)

commit 0ed74e4c4da4ed3313d83807b998f4f096aeefcd
Author: Martin Pitt <martinpitt@gnome.org>
Date:   Mon Apr 23 15:24:04 2012 +0200

    Add missing override for TreeModel.iter_previous()

    This should behave like the override for TreeModel.iter_next().

    https://bugzilla.gnome.org/show_bug.cgi?id=660018

 gi/overrides/Gtk.py     |    6 ++++++
 tests/test_overrides.py |    4 ++++
 2 files changed, 10 insertions(+)

commit 76fdcf201745dc56c6773a8546da53ad562038a7
Author: Giovanni Campagna <gcampagna@src.gnome.org>
Date:   Sun Apr 29 23:55:15 2012 +0200

    GSettings: allow extra keyword arguments

    All GObject constructors are expected to accept any construct
    property as keyword argument, and overrides should respect that.
    In particular, not doing this for GSettings prevents using a custom
    GSettingsSchema.

    https://bugzilla.gnome.org/show_bug.cgi?id=675105

    Signed-off-by: Martin Pitt <martinpitt@gnome.org>

 gi/overrides/Gio.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3f4ca905e482aad221f355586bc00b29c2547ddd
Author: Jose Rostagno <joserostagno@vijona.com.ar>
Date:   Sun Apr 29 12:56:50 2012 -0300

    pygtkcompat: Correct Userlist module use

    https://bugzilla.gnome.org/show_bug.cgi?id=675084

    Signed-off-by: Martin Pitt <martinpitt@gnome.org>

 gi/pygtkcompat.py         |    2 +-
 tests/test_pygtkcompat.py |    4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 926f08a94b38a4b3102e72b3fe19e886fa59f436
Author: Martin Pitt <martinpitt@gnome.org>
Date:   Mon Apr 23 20:09:43 2012 +0200

    test_gdbus: Call GetConnectionUnixProcessID() with correct signature

    https://bugzilla.gnome.org/show_bug.cgi?id=667954

 tests/test_gdbus.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 223b3c67634b4a2b066b38718498c89108371373
Author: Martin Pitt <martinpitt@gnome.org>
Date:   Mon Apr 23 17:40:23 2012 +0200

    GTK overrides: Add missing keyword arguments

    Add missing **kwargs to overridden __init__() constructors, to
    allow specifying
    arbitrary widget properties.

    https://bugzilla.gnome.org/show_bug.cgi?id=660018

 gi/overrides/Gtk.py     |   34 ++++++++++++++++++----------------
 tests/test_overrides.py |    6 ++++++
 2 files changed, 24 insertions(+), 16 deletions(-)

commit f440e8fea00092c46d1f2136a89f28b288206928
Author: Martin Pitt <martinpitt@gnome.org>
Date:   Sun Apr 22 16:45:06 2012 +0200

    pygi-convert.py: Drop obsolete drag method conversions

    Drop conversion of drag_source_unset() and drag_dest_{,un}set(). These
    were
    fixed a while ago to be proper Widget methods again.

    https://bugzilla.gnome.org/show_bug.cgi?id=652860

 pygi-convert.sh |    3 ---
 1 file changed, 3 deletions(-)

commit 99e0f7008671284bf1c176e5f7ef7ee9e37a5a93
Author: Bastian Winkler <buz@netbuz.org>
Date:   Thu Apr 12 20:30:05 2012 +0200

    Fix len_arg_index for array arguments

    Don't set len_arg_index for arrays without the length annotation
    given.
    This fixes methods like Clutter.Texture.set_from_rgb_data() and
    Clutter.Image.set_data()

    Skip the test case in the cherrypick, as gobject-introspection do
    not yet ship
    the test API in GNOME 3.4.

    https://bugzilla.gnome.org/show_bug.cgi?id=674271

    Signed-off-by: Martin Pitt <martinpitt@gnome.org>

 gi/pygi-cache.c           |    4 +++-
 gi/pygi-marshal-cleanup.c |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 27205e78dc9b729e0c0ca82c125ded5842ca8069
Author: Martin Pitt <martinpitt@gnome.org>
Date:   Thu Apr 19 07:27:10 2012 +0200

    Add missing GObject.TYPE_GTYPE

 gi/_gobject/constants.py |    1 +
 1 file changed, 1 insertion(+)

commit c52881fbfef26f460e4ead8c72bc1d245b0e0e9b
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:   Mon Mar 26 17:45:08 2012 +0200

    Fix "distcheck" and tests with out-of-tree builds

    - Symlink *.py files from srcdir into builddir during build, as
    Python does not
      accept the extensions and modules in different paths.
    - "make clean" should remove *.pyc files
    - tests/runtests.py: Look for tests in srcdir, not in builddir

    Conflicts:

	tests/runtests.py

 Makefile.am		   |	6 ++++--
 gi/Makefile.am		   |   13 +++++++++++--
 gi/_glib/Makefile.am	   |   12 ++++++++++--
 gi/_gobject/Makefile.am   |   12 ++++++++++--
 gi/overrides/Makefile.am  |   10 ++++++++++
 gi/repository/Makefile.am |   11 +++++++++++
 tests/runtests.py	   |	6 ++++--
 7 files changed, 60 insertions(+), 10 deletions(-)

commit 216c88a80ed762b69a175f8771492ee53738d461
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Mar 21 21:09:24 2012 +0100

    Add GtkComboBoxEntry compatibility

    This widget has been removed in Gtk+ 3, add a small wrapper to the
    compat module to make at least basic pygtk programs that use it work.

    https://bugzilla.gnome.org/show_bug.cgi?id=672589

 gi/pygtkcompat.py	   |   19 +++++++++++++++++++
 tests/test_pygtkcompat.py |   22 ++++++++++++++++++++++
 2 files changed, 41 insertions(+)

commit c643ff16758dd286b59ab040c1f4422c9401f691
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 26 13:20:27 2012 +0200

    Release 3.2.0

 NEWS	      |    3 +++
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit a60734edf794ed2758cdc16c5cee675f39815084
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Mar 22 11:05:47 2012 +0100

    post-release bump

    Use 3.1.94 for now, this will most likely become 3.2.0 as it is.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab0ee3c606b89a0db03f34256efbebae3c1886a0
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Mar 22 10:58:04 2012 +0100

    Release 3.1.93

 NEWS |    8 ++++++++
 1 file changed, 8 insertions(+)

commit a43992fc3ecdcdd28024980bd9e98e5d21ede37f
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Mar 21 15:21:02 2012 +0100

    pygtkcompat test: Properly clean up PixbufLoader

    Tests currently give

    (runtests.py:15072): GdkPixbuf-WARNING **: GdkPixbufLoader finalized
    without calling gdk_pixbuf_loader_close() - this is not allowed. You
    must explicitly end the data stream to the loader before dropping
    the last reference.

    Fix this by calling close().

 tests/test_pygtkcompat.py |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit df44fdd3f8bcb285dc6abfe7b32ee816077f95eb
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Mar 22 09:58:21 2012 +0100

    test_overrides: Find local gsettings schema with current glib

    With current glib, gsettings now fails to find the gschemas.compiled
    during the
    tests. Move the setting of $GSETTINGS_SCHEMA_DIR before the module
    import,
    which makes this work again.

 tests/test_overrides.py |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit d931b26ac1ee8a36c5daef933720982a3f31c116
Author: Alberto Mardegan <alberto.mardegan@canonical.com>
Date:	Tue Mar 20 14:55:07 2012 +0400

    Support marshalling GI_TYPE_TAG_INTERFACE

    Marshalling of interfaces got broken with commit
    7746d2188ac4933c2c9011d84525d1e62fc18953.

    Also, do not abort on unsupported types, but log a critical failure
    and
    continue.

    https://bugzilla.gnome.org/show_bug.cgi?id=668903

 gi/pygi-marshal-from-py.c |	3 ++-
 gi/pygi-marshal-to-py.c   |	3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 1b3f8b1fde2ba25592eb038341eabf6157f12c25
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Mar 21 14:34:36 2012 +0100

    Fix warnings on None values in added tree/list store rows

    Commit bf8c95836e1c changed the List/TreeStore overrides to use
    insert_with_valuesv(), but supplied all columns instead of just
    those which are
    not None. With this, None values cause warnings like

    (runtests.py:12375): Gtk-WARNING **:
    /build/buildd/gtk+3.0-3.3.20/./gtk/gtkliststore.c:851: Unable to
    convert from (null) to gboolean

    Update the tests to make warnings fatal, to catch this better.

    Change _convert_row() to skip the None entries and return the list
    of not-None
    columns, and use the latter instead of a simple range(n_columns). This
    matches
    the behaviour before bf8c95836e1c, where columns with None values
    were skipped
    as well.

    https://bugzilla.gnome.org/show_bug.cgi?id=672463

 gi/overrides/Gtk.py	 |   26 ++++++++++++++------------
 tests/test_overrides.py |    5 +++++
 2 files changed, 19 insertions(+), 12 deletions(-)

commit 5e0e5e72a4436badd09f0aa07f62960afcdca8c6
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 16:58:22 2012 +0100

    post-release bump

    Use 3.1.93 for now, this will most likely become 3.2.0 as it is.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88924e399d7ccf7af2e9a78720e0c508cd6080d8
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 16:41:17 2012 +0100

    Release 3.1.92

 NEWS |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit b41e6139befb984c0b78bcefe2630ab1393b4b40
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 16:14:54 2012 +0100

    README: Update current maintainers

    Also update Martin's email address.

 README		|   10 ++++++----
 pygobject.doap |    2 +-
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 45e27ba7e447552057a2950fc768c63ff2e6612e
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 16:11:22 2012 +0100

    Bump version to 3.1.92, in sync with GNOME

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77d358f8c5f524259249ea686899e3a4da05562e
Author: Johan Dahlin <johan@gnome.org>
Date:	Mon Mar 19 11:54:07 2012 -0300

    Correct Gtk.TreePath.__iter__ to work with Python 3

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f18bcb37bdc42368ad9a07c7f348f736c2f665d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 15:54:13 2012 +0100

    Fix pygtkcompat.py to work with Python 3

 gi/pygtkcompat.py |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 96a9f92da801989464fbcedf6d849819f6dbea64
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 19 15:32:22 2012 +0100

    Fix test_everything.TestSignals.test_object_param_signal test case

    The callback gets two arguments, not one. This short-circuited
    the actual
    assertions. Fix the arguments and update the refcount check, as it
    is not
    exactly two at the moment.

 tests/test_everything.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba00afb1e50759b2b321f16e05a15946053cdafa
Author: Johan Dahlin <johan@gnome.org>
Date:	Mon Mar 19 10:58:09 2012 -0300

    pygtkcompat: Remove first argument for get_origin()

 gi/pygtkcompat.py	   |	5 +++++
 tests/test_pygtkcompat.py |	5 +++++
 2 files changed, 10 insertions(+)

commit 65499246a862ce6a82bc3b0cc74fe8ff82dde687
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:08:44 2012 -0300

    GtkViewport: Add a default values for the adjustment constructor
    parameters

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |   10 ++++++++++
 tests/test_overrides.py |   11 +++++++++++
 2 files changed, 21 insertions(+)

commit 43c761d9f35252dcb58b9cf2278016d841eea4ec
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:08:23 2012 -0300

    GtkIconSet: Add a default value for the pixbuf constructor parameter

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |   11 +++++++++++
 tests/test_overrides.py |    6 ++++++
 2 files changed, 17 insertions(+)

commit 116d3712251b1b8aa2d4f4a9e40e22f5b9fcbe4f
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:07:30 2012 -0300

    PangoLayout: Add a default value for set_markup()

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Pango.py	 |    3 +++
 tests/test_overrides.py |    4 ++++
 2 files changed, 7 insertions(+)

commit a3ca47b086b7fcf084282be788c5d737dde847ac
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:06:37 2012 -0300

    Gtk[HV]Scrollbar: Add a default value for the adjustment constructor
    parameter

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |   15 +++++++++++++++
 tests/test_overrides.py |   14 ++++++++++++++
 2 files changed, 29 insertions(+)

commit 458dab08c78cb730dd95bcd67af20a0d73a3af2f
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:06:12 2012 -0300

    GtkToolButton: Add a default value for the stock_id constructor
    parameter

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |   10 ++++++++++
 tests/test_overrides.py |    9 ++++++++-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit 2f7789a5a1f55ec38c5ff0f96bc5c9023679a333
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:05:55 2012 -0300

    GtkIconView: Add a default value for the model constructor parameter

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |   11 +++++++++++
 2 files changed, 14 insertions(+)

commit 2dd9dadd1bd92c3324e9de209ba8205a9d4106d6
Author: Johan Dahlin <johan@gnome.org>
Date:	Thu Mar 15 15:22:46 2012 -0300

    Add a default value for column in Gtk.TreeView.get_cell_area()

    https://bugzilla.gnome.org/show_bug.cgi?id=672260

 gi/overrides/Gtk.py	 |    5 +++++
 tests/test_overrides.py |    3 +++
 2 files changed, 8 insertions(+)

commit bf8c95836e1cc1e1629937cbc69ea3027fb82746
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Mar 15 09:48:10 2012 +0100

    Atomic inserts in Gtk.{List,Tree}Store overrides

    Gtk.{List,Tree}Store's overrides provide append(), insert()
    etc. methods which
    take an optional data row array. If this is given, use
    insert_with_valuesv()
    instead of creating a new iter and then filling it with data. The
    latter sent a
    row-added signal, at which time the row was still empty, and a
    subsequent
    row-changed signal. With this we only get a single row-added
    signal with
    complete row data.

    Note that this does not change insert_{before,after}(), as there is no
    counterpart of insert_with_valuesv() which takes a TreeIter instead
    of a
    position. For those you will still get two signals, and have to deal
    with None
    values.

    https://bugzilla.gnome.org/show_bug.cgi?id=671610

 gi/overrides/Gtk.py	 |   81
 +++++++++++++++++++++++++++++------------------
 tests/test_overrides.py |   74
 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 124 insertions(+), 31 deletions(-)

commit f7db4eaf8148f2dd8bf1718152a1dcae509470c7
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Sun Mar 18 16:07:26 2012 +0100

    Fix Gtk.Button constructor to accept use_stock parameter

    Thanks to kalanzun@googlemail.com!

    https://bugzilla.gnome.org/show_bug.cgi?id=672318

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/overrides/Gtk.py	 |    4 +---
 tests/test_overrides.py |    6 ++++++
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 466337cf2fd091738eeab12c10d250a9d0827284
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 16:55:47 2012 -0300

    Correct bad rebase, remove duplicate Window

 gi/overrides/Gtk.py |	  7 -------
 1 file changed, 7 deletions(-)

commit c60d5ee3c88bd8e1c68ea97f079947cf79d5bb7d
Author: Johan Dahlin <johan@gnome.org>
Date:	Thu Mar 15 15:42:28 2012 -0300

    Add a PyGTK compatibility layer

    This module tries quite a bit harder to maintain compatibility
    with PyGTK, module names, enums, flags and some API.

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/Makefile.am		   |	3 +-
 gi/pygtkcompat.py	   |  421
 +++++++++++++++++++++++++++++++++++++++++++++
 tests/Makefile.am	   |	3 +-
 tests/test_pygtkcompat.py |   77 +++++++++
 4 files changed, 502 insertions(+), 2 deletions(-)

commit 680a2e04ac4f80ad16e820d3f753519477c988aa
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Mar 14 15:20:53 2012 -0300

    Add bw-compatible arguments to Gtk.Adjustment

    The argument used to be called page/step_incr, if they
    are found map them to the existing properties for extra
    compatibility.

    https://bugzilla.gnome.org/show_bug.cgi?id=672087

 gi/overrides/Gtk.py |	  8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit fbd21ee7176bc1b70547ea464b512c8ffd674187
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Mar 14 17:13:04 2012 -0300

    GtkTreePath: make it iterable

    https://bugzilla.gnome.org/show_bug.cgi?id=672093

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |    2 ++
 2 files changed, 5 insertions(+)

commit a7b08cb75541612c78d123b1d968be7874e3c481
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Mar 14 13:32:31 2012 -0300

    Add a default argument to TreeModelFilter.set_visible_func()

    https://bugzilla.gnome.org/show_bug.cgi?id=672081

 gi/overrides/Gtk.py |	 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 02950cabb38b1b3c9378c42c069eefdbccbce17d
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Mar 14 13:31:41 2012 -0300

    Add a default argument to Gtk.TreeView.set_cursor

    And also make sure that the path is a Gtk.TreePath.

    https://bugzilla.gnome.org/show_bug.cgi?id=672081

 gi/overrides/Gtk.py	 |    4 ++++
 tests/test_overrides.py |   10 ++++++++++
 2 files changed, 14 insertions(+)

commit 7245bd0ae3f6243c79fa8543a0ed1e50e5015844
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Mar 14 13:31:06 2012 -0300

    Add a default argument to Pango.Context.get_metrics()

    https://bugzilla.gnome.org/show_bug.cgi?id=672081

 gi/overrides/Pango.py |    9 +++++++++
 1 file changed, 9 insertions(+)

commit bc1fd8814df6c1e85b586d0fb943c89f7e2b78b5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Mar 16 13:27:56 2012 +0100

    Fix double-freeing GValues in arrays

    When marshalling a GValue array to C, the GValue items are copied
    into a C
    GValue array, not a C GValue pointer
    array. _pygi_marshal_from_py_array()
    already calls the cleanup_func for the original item;
    _pygi_marshal_cleanup_from_py_array() must not do it again, as this
    would try
    to g_slice_free the array item.

    https://bugzilla.gnome.org/show_bug.cgi?id=672224

 gi/pygi-marshal-from-py.c |	7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit a906b7d1947ba905f959d3f738eb6c29b02f96e7
Author: Simon Feltman <s.feltman@gmail.com>
Date:	Fri Mar 16 00:29:31 2012 -0700

    Renamed "property" class to "Property"

    Renamed to match the rest of the class names in GObject and also
    not clobber the builtin python property.

    Keep the old "property" identifier for backwards compatibility
    for now.

    https://bugzilla.gnome.org/show_bug.cgi?id=672168

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 examples/properties.py        |    6 +--
 gi/_gobject/__init__.py       |    7 +--
 gi/_gobject/propertyhelper.py |   12 +++---
 tests/test_interface.py       |    4 +-
 tests/test_properties.py      |   94
 ++++++++++++++++++++---------------------
 5 files changed, 62 insertions(+), 61 deletions(-)

commit d7d28d717e38c0546529b09b8b571a5cc631c5b5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Mar 14 22:52:47 2012 +0100

    Fix Python to C marshalling of GValue arrays

    For GValues we cannot just copy the GValue memory in
    _pygi_marshal_from_py_array(), as the from_py_cleanup() function
    clears and
    releases the GValue and with it its v_pointer. Use g_value_copy()
    to copy by
    value instead.

    This uncovered another bug in _pygi_marshal_cleanup_from_py_array():
    It always
    assumed that C arrays contained pointers, but this is not the case
    for GValue
    arrays: these are actual struct arrays, not struct pointer arrays
    (cf. their
    construction in _pygi_marshal_from_py_array()). Check if an array
    contains
    pointers or values and compute the correct array item pointer for
    both cases.

    Also add a corresponding test case for marshalling GValue arrays
    from C back to
    Python, which works fine.

    https://bugzilla.gnome.org/show_bug.cgi?id=672065

 gi/pygi-marshal-cleanup.c |   19 ++++++++++++++-----
 gi/pygi-marshal-from-py.c |   13 ++++++++++++-
 tests/test_gi.py	   |	8 ++++++++
 3 files changed, 34 insertions(+), 6 deletions(-)

commit 27ac9c1de6487035b18ef4511c155d251cb6d39d
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Mar 16 09:59:57 2012 +0100

    Correct the Gtk.Window hierarchy

    We need to make sure that all Gtk.Dialog subclasses inherit from
    the overridden Window class. For that to be done automaticly we need
    to create the Window class before the Dialog class.

    Now when it's inherited properly we need to avoid calling the Window
    constructor twice as it passes in a construct-only parameter. So add
    **kwargs to the Window constructor to allow us to pass in any kind
    of GObject property to it and refactor the Dialog subclasses to pass
    in all properties to the same constructor.

    Also adds a bunch of tests to make sure that the hiearchy is correct.

    https://bugzilla.gnome.org/show_bug.cgi?id=672158

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/overrides/Gtk.py	 |   56
 +++++++++++++++++++++++------------------------
 tests/test_overrides.py |   35 +++++++++++++++++++++++++++--
 2 files changed, 61 insertions(+), 30 deletions(-)

commit 77ab27ab8a580d98f76730f075e083e1e870f55e
Author: simon <simon@gerty>
Date:	Tue Mar 13 01:41:53 2012 -0700

    Renamed getter/setter instance attributes to fget/fset respectively.

    The python 'property' class allows for decoration of methods using
    .getter and .setter. These were added as methods to the
    GObject.property
    class to match that of the python property class and allow for
    decoratored
    setter methods.

    In addition, __call__ was added to allow an instantiated decorator
    with
    args to also decorate a method:

    class C(GObject.GObject):
	_value = 0
	@GObject.property(type=int, default=0)
	def propInt(self):
	    return self._value
	@propInt.setter
	def propInt(self, value):
	    self._value = value

    https://bugzilla.gnome.org/show_bug.cgi?id=586181

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/_gobject/__init__.py       |   10 +++----
 gi/_gobject/propertyhelper.py |   59
 ++++++++++++++++++++++++++++++-----------
 tests/test_properties.py      |   41 ++++++++++++++++++++++++++++
 3 files changed, 89 insertions(+), 21 deletions(-)

commit 174a61fb3149c07dab5cc35e64825922cdefcb95
Author: Johan Dahlin <johan@gnome.org>
Date:	Tue Mar 13 17:10:13 2012 -0300

    Add Gtk.Arrow/Gtk.Window constructor override

    Adds argument that makes them compatible with PyGTK.

    https://bugzilla.gnome.org/show_bug.cgi?id=672045

 gi/overrides/Gtk.py |	 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 7746d2188ac4933c2c9011d84525d1e62fc18953
Author: Michel Dänzer <michel@daenzer.net>
Date:	Fri Mar 9 12:26:53 2012 +0100

    Fix marshalling to/from Python to work on big endian machines.

    https://bugzilla.gnome.org/show_bug.cgi?id=668903

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/pygi-argument.c	   |   25 ++++++++++++++++---------
 gi/pygi-marshal-from-py.c |   32 +++++++++++++++++++++++++-------
 gi/pygi-marshal-to-py.c   |   19 +++++++++++++++++++
 3 files changed, 60 insertions(+), 16 deletions(-)

commit 0591cc6f160ae6e9d8c3970934ae105ef340d7d3
Author: Michel Dänzer <michel@daenzer.net>
Date:	Thu Mar 8 12:21:28 2012 +0100

    Use gi_cclosure_marshal_generic instead of duplicating it.

    Bump gobject-introspection dependency to ensure that we have the
    corresponding
    changes in g-i.

    https://bugzilla.gnome.org/show_bug.cgi?id=668903

    Signed-off-by: Michel Dänzer <michel@daenzer.net>
    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 configure.ac		      |    3 +-
 gi/_gobject/Makefile.am      |    7 +-
 gi/_gobject/ffi-marshaller.c |  194
 ------------------------------------------
 gi/_gobject/ffi-marshaller.h |   31 -------
 gi/_gobject/gobjectmodule.c  |   12 +--
 5 files changed, 4 insertions(+), 243 deletions(-)

commit 8ca828825a2c47080055c5f986979aac8da9a93f
Author: René Stadler <rene.stadler@collabora.co.uk>
Date:	Mon Mar 5 21:10:55 2012 +0100

    Override Gtk.TreeView.get_visible_range to fix return

    Just like IconView.

    https://bugzilla.gnome.org/show_bug.cgi?id=671409

 gi/overrides/Gtk.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit 4824ceaa77b59788325a2c1ee0f994d4e74d7a1c
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Mar 4 16:41:18 2012 +0100

    Plug memory leak in _is_union_member

    When we found the member, unref the objects before breaking out of the
    loop.

 gi/pygi-marshal-from-py.c |	9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit c6ae29ac157978a61b11cc2de9e8485d8a175105
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Tue Feb 21 15:37:18 2012 +0100

    tests: Split TestInterfaces into separate tests

 tests/test_gi.py |   36 +++++++++++++++++++-----------------
 1 file changed, 19 insertions(+), 17 deletions(-)

commit de3299818ae5fdf1c7abbe05a36bfd5cdface7b8
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 20 19:37:32 2012 +0100

    Post release version bump to 3.1.2

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd020e783c0dacea3320225b4ddd57d6a0fce7ea
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 20 19:33:56 2012 +0100

    Prepare 3.1.1 release

 NEWS |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 99485d96811667ef7a7a393b68b7361733157d61
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Feb 18 00:38:05 2012 +0100

    Don't use C99 style

 gi/pygi-cache.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0739c39f6282d95fc17ee406fa1151d074b0450d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Feb 16 16:42:53 2012 +0100

    Add test for GPtrArray with transfer full

    This complements the already existing test for a "transfer container"
    return
    array. We can't verify the internal refcount as these arrays get
    marshalled
    internally, but at least we can verify that it does not crash due to
    double-free.

 tests/test_everything.py |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 087a104f66793a981a0c02f1c7ab9cc1cf659da3
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Feb 15 13:36:39 2012 +0100

    Drop obsolete g_thread_init()

    Not necessary any more since glib 2.24, and we depend on 2.31.

 gi/_glib/pyglib.c |	3 ---
 1 file changed, 3 deletions(-)

commit 66fb610e45912a7def29e5848577d280ef55643a
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Feb 15 13:35:33 2012 +0100

    Fix deprecated g_source_get_current_time()

    Use g_get_real_time() instead as recommended by the
    documentation. This also
    simplifies the code.

 gi/_glib/pygsource.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 18342edded05d3d9cccf648ed92bc1cac95c51eb
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Feb 15 13:31:23 2012 +0100

    Fix deprecated g_value_[gs]et_char()

    Replace with _schar(). We depend on glib >= 2.31 already.

 gi/_gobject/ffi-marshaller.c |    2 +-
 gi/_gobject/pygtype.c	      |    6 +++---
 gi/pygi-argument.c	      |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 3dfb8dcbe7cf09dc170433fc48d3273c6ea9448e
Author: Simon Schampijer <simon@schampijer.de>
Date:	Thu Feb 2 19:06:01 2012 +0100

    Make pygiconvert.sh correctly convert gtk.gdk.x11_*

    Looking at the gir file gtk.gdk.x11_* should get converted to
    GdkX11.x11_*. Fixing pygiconvert.sh to do so.

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3af5016978df598d5fd1c225cc49bb2c04dc4e35
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Feb 10 13:29:41 2012 +0100

    Raise required glib version to 2.31 because of g_value_(get|set)_schar

    Commit ee62df4d2fc0cc63c2f29d3ad9b47b875dbd5f89 introduced both calls

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 50c3b1bad3ea79750649f4b48fce0adbfaba5268
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Feb 10 09:28:36 2012 +0100

    Fix cset_first typo

    https://bugzilla.gnome.org/show_bug.cgi?id=649267

 gi/_gobject/pygparamspec.c |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ab542fb3ec1031922ba65664d77bbaac0df453e
Author: Bastian Winkler <buz@netbuz.org>
Date:	Mon Nov 14 14:41:08 2011 +0100

    pygi-convert: Handle Clutter and Cogl

    https://bugzilla.gnome.org/show_bug.cgi?id=664496

 pygi-convert.sh |   76
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 76 insertions(+)

commit 4aeb27efc43e131de5d0bc0f60dca7c1d34c3d45
Author: Cédric Krier <cedric.krier@b2ck.com>
Date:	Fri Feb 10 09:04:18 2012 +0100

    Provide access to gpointer struct values

    https://bugzilla.gnome.org/show_bug.cgi?id=668356

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/pygi-argument.c	  |    3 ++-
 gi/pygi-info.c		  |   13 +++++++++++++
 tests/test_everything.py |   21 +++++++++++++++++++++
 3 files changed, 36 insertions(+), 1 deletion(-)

commit 5c0b20cc1a261cb7430a5251dffe60da698033b5
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Thu Feb 9 18:15:42 2012 +0100

    Add some GType tests

    Use what was recently added in g-i

 tests/test_gi.py |   17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit ea7778f6f37a6fc38f88d89d4b6cae8be0ed9753
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Thu Feb 9 18:14:52 2012 +0100

    Split GStrv and array variant tests in their own classes

    Also tidy up the spacing a bit

 tests/test_gi.py |   29 +++++++++++++++++++++++------
 1 file changed, 23 insertions(+), 6 deletions(-)

commit db7f9be319d3cf52aef300fbac60cabb7ff57276
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Feb 8 22:23:30 2012 +0100

    Add unit test for builder's connect_after

 tests/test_overrides.py |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 671f9b0dd73ac41a84caf9d1f04cec351bc01b47
Author: Ryan Lortie <desrt@desrt.ca>
Date:	Wed Feb 8 16:06:22 2012 -0500

    fix GtkBuilder signal connection 'after' logic

    All GtkBuilder signals are presently being connected 'after', ignoring
    what is specified in the builder XML.  This is due to an obvious logic
    error.

    https://bugzilla.gnome.org/show_bug.cgi?id=669705

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d23d8006be98b77a0134fddd23b76df05e489fa
Author: Patrick Welche <prlw1@cam.ac.uk>
Date:	Tue Feb 7 11:49:58 2012 +0000

    test(1) uses '=' to test if strings are identical

    https://bugzilla.gnome.org/show_bug.cgi?id=669598

 m4/python.m4 |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 945fd18e531c2131440af93dcd89f6c63abbfd7c
Author: Ryan Lortie <desrt@desrt.ca>
Date:	Tue Feb 7 13:42:19 2012 -0500

    pygspawn: improve error checking

    gspawn 'argv' and 'envp' parameters expect sequences of strings.  This
    is enforced by checking that the passed argument is a sequence
    and that
    each item returned from it is a string.

    We do now, however, verify that each item can be successfully
    taken from
    the sequence.  'os.environ' is an example of an object that passes
    PySequence_Check() but fails to return objects from PySequence_ITEM().

    Add a simple NULL check to avoid the crash.

    https://bugzilla.gnome.org/show_bug.cgi?id=669594

 gi/_glib/pygspawn.c |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8fc969c45d6d720400dc6c9ef391d0ca93f14b5a
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 6 19:15:53 2012 +0100

    Post release version bump to 3.1.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f76b2fe6d37be76bf129ee2adee90b2cc0eee56e
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 6 19:11:52 2012 +0100

    Prepare 3.1.0 release

 NEWS |   34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit c09d0dffc5a570d5ae4df1ae07b2e5594c3ca1bf
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 6 19:04:41 2012 +0100

    Updated DOAP file to only include people currently actively working
    on the project

    Removed obsolete MAINTAINERS file

 MAINTAINERS	|   19 -------------------
 pygobject.doap |   44 +++++++++++++++-----------------------------
 2 files changed, 15 insertions(+), 48 deletions(-)

commit 0285e107be581c4d594127dc06cd05df1f02fb3f
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Feb 6 18:57:01 2012 +0100

    Revert "Convert all strings to utf-8 encoding when retrieving from
    TreeModel"

    This reverts commit 654711d0f940d7480d0f1cdb25a3dc9996f7a706.

    Due to this commit breaking backwards compatability, we decided to
    revert this change

 gi/overrides/Gtk.py	 |   15 ---------------
 tests/compathelper.py	 |    2 --
 tests/test_overrides.py |   31 +------------------------------
 3 files changed, 1 insertion(+), 47 deletions(-)

commit 0e921cd26ed5a6e3bc6ef5f553e8b22b862d72a6
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sun Feb 5 13:47:10 2012 +0100

    tests: Fixed issues with python3

 tests/test_gi.py |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit ee62df4d2fc0cc63c2f29d3ad9b47b875dbd5f89
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sun Feb 5 11:59:51 2012 +0100

    Properly distinguish between different integer types for properties

    https://bugzilla.gnome.org/show_bug.cgi?id=664150

 gi/pygi-property.c |	48 ++++++++++++++++++++++++++++++++++++----
 tests/test_gi.py   |	62
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 106 insertions(+), 4 deletions(-)

commit c329bf2aee8d75ce452638db75e09197ff2b9b65
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sun Feb 5 11:46:21 2012 +0100

    Distinguish between GArray and GPtrArray when cleaning up

    This fixes a crash in test_gi.TestGPtrArray and makes sure
    memory is free'd correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=669393

 gi/pygi-marshal-cleanup.c |   32 +++++++++++++++++++++++---------
 1 file changed, 23 insertions(+), 9 deletions(-)

commit 4ea37c606f67df843788261b2c8acd6bac4c1e0c
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Feb 5 18:51:53 2012 +0100

    Add null_gerror_callback unit test

    This models the case where the callback is successful and does not set
    an error.

    https://bugzilla.gnome.org/show_bug.cgi?id=669415

 tests/test_everything.py |    9 +++++++++
 1 file changed, 9 insertions(+)

commit a41984780ee49dcf02c718ca1be87bba747472e5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Feb 6 09:34:28 2012 +0100

    pyglib_error_check: Re-add missing NULL check

    Commit adcfe96d49b09bc accidentally dropped the check if *error is
    NULL, i. e.
    any error is actually set. Due to that, pyglib_error_check()
    always returned
    TRUE. Reintroduce the check.

    Thanks to Alberto Mardegan for spotting this!

    https://bugzilla.gnome.org/show_bug.cgi?id=669415

 gi/_glib/pyglib.c |	2 ++
 1 file changed, 2 insertions(+)

commit 2c797c17913999379e277788d5e4cce8d68cebb0
Author: Michael Culbertson <michael.culbertson@gmail.com>
Date:	Sat Feb 4 16:11:34 2012 +0100

    Add tests/runtests-windows.py to source tarball

    https://bugzilla.gnome.org/show_bug.cgi?id=663288

 tests/Makefile.am |	1 +
 1 file changed, 1 insertion(+)

commit d6a899cdf70e978534326155e3fad75a705f4b20
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Feb 4 15:55:55 2012 +0100

    Don't issue a depreciation warning for GtkDialog's NO_SEPARATOR flag,
    even when unused

    https://bugzilla.gnome.org/show_bug.cgi?id=665553

 gi/overrides/Gtk.py |	  6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 534ec71c575a279ff1c05da20a8858bb1145b4d0
Author: Nirbheek Chauhan <nirbheek@gentoo.org>
Date:	Sat Feb 4 15:42:36 2012 +0100

    Fix bool() operations on GLib.Variant objects

    Defines __nonzero__ (python2) and __bool__ (python3) for GLib.Variant

    Also adds some tests for boolean comparisons.

    https://bugzilla.gnome.org/show_bug.cgi?id=647723

 gi/overrides/GLib.py	 |   18 ++++++++++++++++++
 tests/test_overrides.py |   45
 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 63 insertions(+)

commit 8d6a127df5dd1e5f26faeba8f977074b4496b24f
Author: Nirbheek Chauhan <nirbheek@gentoo.org>
Date:	Sat Feb 4 15:41:08 2012 +0100

    Fix hash() and __eq__() for GLib.Variant objects

    Define __hash__, __eq__, __ne__ for GLib.Variant so that objects can
    be used in sets, dicts, and can be compared using == and != easily.

    Also adds some tests for this.

    https://bugzilla.gnome.org/show_bug.cgi?id=647725

 gi/overrides/GLib.py	 |   23 +++++++++++++++++++
 tests/test_overrides.py |   56
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 79 insertions(+)

commit f82404034be042bf2026bbb7f1e33b11d6e17a6f
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 25 07:01:06 2012 +0100

    Fix method names of callback tests

    Change test_everything.TestCallbacks.* test names from camelCase
    to the
    standard PEP-8 underscore_style. This is now consistent with all
    other test
    case names.

 tests/test_everything.py |   30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit e37ee78fbf0aa72159a40da4165a26bea065faf1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:	Mon Jan 23 13:10:30 2012 +0000

    Cairo: add missing braces around array-of-struct definition

    This triggered a -Wmissing-braces warning.

    https://bugzilla.gnome.org/show_bug.cgi?id=668497

 gi/pygi-foreign-cairo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db24865d6b60351d72f5b8f47103d6d0a6c63b2e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:	Mon Jan 23 13:06:41 2012 +0000

    g_instance_init: cast to PyGObject * as needed

    This squashes a compiler warning.

    https://bugzilla.gnome.org/show_bug.cgi?id=668497

 gi/_gobject/gobjectmodule.c |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8408cfd68cd5e7cdb0b8a83e107d9a0d828e4bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:	Mon Jan 23 13:01:27 2012 +0000

    Fix a few set-but-not-used warnings.

    In a couple of cases, the variable in question was set to a value
    spelled out again later in the function.

    The 'sequence_cache' variable is re-declared five lines below.

    The return value of 'read' was previously completely ignored. The
    'gssize ret' variable was in fact added to squash an unused-result
    warning.

    https://bugzilla.gnome.org/show_bug.cgi?id=668497

 gi/_glib/pygiochannel.c   |	2 +-
 gi/_glib/pygmainloop.c    |	3 +--
 gi/_gobject/pygobject.c   |	2 +-
 gi/pygi-marshal-cleanup.c |	2 --
 4 files changed, 3 insertions(+), 6 deletions(-)

commit 29a30490ed51e347e8f57d2bf9af69400734eee8
Author: Stefano Facchini <stefano.facchini@gmail.com>
Date:	Thu Jan 19 18:09:07 2012 +0100

    pygmainloop: allow for extra arguments in 'quit' method

    To allow for the common syntax:

	object.connect('signal-name', main_loop.quit)

    https://bugzilla.gnome.org/show_bug.cgi?id=668288

 gi/_glib/pygmainloop.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 557a61c12c01137a0d7c679c4b053973df09d445
Author: Alexandre Rostovtsev <tetromino@gentoo.org>
Date:	Mon Dec 26 00:44:56 2011 -0500

    Fix bytearray test compatibility with python3

    https://bugs.gentoo.org/show_bug.cgi?id=321879

    https://bugzilla.gnome.org/show_bug.cgi?id=666852

 tests/test_gi.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d69e5b3c7bdb9113382fd125c256b12bff4c24d2
Author: Alberto Mardegan <mardy@users.sourceforge.net>
Date:	Mon Jan 23 12:37:26 2012 +0200

    Respect transfer-type when demarshalling GErrors

    The marshaller previously ignored "transfer full" on GError*
    arguments, causing
    crashes due to double-freeing them. This causes the
    testCallbackUserdata() test
    case to crash after the previous GError/GHashTable marshalling fix.

    https://bugzilla.gnome.org/show_bug.cgi?id=666270

 gi/pygi-argument.c |	12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 77f32d9110bfeb6dad8457f565b4c70b5998fef6
Author: Alberto Mardegan <mardy@users.sourceforge.net>
Date:	Thu Dec 15 16:12:01 2011 +0200

    Support GHashTable and GError as callback/closure arguments

    Marshalling of these types from C is already implemented, let's
    take it
    into use for calbacks and closures too.

    Add corresponding test cases.

    https://bugzilla.gnome.org/show_bug.cgi?id=666270

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/pygi-closure.c	  |    2 ++
 tests/test_everything.py |   35 +++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+)

commit 4b9dc03d0e49e9a1f4bf0f2df503bdff00d13a2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:	Mon Jan 23 13:56:02 2012 +0000

    Don't leak when marshalling GErrors to C

    Python-land GLib.GErrors are supposed to have three attributes:
    "message", "domain" and "code". If those attributes are missing,
    or they
    have the wrong types, the C GError is filled in with a message
    describing the error. The present-but-ill-typed code paths did not
    DECREF the ill-typed values.

    https://bugzilla.gnome.org/show_bug.cgi?id=666098

 gi/_glib/pyglib.c |	3 +++
 1 file changed, 3 insertions(+)

commit adcfe96d49b09bcc550653d73de196610fd5144d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:	Fri Jan 20 16:20:10 2012 +0000

    Support functions which return GError

    GStreamer has the following method:

      void gst_message_parse_error (
	  GstMessage *message,
	  GError **error,
	  gchar **debug_message);

    With this patch, we marshal the GError out parameter as a
    GObject.GError
    exception, but return it rather than throwing it. The test cases cover
    two variations on the theme of the function above (one with (transfer
    full), as in GStreamer, and another with (transfer none)) as well as a
    function with return type GError *.

    https://bugzilla.gnome.org/show_bug.cgi?id=666098

 gi/_glib/pyglib.c	 |   46
 +++++++++++++++++++++++++++++++++++-----------
 gi/_glib/pyglib.h	 |    1 +
 gi/pygi-marshal-to-py.c |   16 +++++++++++++---
 tests/test_gi.py	 |   32 ++++++++++++++++++++++++++++++++
 4 files changed, 81 insertions(+), 14 deletions(-)

commit 09f003729eac9d553a208c343c2a14d253b77d9a
Author: Alberto Mardegan <mardy@users.sourceforge.net>
Date:	Mon Jan 23 12:42:21 2012 +0200

    Fix indentation of _pygi_argument_to_object()

    Side issue in https://bugzilla.gnome.org/show_bug.cgi?id=666270

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/pygi-argument.c |	26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit c71c010be01d706f90bc200194325fd82f4071b2
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Jan 14 14:24:23 2012 +0100

    Avoid C99 syntax.

 gi/gimodule.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit c299d058c22385ececaec64c872d1dd1bc1ae17a
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Fri Jan 6 13:39:31 2012 +0100

    Connect to first action of a radio group.

 gi/overrides/Gtk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dee2f179037902a3883bd0e61ff1c350e1fd8a4f
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Jan 4 16:40:51 2012 +0100

    Use g_slist_free_full in pygi-closure.

 gi/pygi-closure.c |	3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2bee4207ab6f07dc9c0952affe72f0e304cfb624
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Jan 4 15:24:13 2012 +0100

    Avoid O(n^2) behavior when marshalling lists

    Appending requires walking the list every time: just prepend and
    reverse
    the list at the end.

    https://bugzilla.gnome.org/show_bug.cgi?id=667261

 gi/pygi-marshal-from-py.c |	8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d68455e99b1a9ebba31209b17a11317b1958678b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Tue Jan 3 16:57:40 2012 +0100

    Handle NULL as a valid case of a char** array

    Treat NULL as an empty array and add the corresponding testcase

 gi/pygi-marshal-to-py.c |    9 +++++----
 tests/test_gi.py	 |    3 +++
 2 files changed, 8 insertions(+), 4 deletions(-)

commit e3451b8e6018bb76e9992fb6af24a71725de5cfd
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Fri Dec 23 12:01:43 2011 +0100

    Branching, bump version to 3.1.0

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8d1a36cc73f5f4df091ecb289c8a7b38ec2ab605
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Mon Dec 12 18:35:30 2011 +0100

    Add notes about branching to HACKING

 HACKING |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 00030bc6f0fb961c716ed692144cd8e4bb9be7d0
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Dec 10 12:51:45 2011 +0100

    Fixed bug where GObject.property did not respect minimum and maximum
    values

    https://bugzilla.gnome.org/show_bug.cgi?id=664864

 gi/_gobject/propertyhelper.py |    2 +-
 tests/test_properties.py      |   31 +++++++++++++++++++++++++++++++
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 7b78abc6c399abd0daa4c11c644d107e1bb7b452
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Mon Dec 12 17:00:24 2011 +0100

    Remove mention of removed option --enable-docs

 HACKING |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4cba52f5b5e79b7b6212cb0795e8976a9da9f21d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Mon Dec 12 17:00:03 2011 +0100

    Fix sebp's name in NEWS

 NEWS |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c95981d0ba224a577f87998030c384b3dae3d80
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Mon Dec 12 16:20:09 2011 +0100

    Release 3.0.3

 NEWS |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 58e47fd28c5d75bb78042c8f9eb5aae84de9c64d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Mon Dec 12 16:16:44 2011 +0100

    Pre-release version bump

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 884468d4816fc976c0c0c72651e7f81d13f3f78b
Author: Manuel Quiñones <manuq@laptop.org>
Date:	Thu Dec 1 11:50:38 2011 -0300

    Convert all modifier constants to Gdk.ModifierType

    Signed-off-by: Manuel Quiñones <manuq@laptop.org>

 pygi-convert.sh |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 654711d0f940d7480d0f1cdb25a3dc9996f7a706
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Tue Nov 8 12:38:12 2011 +0100

    Convert all strings to utf-8 encoding when retrieving from TreeModel

    https://bugzilla.gnome.org/show_bug.cgi?id=663610

 gi/overrides/Gtk.py	 |   15 +++++++++++++++
 tests/compathelper.py	 |    2 ++
 tests/test_overrides.py |   31 ++++++++++++++++++++++++++++++-
 3 files changed, 47 insertions(+), 1 deletion(-)

commit 4f637212f13b197a95c824967a58496b9e3b877c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 2 14:51:24 2011 -0400

    add test for bytearray variants

 tests/test_gi.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 20ca3f129d6cc662285cce8c732b55596016aefa
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 2 14:50:42 2011 -0400

    handle NULL arrays correctly for each array type

 gi/pygi-marshal-to-py.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit ce2f780bffe44b1d4de617dcbce4b90c58b03c18
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 2 14:17:21 2011 -0400

    Revert "Revert "Fix array termination and size calculation""

    This reverts commit cfda820e8d9604c5ef2ad1161c22b20080d5daf4.

 gi/pygi-marshal-from-py.c |	6 +++++-
 gi/pygi-marshal-to-py.c   |	8 +++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 832f16f96815adc22cc3acbeb3fa969631795a29
Author: Owen W. Taylor <otaylor@fishsoup.net>
Date:	Sun Oct 30 18:08:57 2011 -0400

    pygmainloop: avoid lockups if multiple glib.MainLoop exist

    If multiple glib.MainLoop() sources exist, then we will add multiple
    watches, and when python writes a byte to the wakeup pipe, all of the
    sources will try to read it; only one will succeed and the others
    will block. Set both ends of the pipe nonblocking to avoid this.

    https://bugzilla.gnome.org/show_bug.cgi?id=663068

 gi/_glib/pygmainloop.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2fd3aa9d4ca0906a5e609845ee500ba72e358f94
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Sat Oct 29 15:08:03 2011 +0200

    Properly chain up to the class that implements a given vfunc.

    https://bugzilla.gnome.org/show_bug.cgi?id=662994

 gi/types.py	  |   22 +++++++++++++---------
 tests/test_gi.py |   20 ++++++++++----------
 2 files changed, 23 insertions(+), 19 deletions(-)

commit cfda820e8d9604c5ef2ad1161c22b20080d5daf4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.com>
Date:	Wed Nov 2 14:54:21 2011 +0100

    Revert "Fix array termination and size calculation"

    This reverts commit eef35b2df8023ffff2d195ee16c084f5cfcb6ba3.

 gi/pygi-marshal-from-py.c |	6 +-----
 gi/pygi-marshal-to-py.c   |	8 +-------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit eef35b2df8023ffff2d195ee16c084f5cfcb6ba3
Author: Holger Berndt <hb@gnome.org>
Date:	Sun Oct 30 16:36:32 2011 +0100

    Fix array termination and size calculation

    When creating an array of element type uint8 and setting it directly
    with
    memcpy(), make sure that zero-termination is respected.

    When calculating the length of a zero-terminated array of type uint8,
    fall back to strlen() instead of g_strv_length().

    https://bugzilla.gnome.org/show_bug.cgi?id=662550

 gi/pygi-marshal-from-py.c |	6 +++++-
 gi/pygi-marshal-to-py.c   |	8 +++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 4c1d9f01b8fa6702f73b290180f934250e179caa
Author: Daniel Drake <dsd@laptop.org>
Date:	Sun Oct 30 09:20:45 2011 +0000

    pygi-convert: fix for Pango.Alignment

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit e3abd76096cc9f335681c7225f452c286b9c59e2
Author: Daniel Drake <dsd@laptop.org>
Date:	Sun Oct 30 07:06:57 2011 +0000

    pygi-convert: fix for Gtk.Orientation

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 52b82c5f78ef3755388457fa9440c36ccd2dfbbf
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Oct 27 07:16:24 2011 +0200

    Add tests for calling closures

    Add checks for correct handling of closure calls.
    Regress.test_closure_one_arg() is working fine and should continue
    to do so.
    Regress.test_closure_variant() is known to not work yet, so mark
    this as EXFAIL
    for now. (See https://bugzilla.gnome.org/show_bug.cgi?id=656554)

 tests/test_everything.py |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit c7aa0e79dfb4c1092c51ae1464b8414083b4f3fc
Author: Mikkel Kamstrup Erlandsen <mikkel.kamstrup@canonical.com>
Date:	Tue Oct 4 12:28:26 2011 +0200

    fix marshaling of arrays of GVariants

    Add unit tests for marshaling of arrays of variants with all
    transfer modes. Requires latest gobject-introspection.

    Plug potential leaks of GArray data members

    Fix calling of wrong cleanup_from_py for arrays

    Simplify and fix logic for cleaning up arrays both in from_py()
    and to_py() code paths.

    https://bugzilla.gnome.org/show_bug.cgi?id=638915

    Signed-off-by: Martin Pitt <martin.pitt@ubuntu.com>

 gi/pygi-cache.c	   |	2 +-
 gi/pygi-marshal-cleanup.c |   81
 +++++++++++++++++++++++++++++----------------
 gi/pygi-marshal-from-py.c |   10 ++++--
 gi/pygi-marshal-to-py.c   |   13 ++++++--
 tests/test_gi.py	   |   14 +++++++-
 5 files changed, 85 insertions(+), 35 deletions(-)

commit c2ec4d8eb46ae2e6ee4372b2a4f9d5df0e5d82f3
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Sat Oct 22 00:20:57 2011 +0200

    Release 3.0.2

 NEWS |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 5c24760b797e985721f7fe51d52252e4dd54a417
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Oct 21 17:31:41 2011 +0200

    Fix "Returns: (skip)" method calls without (out) arguments

    When we have a method call with a skipped return value, but no
    other out
    arguments, we previously returned NULL to Python, which causes
    "SystemError:
    error return without exception set". Return None instead.

    https://bugzilla.gnome.org/show_bug.cgi?id=662383

 gi/pygi-invoke.c	  |   10 ++++++++++
 tests/test_everything.py |    8 ++++++++
 2 files changed, 18 insertions(+)

commit 585222915dc98b0e375de3db4771466278a32e81
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Oct 18 00:39:16 2011 -0400

    Do union member checks for unions that are parameters

    * before we were only doing checks if the union was an instance

    https://bugzilla.gnome.org/show_bug.cgi?id=661673

 gi/pygi-marshal-from-py.c |  121
 +++++++++++++++++++++++++--------------------
 1 file changed, 68 insertions(+), 53 deletions(-)

commit 8deaec6b9abd87f02060c9feec773d4693e89028
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Oct 19 14:35:11 2011 +0200

    Gdk overrides: Unbreak for Gdk-2.0

    Fix regression from commit 31db3ed: Gdk 2.0 did not yet have
    atom_intern(), so
    only do this for Gdk >= 3.0.

    https://launchpad.net/bugs/875399

 gi/overrides/Gdk.py |	 95
 ++++++++++++++++++++++++++-------------------------
 1 file changed, 48 insertions(+), 47 deletions(-)

commit f395fb131caf7ca550acd17138d8061926ef4f92
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Oct 14 17:19:45 2011 -0400

    unit test for checking ref count of object param in signals

    https://bugzilla.gnome.org/show_bug.cgi?id=661359

 tests/test_everything.py |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 611f58b99851328653af4930f188c33eccaa9f6f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Oct 14 16:42:32 2011 -0400

    when converting an object with transfer none, make sure the wrapper
    owns a ref

    https://bugzilla.gnome.org/show_bug.cgi?id=661359

 gi/pygi-argument.c |	10 ++++++++++
 1 file changed, 10 insertions(+)

commit 0f1eb9fa0e7aa5e7c22dabc709c0dfb469e404f1
Author: Timo Vanwynsberghe <timovwb@gmail.com>
Date:	Tue Oct 4 11:13:43 2011 +0200

    Allow GBoxed types as property

    Add the GBoxed type as valid type to the gobject property helper
    https://bugzilla.gnome.org/show_bug.cgi?id=660798

 gi/_gobject/propertyhelper.py |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit bef8d385117dd0295c9ba7567710d76fc2bb729a
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Mon Oct 10 11:24:42 2011 +0200

    Add tests for boxed properties.

 tests/test_properties.py |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit 77123ffeb1585837033848f4d5a90cfa63fdaee0
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Fri Sep 30 20:21:07 2011 +0200

    Post release bump version

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5ccfec0a1bc4c999bfa49d75383ea06d3a068c4
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Fri Sep 30 20:19:46 2011 +0200

    Release 3.0.1

 NEWS	      |    5 +++++
 configure.ac |    2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 56ac9339eb1d6950623dc4d8c3b9972874e7fa86
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 22 19:03:20 2011 -0400

    when checking instances union members are same type as parent

    * this is so we can support sending Gdk.Event members in place of
      the Event union into methods
    * we only support this if the union member has a type of GI_INTERFACE
    for now

    https://bugzilla.gnome.org/show_bug.cgi?id=659879

 gi/pygi-marshal-from-py.c |   60
 ++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 56 insertions(+), 4 deletions(-)

commit 311a4f8035a95b41bc3c0a836c32b7a5bf2d9959
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 21 21:50:48 2011 -0400

    add a floating flag to pygobjects

    * this allows us to correctly refcount when custom gobjects are
    instantiated
      via g_object_new

 gi/_gobject/gobjectmodule.c	 |    5 +++++
 gi/_gobject/pygobject-private.h |    3 +++
 gi/_gobject/pygobject.c	 |   27 ++++++++++++++++++++++++++-
 gi/_gobject/pygobject.h	 |    3 ++-
 4 files changed, 36 insertions(+), 2 deletions(-)

commit d2d29ae5845217254b9336fd8629f369cb119b25
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 21 21:13:22 2011 -0400

    Revert "Fix refcount bug by not creating python wrapper during
    gobject init stage"

    This reverts commit f6fa5dd8f39af1b8a52d7600d257400b0983e8c5.

 gi/_gobject/gobjectmodule.c |	 32 +++++++++++++++++---------------
 1 file changed, 17 insertions(+), 15 deletions(-)

commit a24c10b779f2a1b0425d56d03d59c393389cad98
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 21 21:10:00 2011 -0400

    make sure to commit the NEWS file

 NEWS |    4 ++++
 1 file changed, 4 insertions(+)

commit 2eed2940c9be099fb6305288d895265e6b35d3d2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Sep 19 13:19:57 2011 -0400

    prep for 3.0 release

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fbd58b70c2c3c1128f95a87eb4cc8313b6a401b8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 16 14:19:15 2011 -0400

    up version required of gobject-introspection to 1.29.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 225f21117b6b3546989abe22538c784291e86b2a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 16 12:26:10 2011 -0400

    fix most warnings

    * remove some unused vars
    * correctly cast vars
    * handle deprecated enums in switch statments by using default:
    * unused wanrings still remain in some places

 gi/pygi-argument.c	   |	2 +-
 gi/pygi-cache.c	   |	7 ++-----
 gi/pygi-info.c		   |	6 ++++++
 gi/pygi-invoke.c	   |	2 +-
 gi/pygi-marshal-from-py.c |   17 +++++++++--------
 gi/pygi-marshal-to-py.c   |	3 +--
 6 files changed, 20 insertions(+), 17 deletions(-)

commit 9a70f01288e1b049206d25d67938907f1b38a490
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 16 12:24:38 2011 -0400

    post release bump

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ec4020205e909ee4400650434f9ae7b89c2bde8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 18:12:01 2011 -0400

    edit HACKING file to show correct tag format

 HACKING |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e864fd05bc0adf48df9f65ab72785ebb1d0d3f0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 18:10:33 2011 -0400

    update NEWS file to prep for release

 NEWS |   35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 0da687fa699aba4f42c42a924d6754e2bd47df50
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 17:59:31 2011 -0400

    fix typo s/lenth/length

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e4861abaff64d8e7e8d1aeedf9dd1e80de8aab2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 17:48:58 2011 -0400

    fix typo in docstring

 gi/_gobject/propertyhelper.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7fcc326d64def610e5a1003cf6c7ca97023814d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 17:46:46 2011 -0400

    do not pass in len(str) to the length argument of
    gtk_test_buffer_insert* apis

    * in python 3 len(str) returns the number of characters while
    the length
      parameter is expecting the number of bytes.  It also excepts -1
      for null
      terminated string.  Since all of our strings are null terminated,
      just
      set length to that.

 gi/overrides/Gtk.py |	  6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 6f380153afb3390f7da9f4b8befb1c4ee224da17
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Sep 12 21:07:20 2011 +0200

    Switch tarball compression format to tar.xz only.

    See
    http://mail.gnome.org/archives/gnome-announce-list/2011-September/msg00031.html
    for more information.

    https://bugzilla.gnome.org/show_bug.cgi?id=659140

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11c45ac6dcb6ffad766d03bfc77f45a6d703a90d
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Thu Sep 15 14:18:57 2011 +0200

    Remove pygtk_version attribute from internal gi._gobject module.

    This used to be provided for backwards compatibility with older PyGTK
    versions. As PyGObject3 no longer provides support for static bindings
    like PyGTK, the pygtk_version attribute has become obsolete.

    https://bugzilla.gnome.org/show_bug.cgi?id=659142

 gi/_gobject/gobjectmodule.c |	  4 ----
 gi/_gobject/pygobject.h     |	  2 --
 2 files changed, 6 deletions(-)

commit 7e48fd6dfd86b7082c3fd35d25d9693c56c9665a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 15:52:18 2011 -0400

    remove overridesdir from the .pc file and add it to the gi module

    * having the variable in the .pc file caused issues parallel
    installing
      for different versions of python
    * putting it into the module allows us to give the correct directory
      based on which version of python you run the script from
    * access the var as such:
	import gi
	installdir = gi._overridesdir

 gi/__init__.py      |	  2 ++
 pygobject-3.0.pc.in |	 10 +++++++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit beea7072a5a989be47a755ac46647380d4dbd6b4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 00:11:09 2011 -0400

    fix tests to correctly construct a dummy Gtk.TargetEntry

    * structs are sometimes a pain in gi.  Simply constructing them
    using the
       the standard constructor (e.g. Gtk.TargetEntry()) will malloc
       the struct
       but not correctly initialize the fields which can cause a crash.
     * tests didn't crash before because they were sending in bogus
     data that
       somehow did not trigger the issue
     * now with the C struct array marshallers doing the right thing,
     the incorrect
       use of TargetEntry was causing a crash

    https://bugzilla.gnome.org/show_bug.cgi?id=627236

 tests/test_overrides.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 46ba7f04ef3df08e07ddda5c10f0c98bec5fa183
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 00:08:31 2011 -0400

    we now assume that C arrays of structs are flat so memcpy them
    when marshalling

    * there is no way in GI to tell if a C array is flat or an array
    of pointers
      so we assume that all arrays of simple structs and gvalues are
      flat and
      all arrays of objects and boxed structs are pointer arrays.
    * this will be removed once GI gets the ability to annotate level
    of indirection
      for arrays
    https://bugzilla.gnome.org/show_bug.cgi?id=627236

 gi/pygi-marshal-from-py.c |   35 ++++++++++++++++++++++++++++++++---
 tests/test_gi.py	   |   29 +++++++++++++++++++++++++++++
 2 files changed, 61 insertions(+), 3 deletions(-)

commit e30a41592baa942188574e5c9f99572963e2e387
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 15 00:02:34 2011 -0400

    only update the arg counts once if child arg comes before parent arg

    * if the child arg comes before the parent arg we need to update the
       argument counts and take the child arg out of the marshalling lists
       since it is handled by the parent
     * when two parents reference the same child arg as is the case with
       two arrays which have a single length argument we only want
       to update
       the count once
     * to do this we introduce the PYGI_META_ARG_CHILD_NEEDS_UPDATE
     meta type
       and only do the count update if this is set
     * APIs should keep in mind that this take extra processing so
     child args
       should really come after their parents

    https://bugzilla.gnome.org/show_bug.cgi?id=627236

 gi/pygi-cache.c |   30 ++++++++++++++++++++----------
 gi/pygi-cache.h |    9 +++++++--
 2 files changed, 27 insertions(+), 12 deletions(-)

commit f6fa5dd8f39af1b8a52d7600d257400b0983e8c5
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 14 20:26:15 2011 -0400

    Fix refcount bug by not creating python wrapper during gobject
    init stage

    * This only applys to python subclasses of GObject which are
    instantiated
       using GObject.new
     * Because we were creating the wrapper when the gobject is
     initialized
       and then again calling pygobject_new_full the wrapper would get
       ref'ed twice.
     * we could not simply Py_DECREF the wrapper due to the fact that
       non-subclassed objects (e.g. GObject.Object) instantiated via
       new do not run the same initialization code and would not have the
       extra ref
     * solution was to simply not create the wrapper during initialization
       because if it doesn't exist when pygobject_new_full is called
       it gets created and registered there
     * move the call to __init__ into pyg_object_new

    https://bugzilla.gnome.org/show_bug.cgi?id=657403

 gi/_gobject/gobjectmodule.c |	 32 +++++++++++++++-----------------
 1 file changed, 15 insertions(+), 17 deletions(-)

commit 61b64a65beee9011f8e4ed20f0a83e6630ba154f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 13 18:08:04 2011 -0400

    don't destroy just created wrapper when object is created via
    g_object_new

    https://bugzilla.gnome.org/show_bug.cgi?id=657403

 gi/_gobject/gobjectmodule.c |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93e12cc2eb7e7f2c18971da86e9c9452d3f566b7
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Aug 26 11:22:09 2011 +0200

    Remove deprecated API from pygobject.h

    https://bugzilla.gnome.org/show_bug.cgi?id=657416

 gi/_gobject/pygobject.h |   19 +------------------
 1 file changed, 1 insertion(+), 18 deletions(-)

commit e1c71092af6e2cffa36248519adfceac1874051d
Author: Marcin Owsiany <marcin@owsiany.pl>
Date:	Wed Aug 31 09:43:28 2011 +0100

    Convert gtk.TRUE/FALSE to Python True/False.

    https://bugzilla.gnome.org/show_bug.cgi?id=657785

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit 3ace5c2e2268285a5dcb39889fcb2a71bc1063bd
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Sep 2 08:37:15 2011 +0200

    Drop legacy __gobject_init__ method of GObject.Object.

    This method was used in gobject initialization at some point, but now
    using GObject.__init__() is sufficient, so let's not keep this old
    method around and let people misuse it.

    https://bugzilla.gnome.org/show_bug.cgi?id=658032

 examples/signal.py	 |    2 --
 gi/_gobject/pygobject.c |   11 -----------
 2 files changed, 13 deletions(-)

commit fcd457d1d1d8a813acb2ebfe5ee0e9aab2c9c88c
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Sep 13 12:05:30 2011 +0200

    AM_CHECK_PYTHON_LIBS does not work for lib64

    But on Windows, Python extension modules need to be explicitly
    linked to libpython.

    https://bugzilla.gnome.org/show_bug.cgi?id=658856

 configure.ac		 |    4 +++-
 gi/Makefile.am		 |    9 ++++++---
 gi/_glib/Makefile.am	 |   10 ++++++++--
 gi/_gobject/Makefile.am |    8 +++++++-
 4 files changed, 24 insertions(+), 7 deletions(-)

commit 863c087911203a8f3ebaa8e77622a3437a7cd320
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Sep 12 23:03:05 2011 +0200

    Remove common_ldflags from Makefile.am as it is no longer used.

    https://bugzilla.gnome.org/show_bug.cgi?id=658856

 Makefile.am |	  6 ------
 1 file changed, 6 deletions(-)

commit 24b920f9922e367bdb8b3e56c2f61e0c8f5cdb66
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 13 16:20:48 2011 -0400

    cast params for PyObject_IsInstance to suppress warnings

 gi/_gobject/pygobject-private.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 861369ec59b17f67151813dc2e87c6e86126b954
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 13 16:04:31 2011 -0400

    check if object is actually a PyGFlag before trying to access g_type

     * we are lucky this bit of code worked for as long as it did but when
       checking if an object is a PyGFlag we can't just rely on looking
       at the g_type field because if a regular gobject is passed in
       as is the case when you compare a long to a gflag, the gobject
       will not have a g_type field.  Accessing a non-existant field
       could at best give you a false positive and at worse read
       memory beyond the bounds of the actual structure passed in

 gi/_gobject/pygobject-private.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eea93e89fb064253bd8903c8b453daf4b3c87c2c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 13 16:03:02 2011 -0400

    fix regression - add instance type checks since Py3 no longer does
    this for us

 gi/pygi-marshal-from-py.c |   21 +++++++++++++++++++--
 1 file changed, 19 insertions(+), 2 deletions(-)

commit a4e4318b50a24a688e32579273fbcfa51d1b422a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 2 18:39:51 2011 -0400

    refactor in/out marshalling to be to_py/from_py

    * in/out make sense from a C perspective but when you get to the
       python layers it makes more sense to label them as to_py and
       from_py to denote which way we are marshalling
     * this helps clear up the difference between callbacks which
       call into python and invoked functions which call into C
     * in the callback case we marshal in values to Python objects
       and out values to C types but in the invoke case we do the
       reverse.  Dealing with to_py/from_py makes the code much more
       resuable and consistant

    https://bugzilla.gnome.org/show_bug.cgi?id=658362

 gi/Makefile.am		   |	8 +-
 gi/pygi-cache.c	   |  673 ++++++++++-----------
 gi/pygi-cache.h	   |   62 +-
 gi/pygi-invoke.c	   |  144 ++---
 gi/pygi-marshal-cleanup.c |  168 +++---
 gi/pygi-marshal-cleanup.h |  128 ++--
 gi/pygi-marshal-from-py.c | 1412
 +++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-marshal-from-py.h |  186 ++++++
 gi/pygi-marshal-in.c	   | 1412
 ---------------------------------------------
 gi/pygi-marshal-in.h	   |  186 ------
 gi/pygi-marshal-out.c	   |  768 ------------------------
 gi/pygi-marshal-out.h	   |  144 -----
 gi/pygi-marshal-to-py.c   |  768 ++++++++++++++++++++++++
 gi/pygi-marshal-to-py.h   |  144 +++++
 14 files changed, 3122 insertions(+), 3081 deletions(-)

commit 45b0fcff9e948c65a3903c32a3957802034c5e47
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 16:50:25 2011 +0200

    Examples: fix cairo-demo.py imports

 examples/cairo-demo.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3ca19fc13e6024fd04851e6f269020a92b09fa17
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 15:08:27 2011 +0200

    Fix paths and add missing overridesdir variable used in uninstalled
    pkgconfig file

    https://bugzilla.gnome.org/show_bug.cgi?id=658654

 pygobject-3.0-uninstalled.pc.in |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 6e773175b9d2f46b3df5075ec952a8c5aff3c607
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 15:08:04 2011 +0200

    Remove no longer used variables from pkgconfig files

    https://bugzilla.gnome.org/show_bug.cgi?id=658654

 pygobject-3.0-uninstalled.pc.in |    6 ------
 pygobject-3.0.pc.in		 |    5 +----
 2 files changed, 1 insertion(+), 10 deletions(-)

commit 81d388780311311d8dc4a027a59d114edf9a00fc
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:57:58 2011 +0200

    docs/Makefile.am and m4/python.m4: Python3 portability fixes

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 docs/Makefile.am |    2 +-
 m4/python.m4	  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7e692ee061406e48e4862b98a0829650b1d6d585
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:57:46 2011 +0200

    Refactor and clean Makefile.am files

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 Makefile.am		   |	2 -
 gi/Makefile.am		   |   81 ++++++++++++++++++++++--------------
 gi/_glib/Makefile.am	   |  100
 +++++++++++++++++++++++++++++----------------
 gi/_gobject/Makefile.am   |   85 ++++++++++++++++++++------------------
 gi/overrides/Makefile.am  |	4 +-
 gi/repository/Makefile.am |	4 +-
 6 files changed, 162 insertions(+), 114 deletions(-)

commit 3dd59b07d1f4a93ee1f65d6a64e1afb6f5e84232
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:57:36 2011 +0200

    Remove all PLATFORM_VERSION = 2.0 traces

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 gi/Makefile.am		   |	2 --
 gi/overrides/Makefile.am  |	1 -
 gi/repository/Makefile.am |	1 -
 3 files changed, 4 deletions(-)

commit db1e484bfa157967de55ee2e0e18a82b8e388b61
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:57:25 2011 +0200

    Remove gi/tests/ directory as all the tests now live in tests/

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 gi/tests/Makefile.am |   24 ------------------------
 gi/tests/runtests.py |   21 ---------------------
 2 files changed, 45 deletions(-)

commit b0ecbf00138ef1147e478ebf3c66f0e9b3f85dfc
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:55:25 2011 +0200

    autogen.sh: Use autoreconf instead of a custom script and honor
    ACLOCAL_FLAGS

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 Makefile.am |	  2 +-
 autogen.sh  |	 95
 +++++++----------------------------------------------------
 2 files changed, 12 insertions(+), 85 deletions(-)

commit 4671f5397003f376f00830e3fd1c214de594619f
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Sep 9 14:55:01 2011 +0200

    use improved python.m4 macros to search for Python headers and libs

    https://bugzilla.gnome.org/show_bug.cgi?id=658652

 configure.ac |    3 ++-
 m4/python.m4 |   47 +++++++++++++++++++++++++++++++++++++----------
 2 files changed, 39 insertions(+), 11 deletions(-)

commit 2c9fd09da196d35db968bff4ae63fcce2d891e69
Author: Javier Jardón <jjardon@gnome.org>
Date:	Fri Sep 9 15:38:22 2011 +0100

    Make maintiner mode enabled by default

    See
    http://blogs.gnome.org/desrt/2011/09/08/am_maintainer_mode-is-not-cool/

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b24dcb415406668931e02a1f669ef9861bb3a660
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Aug 24 09:58:10 2011 +0200

    Disable documentation for now since they are completely wrong for GI.

    https://bugzilla.gnome.org/show_bug.cgi?id=657054

 Makefile.am  |    2 +-
 configure.ac |   25 -------------------------
 2 files changed, 1 insertion(+), 26 deletions(-)

commit ecea2358a379c8ff44dff2f8f9c30a9092af1681
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Sep 7 10:38:28 2011 +0200

    Fix documentation installation directory

    https://bugzilla.gnome.org/show_bug.cgi?id=657054

 docs/Makefile.am |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8d3125c8ce9890c70400dd8a3ac273b590fe6a31
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Sep 6 22:22:11 2011 +0200

    Remove distutils based build system.

    The only reason this might be brought back to life again is when
    the whole stack can be built with Visual Studio (including
    gobject-introspection) again. Building with MinGW/MSYS can now
    be done with the usual autogen.sh/configure/make/make install dance.

    https://bugzilla.gnome.org/show_bug.cgi?id=657054

 MANIFEST.in		  |    7 -
 Makefile.am		  |   25 +--
 README.win32		  |   21 --
 dsextras.py		  |  509
 ----------------------------------------------
 pygobject_postinstall.py |    9 -
 setup.py		  |  351 --------------------------------
 6 files changed, 7 insertions(+), 915 deletions(-)

commit b82d916635aa0b732840548088a3fcfcb2e41bc4
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Sep 7 10:40:36 2011 +0200

    [gtk-demo] Fix syntax highlighter encoding issue

    With Python 3, Gtk.TextBuffer.get_text returns a str (not bytes), with
    Python 2 however we get a str (not unicode). So with Python 2 the
    tokenizer returned bogus data when ran over a demo that contains real
    UTF-8 codepoints (like rotatedtext.py for example).

    This patch thus fixes the "Gtk-CRITICAL **:
    gtk_text_iter_set_line_offset:
    assertion `char_on_line <= chars_in_line` failed" assertions when
    selecting
    the rotated text demo in the treeview.

 demos/gtk-demo/gtk-demo.py |	 3 +++
 1 file changed, 3 insertions(+)

commit 31db3ed3d233bd495c3a2f99b3fa51031bfa30c6
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Tue Sep 6 22:13:54 2011 +0200

    overrides: add constants for atoms

 gi/overrides/Gdk.py |	 49
 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit 81861bc2d664eb38d46e5c38ff755d436f040f63
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Aug 31 14:18:56 2011 +0200

    Drop pygobject_construct() from public API.

    These functions were introduced in 2005 because python objects
    could not
    "just" be instantiated using g_object_new(), but this is not true
    anymore since the introduction of new-style constructors. Hence
    this API
    has no reason to be there anymore.

    Nowadays, people who want to construct GObjects defined in python
    should
    just use g_object_new().

    https://bugzilla.gnome.org/show_bug.cgi?id=657814

 gi/_gobject/gobjectmodule.c	 |  118
 +++++++++------------------------------
 gi/_gobject/pygobject-private.h |    3 -
 gi/_gobject/pygobject.h	 |    8 ---
 3 files changed, 26 insertions(+), 103 deletions(-)

commit c4c55a98ccf9e39ed0d10ed49b66a76dc7d7c509
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Aug 31 18:00:44 2011 +0200

    post release version bump

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac5a0f46242abdd3cd98ec5f9f2bf8e5b05f3845
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Aug 31 17:58:37 2011 +0200

    Release 2.90.3

 NEWS |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 429569abddada5a3bad554de707ddf35b349936e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 25 13:57:53 2011 -0400

    support skip annotation for return values

    * this is used for things like skiping gboolean returns that are
      useful is C but useless in python

    * cleans up after skipped returns that are also marked transfer
      full
    https://bugzilla.gnome.org/show_bug.cgi?id=650135

 gi/pygi-cache.c	  |    1 +
 gi/pygi-cache.h	  |    1 +
 gi/pygi-invoke.c	  |   48
 +++++++++++++++++++++++++++++-----------------
 tests/test_everything.py |    8 ++++++++
 4 files changed, 40 insertions(+), 18 deletions(-)

commit 7a234b185b131f3eb6a6e8a8c717ddf4d508b15e
Author: Xavier Claessens <xclaesse@gmail.com>
Date:	Tue Aug 2 12:05:12 2011 +0200

    Test GPtrArray regression

 tests/test_everything.py |    3 +++
 1 file changed, 3 insertions(+)

commit 42fc9fa437102c882844a0e70a081ab08de92658
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Aug 26 10:53:43 2011 +0200

    Drop support for old constructor style.

    Bindings don't write their own constructors anymore, and the old style
    has been deprecated for ages, so let's just drop them now and make
    pygobject simpler.

    https://bugzilla.gnome.org/show_bug.cgi?id=657413

 gi/_gobject/gobjectmodule.c	 |   20 --------------------
 gi/_gobject/pygobject-private.h |    1 -
 gi/_gobject/pygobject.c	 |    1 -
 gi/_gobject/pygobject.h	 |    2 --
 gi/gimodule.c			 |   28 ----------------------------
 gi/types.py			 |    2 --
 tests/testhelpermodule.c	 |    5 -----
 7 files changed, 59 deletions(-)

commit 3961a405e1bddef22e1a5a0c7aa3ae55e4ec09ad
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Aug 26 10:45:59 2011 +0200

    Drop support for sink functions.

    Sink functions were meant to deal with floating references in a custom
    way. They are not useful anymore with the dynamic bindings.

    https://bugzilla.gnome.org/show_bug.cgi?id=642233

 gi/_gobject/gobjectmodule.c |	  1 -
 gi/_gobject/pygobject.c     |	 53 --------------------------------------
 gi/_gobject/pygobject.h     |	  4 ---
 tests/test-floating.c	     |	 59
 +++++++------------------------------------
 tests/test-floating.h	     |	 42 ++++++++----------------------
 tests/test_gobject.py	     |	 13 +++-------
 tests/testhelpermodule.c    |	 32 +++++++----------------
 7 files changed, 32 insertions(+), 172 deletions(-)

commit 631d8ef879a13492945a3e30b3df9863a4ba2f44
Author: Mike Gorse <mgorse@novell.com>
Date:	Wed Aug 24 17:30:09 2011 -0500

    Reinstate copying of in-line structs in arrays

    For arrays of in-line, non-boxed structures with (transfer full),
    _pygi_marshal_free_out_array eventually gets called and frees
    the array
    data, so we should copy it (IE, BGO#653588).

    https://bugzilla.gnome.org/show_bug.cgi?id=657120

 gi/pygi-marshal-out.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit f38511f251602e18551c04617cc2e2d42e812e1e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Aug 23 14:18:43 2011 -0400

    fix inline struct array handling

    * we now assume any non-boxed structs are inline in an array since
    there is
       no way to check in GI and this is the most common use for an
       array of
       non-boxed structs

    https://bugzilla.gnome.org/show_bug.cgi?id=657120

 gi/pygi-marshal-out.c |   23 +++++++++--------------
 tests/test_gi.py      |    8 ++++++++
 2 files changed, 17 insertions(+), 14 deletions(-)

commit d92846a5446b0dd2e69c813f56224a1966ab1a33
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Aug 23 11:30:41 2011 +0200

    [gtk-demo] printing.py: set print and error dialog transient parent

 demos/gtk-demo/demos/printing.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1aebc1565752840075027b9452fe2a67217bf53b
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Aug 23 11:28:05 2011 +0200

    [gtk-demo] printing.py: exit Gtk mainloop when done and correctly
    handle printing errors

 demos/gtk-demo/demos/printing.py |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 1f9e4486c5b84209ce0038887738fc16a4ef7da3
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Aug 23 08:05:43 2011 +0200

    [gtk-demo] show "activated" demo's in italic font in the TreeView

 demos/gtk-demo/gtk-demo.py |	 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 971d063f7a36e13ef6621db7002b00af52f6292a
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 14:52:28 2011 +0200

    [gtk-demo] source colorizer: Python3 does not have the BACKQUOTE
    token, so simply remove it

 demos/gtk-demo/gtk-demo.py |	 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit c2979a37d6d505095b6e55789150a6498d95819d
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 14:22:18 2011 +0200

    [gtk-demo] In Python3, GLib.file_get_contents returns a bytes object
    but Gtk.TextBuffer.insert expects a string.

    Fixed by using codes.open() as hinted in
    http://docs.python.org/dev/howto/pyporting.html#text-files
    section "If pre-2.6 compatibility is needed" (because configure.ac
    is still happy with Python 2.5.2).

 demos/gtk-demo/gtk-demo.py |	 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 9ea56535f35abbea4cd977dea4c89247e4b01694
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 12:30:24 2011 +0200

    [gtk-demo] images.py: fix 'Insensitive 'button mnenomic

 demos/gtk-demo/demos/images.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7829dae1cdb8697a19c2b5e158ef0e08f6c2558b
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 10:38:04 2011 +0200

    [gtk-demo] printing.py: fix Pango.EllipsizeType > Pango.EllipsizeMode
    & get_pixel_size

 demos/gtk-demo/demos/printing.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 07f0274301d77d9bf62b49a14b059d9a52afb445
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 10:37:08 2011 +0200

    [gtk-demo] printing.py: fix text file loading

 demos/gtk-demo/demos/printing.py |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 135148a4c35aac1d132b0b8fa3adbf1fdcdb3a24
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 10:20:35 2011 +0200

    [gtk-demo] pixbuf.py: fix image loading

 demos/gtk-demo/demos/pixbuf.py |   25 +++++++++++--------------
 1 file changed, 11 insertions(+), 14 deletions(-)

commit a93cae2c80e30a408f86e7e6c4d15a538011a189
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 10:10:02 2011 +0200

    [gtk-demo] images.py: fix logo loading

 demos/gtk-demo/demos/images.py |   70
 +++++++++++++++++-----------------------
 1 file changed, 29 insertions(+), 41 deletions(-)

commit eddc0824e0e4c156fca5de05bdeb600c534d4b24
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Aug 24 12:19:21 2011 +0200

    [gtk-demo] appwindow.py: set AboutDialog parent

 demos/gtk-demo/demos/appwindow.py |	7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 7fe10a5b33148b1f029f3d34f76b7f880c1c2e7a
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 07:58:25 2011 +0200

    [gtk-demo] appwindow.py: fix logo loading

 demos/gtk-demo/demos/appwindow.py |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 62fda288c1c37167c589e8e9d49ed625f770a98a
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 07:57:31 2011 +0200

    [gtk-demo] appwindow.py: fix callback signatures

 demos/gtk-demo/demos/appwindow.py |	6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 87e9ab4d3a0aac4f4710aa0f8af0a1736f781ad9
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 07:48:28 2011 +0200

    [gtk-demo] fix glib vs GLib usage

 demos/gtk-demo/demos/Icon View/iconviewbasics.py |    2 +-
 demos/gtk-demo/demos/appwindow.py		  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d29cad6976a80862e1fc590d3e7d190e8a234866
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Aug 24 12:19:02 2011 +0200

    [gtk-demo] iconviewedit.py: fix for Gdk.color_parse API breakage
    caused by improved GDK overrides

 demos/gtk-demo/demos/Icon View/iconviewedit.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f29d3a85a275a39e8481484779264b0dea1160ab
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Mon Aug 22 07:25:32 2011 +0200

    [gtk-demo] optimize source colorizer by only preparing iters for
    known colorized tokens

 demos/gtk-demo/gtk-demo.py |	20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit ecd1eb00b19733da3f2e3d7935792378f34cab19
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 18:31:20 2011 +0200

    [gtk-demo] small formatting fixes

 demos/gtk-demo/demos/Entry/entry_buffer.py	  |    1 +
 demos/gtk-demo/demos/Entry/entry_completion.py   |    1 +
 demos/gtk-demo/demos/Icon View/iconviewbasics.py |    8 ++++----
 demos/gtk-demo/demos/assistant.py		  |    1 +
 demos/gtk-demo/demos/builder.py		  |    4 +++-
 demos/gtk-demo/demos/button_box.py		  |    1 +
 demos/gtk-demo/demos/clipboard.py		  |    1 +
 demos/gtk-demo/demos/colorselector.py		  |    1 +
 demos/gtk-demo/demos/combobox.py		  |    1 +
 demos/gtk-demo/demos/drawingarea.py		  |    4 +++-
 demos/gtk-demo/demos/test.py			  |    2 ++
 11 files changed, 19 insertions(+), 6 deletions(-)

commit c42cb4da399ff5732f4ca732b85134de796a60fa
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 18:30:50 2011 +0200

    [gtk-demo] remove "is_fully_bound" from demos

 demos/gtk-demo/demos/Entry/entry_buffer.py	|    2 --
 demos/gtk-demo/demos/Entry/entry_completion.py |    2 --
 demos/gtk-demo/demos/appwindow.py		|    3 ---
 demos/gtk-demo/demos/assistant.py		|    2 --
 demos/gtk-demo/demos/builder.py		|    2 --
 demos/gtk-demo/demos/button_box.py		|    2 --
 demos/gtk-demo/demos/clipboard.py		|    2 --
 demos/gtk-demo/demos/colorselector.py		|    2 --
 demos/gtk-demo/demos/combobox.py		|    2 --
 demos/gtk-demo/demos/drawingarea.py		|    2 --
 demos/gtk-demo/demos/test.py			|    1 -
 11 files changed, 22 deletions(-)

commit cad6a62c63f455f0b1315465a9cd71c0f02b12a5
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 18:26:31 2011 +0200

    [gtk-demo] add source colorizer loosely based on PyGTK's pygtk-demo
    and GTK+'s gtk-demo code

 demos/gtk-demo/gtk-demo.py |  116
 ++++++++++++++++++++++++++++++++++++++------
 1 file changed, 101 insertions(+), 15 deletions(-)

commit 250c36f4a8352ff1b31c1c85b156d3e803d4b8ef
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 15:08:15 2011 +0200

    [gtk-demo] remove C-isms

 demos/gtk-demo/gtk-demo.py |	28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit cf35fe8e259e786d0fa21b08b1f5c64c9bb0a84e
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 14:54:39 2011 +0200

    [gtk-demo] fix text on info tab to be more like GTK+'s gtk-demo

 demos/gtk-demo/gtk-demo.py |	 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 241827208e25c72a990d8edd95a3b879470d6409
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 14:40:56 2011 +0200

    [gtk-demo] remove duplicate storage of demos by only storing them
    in a TreeStore subclass

    This also moves demos loading code into the TreeStore subclass and
    demo loading code into the Demo class

 demos/gtk-demo/gtk-demo.py |  151
 ++++++++++++++++++++------------------------
 1 file changed, 70 insertions(+), 81 deletions(-)

commit 58797c355a08a35375988881a17958bb42ad54bb
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 14:40:00 2011 +0200

    [gtk-demo] make GtkDemoApp a Gtk.Window subclass and adapt main()
    to demonstrate the GLib.MainLoop

 demos/gtk-demo/gtk-demo.py |	43
 ++++++++++++++++++++++++++-----------------
 1 file changed, 26 insertions(+), 17 deletions(-)

commit 1e4fc1ea54527cff78f6c633db39e9a0bd3c64d2
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 11:46:17 2011 +0200

    [gtk-demo] correctly load demo code when cwd != demos/gtk-demo/

 demos/gtk-demo/gtk-demo.py |	39 +++++++++++++++++++++++----------------
 1 file changed, 23 insertions(+), 16 deletions(-)

commit 6ffc999fbd4c9990fb5bde53ddd46d139b53245e
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 11:02:35 2011 +0200

    [gtk-demo] drawingarea: fix labels

 demos/gtk-demo/demos/drawingarea.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9fd3986affe11cbc5a816adcccdc56d0592f3618
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 09:57:31 2011 +0200

    [gtk-demo] fix imports

 demos/gtk-demo/demos/Icon View/iconviewbasics.py |    6 ++++--
 demos/gtk-demo/demos/appwindow.py		  |    9 ++++++---
 demos/gtk-demo/gtk-demo.py			  |    8 ++++----
 3 files changed, 14 insertions(+), 9 deletions(-)

commit 9f314babfdee3b82799e00ea003972b0bbe6a8d5
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Aug 19 10:07:14 2011 +0200

    [gtk-demo] fix shebang

 demos/gtk-demo/gtk-demo.py |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01142060ae7d71a8a1f7d3e9bbc6f52e65f01c8d
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Aug 19 12:27:04 2011 +0200

    Added support for __setitem__ to TreeModel and support for slices
    to TreeModelRow

    https://bugzilla.gnome.org/show_bug.cgi?id=656891

 gi/overrides/Gtk.py	 |   26 +++++++++++++++++++--
 tests/test_overrides.py |   57
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 81 insertions(+), 2 deletions(-)

commit d6da96c65b2ed3cda238886990a624fbc31f6987
Author: Olav Vitters <olav@vitters.nl>
Date:	Wed Aug 24 16:31:12 2011 +0200

    Convert ACCEL_* constants into Gtk.AccelFlags.

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 0841d41698302abb5d987849a5874252564ed428
Author: Olav Vitters <olav@vitters.nl>
Date:	Wed Aug 24 16:22:17 2011 +0200

    Convert TREE_VIEW_DROP_* constants into Gtk.TreeViewDropPosition

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 37b0d0f9dc3d485829cae6e50da369fdea91a2d1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 18 14:06:32 2011 -0400

    post commit version bump

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e51efc50835a14e0418cc27cc928c52d1aa6a3cf
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 18 14:02:30 2011 -0400

    release 2.90.2

 NEWS |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 74c727b53fcf64f465ee77b5a1ea04a69ca90968
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 18 13:50:51 2011 -0400

    remove tests that were removed from gi

 tests/test_gi.py |   11 -----------
 1 file changed, 11 deletions(-)

commit 11ea24dd30d8eeca11c8433c6bd75b06e52ae1ef
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 18 13:48:57 2011 -0400

    don't calculate item_size using is_pointer

     * is_pointer is poorly defined and cacluating item_size for
       arrays causes a crash in the tests because of this
     * disregaurd is_pointer when cacluating item sizes

 gi/pygi-info.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 493b4a21dd162d78cf572b548b58ba6a9ff22971
Author: Timo Vanwynsberghe <timovwb@gmail.com>
Date:	Wed Jul 6 01:50:31 2011 +0200

    Updated signal example to use GObject introspection

    https://bugzilla.gnome.org/show_bug.cgi?id=654162

 examples/signal.py |	 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 0332010e704e253380e993874eab9dd122e59a7e
Author: Timo Vanwynsberghe <timovwb@gmail.com>
Date:	Wed Jul 6 01:54:50 2011 +0200

    Updated properties example to use GObject introspection

    https://bugzilla.gnome.org/show_bug.cgi?id=654162

 examples/properties.py |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit c39f4555ebd703651eca6f978ed9870655b737f0
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Aug 12 22:55:02 2011 +0200

    Add override for GLib.Variant.split_signature()

    This is useful for e. g. iterating over method parameters which are
    passed as a
    single Variant. In particular we will need it for automatically
    generating
    introspection XML for exported DBus server objects.

 gi/overrides/GLib.py	 |   50
 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   22 +++++++++++++++++++++
 2 files changed, 72 insertions(+)

commit 735f98d83c1c19df7457aa32a378e8c80cf2831f
Author: Timo Vanwynsberghe <timovwb@gmail.com>
Date:	Mon Aug 15 18:58:31 2011 +0200

    [pygi-convert.sh] Handle the import of pygtk and require Gtk 3.0

    https://bugzilla.gnome.org/show_bug.cgi?id=654001

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit d0a96a0a75f2bc969522abce2d326ef440cf143a
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Mon Aug 15 13:12:49 2011 +0200

    Install pygobject.h again.

    This is needed by libpeas.

 gi/_gobject/Makefile.am	 |    5 ++++-
 pygobject-3.0-uninstalled.pc.in |    4 ++--
 pygobject-3.0.pc.in		 |    6 +++---
 3 files changed, 9 insertions(+), 6 deletions(-)

commit 081dc2eb03b677eac9f08d3ad05deecc7c51554c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Aug 14 11:20:15 2011 -0400

    update the doap file

 pygobject.doap |   26 ++++++++++++++------------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit 762a36d2343bc39a502507d600fd1b9db9649dae
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Aug 14 11:13:25 2011 -0400

    prerelease bump

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d3f85a61ec4b1a1d04838f73dc8d862258150048
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Aug 14 10:13:37 2011 -0400

    get things ready for release

 NEWS |  194
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 194 insertions(+)

commit ffd057649380d4249c1c52e1225e3646f3994bc6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Aug 14 05:26:18 2011 -0400

    pass exta keywords to the Box constructor

 gi/overrides/Gtk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cadbd4142bd0045368b5123d4b0a1876bdd5d798
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Aug 13 11:03:07 2011 -0400

    add (Tree|List)Store set method override

 gi/overrides/Gtk.py	 |   50 +++++++++++++++++++++++
 tests/test_overrides.py |  102
 +++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 149 insertions(+), 3 deletions(-)

commit 9ee9b22bd95e44bd2eca26e7bf3b0a9a988700c5
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Aug 13 09:19:29 2011 -0400

    add test for object arrays

 tests/test_everything.py |    6 ++++++
 1 file changed, 6 insertions(+)

commit c9d9ffd0380878792cbdb13dec4e53be897e5fbc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Aug 13 08:46:18 2011 -0400

    only support C pointer arrays for structs and objects

    * There is no way to know if an array of structs or objects are
    pointer arrays
      or flat arrays.  Since pointer arrays are the most useful and
      prevelant
      it has been decided to only support those arrays

 gi/pygi-marshal-out.c |    2 +-
 tests/test_gi.py      |    8 --------
 2 files changed, 1 insertion(+), 9 deletions(-)

commit b12379de1790b72d51883bf7b63c892639a892e7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Aug 13 06:31:52 2011 -0400

    revert Gtk.Window override because it causes issues with subclasses

 gi/overrides/Gtk.py |	  9 ---------
 1 file changed, 9 deletions(-)

commit 3e64a62d6d7f9e9d2820aad54187ef9c34710a1f
Author: Jonathan Matthew <jonathan@d14n.org>
Date:	Thu Apr 7 21:05:32 2011 +1000

    take GIL in _pygi_invoke_closure_free (bug #647016)

 gi/pygi-closure.c |	3 +++
 1 file changed, 3 insertions(+)

commit f8de9b8615f5dc30f492781d792aef5fc1e9ab73
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:41:24 2011 -0300

    Add a default parameter to GtkTreeModel.filter_new

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gtk.py |	  3 +++
 1 file changed, 3 insertions(+)

commit 583d0b3c6b53712128d7c2d5f075000a2a76ae5f
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:40:12 2011 -0300

    Add vbox/action_area properties

    Accessing vbox/action_area directly creates segmentation fault,
    avoid that by mapping the fields to their getters for PyGTK
    API compatibility

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gtk.py |	  3 +++
 1 file changed, 3 insertions(+)

commit 017fdfc1dd06259006719e02ffa48883cee01ffd
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:39:41 2011 -0300

    Add a couple of constructors

    This is for PyGTK compatibility, so that gtk.HBox(True, 2) etc
    works.

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gtk.py |	 40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit af8bc9d5cdba48a7ee728ccb7ea9039df3ecceba
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:38:30 2011 -0300

    Do not always pass in user_data to callbacks.

    This keeps API compatibility with PyGTK and avoids sending
    in user_data if it's None.

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gtk.py |	 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 7914d814350af1a18bdeda64f049c8e9a68d1d18
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:38:20 2011 -0300

    Add a default detail value for Widget.render_icon

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gtk.py |	  3 +++
 1 file changed, 3 insertions(+)

commit 5b1c875269b7979caae97e84919a690a34d92f29
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 00:36:20 2011 -0300

    Add an override for Gdk.color_parse()

    Change Gdk.color_parse() to not return a tuple, instead just
    return the created color or None if it wasn't possible to parse
    the name into a color.

    This keeps compatibility with PyGTK but breaks the current API.

    https://bugzilla.gnome.org/show_bug.cgi?id=653462

 gi/overrides/Gdk.py |	  8 ++++++++
 1 file changed, 8 insertions(+)

commit 187a2932bbf1e724f759ff3ed3392fc7341c6aa8
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Mon Aug 8 12:06:18 2011 +0200

    Support function calling with keyword arguments in invoke.

    https://bugzilla.gnome.org/show_bug.cgi?id=625596

 gi/pygi-cache.c	  |   39 +++++++++++
 gi/pygi-cache.h	  |    4 ++
 gi/pygi-invoke.c	  |  162
 ++++++++++++++++++++++++++++++++++++++++++++--
 gi/types.py		  |   12 ++--
 tests/test_everything.py |    2 +-
 tests/test_gi.py	  |   58 +++++++++++++++++
 6 files changed, 265 insertions(+), 12 deletions(-)

commit e5df32ffbf37481dbb6a70c4d4e7b7b9778c5549
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Aug 13 04:13:28 2011 -0400

    remove references to deprecated GI_INFO_TYPE_ERROR_DOMAIN

 gi/pygi-info.c |    5 -----
 1 file changed, 5 deletions(-)

commit 745001178fc72be5626c7211366d694f41162987
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Aug 11 15:11:42 2011 +0200

    Fix gobject vs. gi.repository warning

    Check the warning earlier and fix the operator, so that it actually
    works. Also
    update the warning to explain how to fix the problem.

 gi/_gobject/__init__.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 25d2d05cba05414cd4551e0e06f6286a9b97a509
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 15:46:31 2011 -0400

    make GObject and GLib able to take overrides

    * derive directly from DynamicModule instead of InterfaceModule

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/importer.py |   11 +++---
 gi/module.py	|  118
 ++++++++++++++++++++++++++++----------------------------
 2 files changed, 64 insertions(+), 65 deletions(-)

commit 698b2284e29c0f699198cf6a22eeb0e399daba6e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 15:45:09 2011 -0400

    avoid dependency issue by importing the internal gobject

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b068ebe59884ebd9aeb4425dc80cdff73a66fb1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 14:13:02 2011 -0400

    fix tests to use the new GLib module

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 tests/test_mainloop.py   |    7 +++----
 tests/test_option.py	  |    3 ++-
 tests/test_source.py	  |   24 +++++++++++-------------
 tests/test_subprocess.py |   12 +++++-------
 tests/test_thread.py	  |   10 ++++------
 tests/test_uris.py	  |    4 ++--
 6 files changed, 27 insertions(+), 33 deletions(-)

commit 191ef79315f8a5641699536fde58da18e23ef904
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 14:11:53 2011 -0400

    add DynamicGLibModule which works like DynamicGObjectModule

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/importer.py |    7 +++++--
 gi/module.py	|   32 +++++++++++++++++++++++++++++---
 2 files changed, 34 insertions(+), 5 deletions(-)

commit fbd4a8263260c187211799454c08b1e55e2cb998
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 12:27:41 2011 -0400

    refactor, add objects and types to the correct internal module

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/_glib/pygiochannel.c     |	 38 +++++++++++++++++++-------------------
 gi/_glib/pygmaincontext.c   |	  2 +-
 gi/_glib/pygmainloop.c      |	  4 ++--
 gi/_glib/pygoptioncontext.c |	  4 ++--
 gi/_glib/pygoptiongroup.c   |	  4 ++--
 gi/_glib/pygsource.c	     |	 14 +++++++-------
 gi/_glib/pygspawn.c	     |	 14 +++++++-------
 7 files changed, 40 insertions(+), 40 deletions(-)

commit 7431b49a161df9178c55b814d3adff992ac2d722
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 12:26:32 2011 -0400

    rename the pyglib shared library so we don't load the old one

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/Makefile.am		 |    2 +-
 gi/_glib/Makefile.am	 |   10 +++++-----
 gi/_gobject/Makefile.am |    2 +-
 3 files changed, 7 insertions(+), 7 deletions(-)

commit b8700451acd4a19b59b64fc8641fca748d2189e2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 11:20:09 2011 -0400

    refactor tests to only use PyGObject 3 syntax

    * for PyGObject 3 we want to discourage the use of legacy
       interfaces
     * Using interfaces like from gi.repository import GObject makes
       sure that the internal _gobject module is loaded and not
       PyGObject 2's gobject module which would cause the application
       to not work correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 tests/runtests-windows.py |	4 +-
 tests/test_gdbus.py	   |   12 ++---
 tests/test_gi.py	   |	4 +-
 tests/test_gobject.py	   |   31 ++++++------
 tests/test_interface.py   |   16 +++---
 tests/test_mainloop.py    |	3 +-
 tests/test_overrides.py   |	8 +--
 tests/test_properties.py  |  124
 ++++++++++++++++++++++-----------------------
 tests/test_signal.py	   |   98 +++++++++++++++++------------------
 tests/test_source.py	   |	5 +-
 tests/test_subprocess.py  |	3 +-
 tests/test_thread.py	   |	5 +-
 tests/test_unknown.py	   |	8 +--
 tests/testhelpermodule.c  |	2 +-
 tests/testmodule.py	   |   10 ++--
 15 files changed, 169 insertions(+), 164 deletions(-)

commit c980dae21468fe073cc8782608148c346bb90ad7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 11:16:00 2011 -0400

    refactor the internal _glib module to import correct modules

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/_glib/__init__.py  |    3 ++-
 gi/_glib/glibmodule.c |   10 +++++-----
 gi/_glib/option.py    |    4 ++--
 gi/_glib/pyglib.c     |   18 +++++++++---------
 4 files changed, 18 insertions(+), 17 deletions(-)

commit 65ac35cca8d24f4c133991e1c6ac02f49416a9a4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 11:10:46 2011 -0400

    refactor to use the new internal _glib and _gobject modules

    * use relative imports instead of aboslute
     * fix the C imports to import the internal _gobject libs
     * add a check to see if the PyGObject 2 gobject module
       was already imported

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/_gobject/__init__.py       |   20 +++++++++++++-------
 gi/_gobject/constants.py      |    3 +--
 gi/_gobject/gobjectmodule.c   |    2 +-
 gi/_gobject/propertyhelper.py |   11 +++++------
 gi/_gobject/pygobject.c       |   16 ++++++++--------
 gi/_gobject/pygobject.h       |    2 +-
 6 files changed, 29 insertions(+), 25 deletions(-)

commit 59ed1289f76bc287443b3974710ea0da3e2cc8cc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 11:07:10 2011 -0400

    refactor gi module to import and use internal _gobject module

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 gi/importer.py		  |    2 --
 gi/module.py		  |   31 ++++++++++++++++---------------
 gi/overrides/Gtk.py	  |    2 +-
 gi/overrides/__init__.py |    6 +++---
 gi/pygobject-external.h  |    2 +-
 gi/types.py		  |   12 ++++++------
 6 files changed, 27 insertions(+), 28 deletions(-)

commit 6b9d738d78c6ac45d49f00402c89356887555069
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 22 11:02:49 2011 -0400

    move the static bits internal to gi and refactor build files

    * the glib module now becomes the gi._glib module
    * the gobject module now becomes the gi._gobject module
    * we do this so we can install in parallel with PyGObject 2

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 Makefile.am			 |    2 +-
 configure.ac			 |    6 +-
 gi/Makefile.am			 |    8 +-
 gi/_glib/Makefile.am		 |   58 +
 gi/_glib/__init__.py		 |   25 +
 gi/_glib/glibmodule.c		 |  969 ++++++++++++++
 gi/_glib/option.py		 |  358 ++++++
 gi/_glib/pygiochannel.c	 |  764 ++++++++++++
 gi/_glib/pygiochannel.h	 |   29 +
 gi/_glib/pyglib-private.h	 |   49 +
 gi/_glib/pyglib-python-compat.h |  245 ++++
 gi/_glib/pyglib.c		 |  633 ++++++++++
 gi/_glib/pyglib.h		 |   83 ++
 gi/_glib/pygmaincontext.c	 |  126 ++
 gi/_glib/pygmaincontext.h	 |   40 +
 gi/_glib/pygmainloop.c		 |  360 ++++++
 gi/_glib/pygmainloop.h		 |   36 +
 gi/_glib/pygoptioncontext.c	 |  337 +++++
 gi/_glib/pygoptioncontext.h	 |   39 +
 gi/_glib/pygoptiongroup.c	 |  298 +++++
 gi/_glib/pygoptiongroup.h	 |   42 +
 gi/_glib/pygsource.c		 |  725 +++++++++++
 gi/_glib/pygsource.h		 |   39 +
 gi/_glib/pygspawn.c		 |  264 ++++
 gi/_glib/pygspawn.h		 |   32 +
 gi/_gobject/Makefile.am	 |   71 ++
 gi/_gobject/__init__.py	 |  117 ++
 gi/_gobject/constants.py	 |   83 ++
 gi/_gobject/ffi-marshaller.c	 |  194 +++
 gi/_gobject/ffi-marshaller.h	 |   31 +
 gi/_gobject/gobjectmodule.c	 | 2638
 +++++++++++++++++++++++++++++++++++++++
 gi/_gobject/propertyhelper.py	 |  312 +++++
 gi/_gobject/pygboxed.c		 |  234 ++++
 gi/_gobject/pygboxed.h		 |   27 +
 gi/_gobject/pygenum.c		 |  366 ++++++
 gi/_gobject/pygenum.h		 |   27 +
 gi/_gobject/pygflags.c		 |  485 +++++++
 gi/_gobject/pygflags.h		 |   27 +
 gi/_gobject/pyginterface.c	 |  122 ++
 gi/_gobject/pyginterface.h	 |   40 +
 gi/_gobject/pygobject-private.h |  241 ++++
 gi/_gobject/pygobject.c	 | 2397
 +++++++++++++++++++++++++++++++++++
 gi/_gobject/pygobject.h	 |  667 ++++++++++
 gi/_gobject/pygparamspec.c	 |  404 ++++++
 gi/_gobject/pygparamspec.h	 |   31 +
 gi/_gobject/pygpointer.c	 |  198 +++
 gi/_gobject/pygpointer.h	 |   27 +
 gi/_gobject/pygtype.c		 | 1844 +++++++++++++++++++++++++++
 gi/_gobject/pygtype.h		 |   28 +
 glib/Makefile.am		 |   61 -
 glib/__init__.py		 |   25 -
 glib/glibmodule.c		 |  969 --------------
 glib/option.py			 |  358 ------
 glib/pygiochannel.c		 |  764 ------------
 glib/pygiochannel.h		 |   29 -
 glib/pyglib-private.h		 |   49 -
 glib/pyglib-python-compat.h	 |  245 ----
 glib/pyglib.c			 |  633 ----------
 glib/pyglib.h			 |   83 --
 glib/pygmaincontext.c		 |  126 --
 glib/pygmaincontext.h		 |   40 -
 glib/pygmainloop.c		 |  360 ------
 glib/pygmainloop.h		 |   36 -
 glib/pygoptioncontext.c	 |  337 -----
 glib/pygoptioncontext.h	 |   39 -
 glib/pygoptiongroup.c		 |  298 -----
 glib/pygoptiongroup.h		 |   42 -
 glib/pygsource.c		 |  725 -----------
 glib/pygsource.h		 |   39 -
 glib/pygspawn.c		 |  264 ----
 glib/pygspawn.h		 |   32 -
 gobject/Makefile.am		 |   73 --
 gobject/__init__.py		 |  117 --
 gobject/constants.py		 |   83 --
 gobject/ffi-marshaller.c	 |  194 ---
 gobject/ffi-marshaller.h	 |   31 -
 gobject/gobjectmodule.c	 | 2638
 ---------------------------------------
 gobject/propertyhelper.py	 |  312 -----
 gobject/pygboxed.c		 |  234 ----
 gobject/pygboxed.h		 |   27 -
 gobject/pygenum.c		 |  366 ------
 gobject/pygenum.h		 |   27 -
 gobject/pygflags.c		 |  485 -------
 gobject/pygflags.h		 |   27 -
 gobject/pyginterface.c		 |  122 --
 gobject/pyginterface.h		 |   40 -
 gobject/pygobject-private.h	 |  241 ----
 gobject/pygobject.c		 | 2397
 -----------------------------------
 gobject/pygobject.h		 |  667 ----------
 gobject/pygparamspec.c		 |  404 ------
 gobject/pygparamspec.h		 |   31 -
 gobject/pygpointer.c		 |  198 ---
 gobject/pygpointer.h		 |   27 -
 gobject/pygtype.c		 | 1844 ---------------------------
 gobject/pygtype.h		 |   28 -
 tests/Makefile.am		 |    2 +-
 96 files changed, 16172 insertions(+), 16175 deletions(-)

commit f0d2ddcf7e61c36f79a9adf8ccc53bf3db9349d3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 18:46:31 2011 -0400

    remove pygtk.py

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 Makefile.am |	  5 ----
 pygtk.py    |	 95
 -----------------------------------------------------------
 2 files changed, 100 deletions(-)

commit 75e9f7d80d9224c05e6063b88479f1baee48c489
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 18:41:41 2011 -0400

    introspection is no longer optional

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 Makefile.am	     |	  8 +-------
 configure.ac	     |	 43 +++++++++++++++++--------------------------
 gi/pygi.h	     |	 37 -------------------------------------
 gobject/Makefile.am |	  5 +----
 tests/Makefile.am   |	  7 +------
 5 files changed, 20 insertions(+), 80 deletions(-)

commit d862168d6a82edd59547d39f5b0ab8279b1e511c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 18:28:50 2011 -0400

    up platform version to 3.0

    https://bugzilla.gnome.org/show_bug.cgi?id=642048

 Makefile.am			 |    2 +-
 configure.ac			 |    4 ++--
 pygobject-2.0-uninstalled.pc.in |   18 ------------------
 pygobject-2.0.pc.in		 |   22 ----------------------
 pygobject-3.0-uninstalled.pc.in |   18 ++++++++++++++++++
 pygobject-3.0.pc.in		 |   22 ++++++++++++++++++++++
 6 files changed, 43 insertions(+), 43 deletions(-)

commit 5189b360ccddbbaee267ce857968fbf1aafdd07a
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Aug 11 09:53:15 2011 +0200

    [gi] Handle GVariants from callback return values

    Callbacks still use GIArgument, add missing GVariant support for
    return types.

 gi/pygi-argument.c |	 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 18a240cc492d2e5ebe2709a0d7155e27c8ff9e63
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Aug 10 14:11:10 2011 +0200

    Handle GVariants for callback arguments

    Callbacks still use GIArgument, add missing GVariant support. This
    is the
    equivalent of what commit 9d5604220bd56 did for pygi_marshall_*().

 gi/pygi-argument.c |	 7 +++++++
 1 file changed, 7 insertions(+)

commit aa820d6ce2fee83e61e3e9de7c6b7d2452e2847d
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Mon Aug 8 01:58:10 2011 +0200

    [gi] Fix crash: check return value of
    _invoke_state_init_from_callable_cache() before continuing.

 gi/pygi-invoke.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit eaad9f3c71cedfe28ff2d2bb05ea6c64e323715f
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Fri Aug 5 21:03:33 2011 +0200

    [gi] Pass gtype as first parameter to vfuncs (instead of using
    kwargs).

 gi/pygi-invoke.c |   32 ++++++++++++++++++--------------
 gi/types.py	  |    2 +-
 2 files changed, 19 insertions(+), 15 deletions(-)

commit 76edfd0d5776f61c92c84fd9fb8dcc246c580e93
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 18:21:51 2011 -0400

    remove codegen

 Makefile.am			  |    2 +-
 codegen/Makefile.am		  |   33 -
 codegen/README.defs		  |  351 --------
 codegen/__init__.py		  |   16 -
 codegen/argtypes.py		  | 1043 -----------------------
 codegen/code-coverage.py	  |   44 -
 codegen/codegen.py		  | 1722
 --------------------------------------
 codegen/createdefs.py		  |   17 -
 codegen/definitions.py		  |  575 -------------
 codegen/defsconvert.py		  |  132 ---
 codegen/defsgen.py		  |  737 ----------------
 codegen/defsparser.py		  |  153 ----
 codegen/docextract.py		  |  461 ----------
 codegen/docextract_to_xml.py	  |  142 ----
 codegen/docgen.py		  |  766 -----------------
 codegen/h2def.py		  |  631 --------------
 codegen/mergedefs.py		  |   26 -
 codegen/missingdefs.py		  |   17 -
 codegen/mkskel.py		  |   89 --
 codegen/override.py		  |  285 -------
 codegen/pygobject-codegen-2.0.in |   11 -
 codegen/reversewrapper.py	  |  912 --------------------
 codegen/scanvirtuals.py	  |   54 --
 codegen/scmexpr.py		  |  143 ----
 configure.ac			  |    5 -
 pygobject-2.0-uninstalled.pc.in  |    1 -
 pygobject-2.0.pc.in		  |    1 -
 27 files changed, 1 insertion(+), 8368 deletions(-)

commit bf284c7c47c3e52ab4d8700327a170903e9ebad2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 11:04:58 2011 -0400

    remove some left over ifdefs to complete merge of the invoke-rewrite
    branch

 gi/pygi-cache.h   |	2 --
 gi/pygi-info.c    |	2 --
 gi/pygi-private.h |	5 +----
 gi/pygi.h	   |	2 --
 4 files changed, 1 insertion(+), 10 deletions(-)

commit 8c653ec3033fab47c4bb4071b5732a349357141f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 10:59:45 2011 -0400

    rename pygi-invoke-ng to pygi-invoke

 gi/Makefile.am      |	  3 +-
 gi/pygi-invoke-ng.c |	464
 ---------------------------------------------------
 gi/pygi-invoke.c    |	464
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 466 insertions(+), 465 deletions(-)

commit 62d59fa2c2b31d7a3cac8996d58234d4b13bb19f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 10:56:36 2011 -0400

    make invoke-ng the only invoker

 configure.ac	  |   11 -
 gi/Makefile.am   |   10 +-
 gi/pygi-invoke.c | 1030
 ------------------------------------------------------
 3 files changed, 1 insertion(+), 1050 deletions(-)

commit 2937cfe5bb7122dd3783c7919294d6a34a3dfc05
Merge: 519e556 917ea2d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 10:45:18 2011 -0400

    Merge branch 'master' into invoke-rewrite

commit 519e556dc1e5874e1668bad93043fb9258c7ee79
Merge: bab7e88 38cca3c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 10:37:20 2011 -0400

    Merge branch 'master' into invoke-rewrite

commit bab7e88251bffcd360186c6dedc26be8eb077084
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jul 18 10:35:10 2011 -0400

    split the marshalling routines into two source files

    * update copy and paste copyright info to list the correct owner

 gi/Makefile.am        |    6 +-
 gi/pygi-cache.c       |    3 +-
 gi/pygi-marshal-in.c  | 1412 ++++++++++++++++++++++++++++++++
 gi/pygi-marshal-in.h  |  186 +++++
 gi/pygi-marshal-out.c |  767 ++++++++++++++++++
 gi/pygi-marshal-out.h |  144 ++++
 gi/pygi-marshal.c     | 2145
 -------------------------------------------------
 gi/pygi-marshal.h     |  303 -------
 8 files changed, 2515 insertions(+), 2451 deletions(-)

commit 917ea2dfa2d097e563233145003a66b3e4423287
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jul 14 11:21:10 2011 +0200

    Ship tests/te_ST@nouppera in release tarballs for tests to succeed

 tests/Makefile.am |	1 +
 1 file changed, 1 insertion(+)

commit e024e832ab9c82d3e299cc6e1cb427de44f2d16e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jul 13 15:43:02 2011 -0400

    [invoke] break out caller_allocates allocating into its own function

 gi/pygi-invoke-ng.c |	 78
 ++++++++++++++++++++++++++++++++-------------------
 1 file changed, 49 insertions(+), 29 deletions(-)

commit fc8b8ce768ac780f7ed9edc63b70dd35194153c0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jul 13 15:42:26 2011 -0400

    [invoke] missed a bit when removing constructor_class usage

 gi/pygi-invoke-ng.c |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c94bcf4ae7e36f90c356c89712b00609f9f849bd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jul 13 15:16:17 2011 -0400

    [invoke] don't hold on to the constructor class, just add a TODO

 gi/pygi-invoke-ng.c	       |   11 +++++------
 gi/pygi-invoke-state-struct.h |    1 -
 2 files changed, 5 insertions(+), 7 deletions(-)

commit c11d3195f324ea41e86e3da7ff99b55425c2faec
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jul 13 10:40:25 2011 +0200

    [gi] Port test_properties from static gio to GI Gio

    As we ripped out the static gio bindings a while ago, this test case
    was using
    the system installed gio bindings with Python 2, and now fails
    completely with
    Python 3. Rewrite it to use gi.repository.Gio.

 tests/test_properties.py |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 8f89ff24fcac627ce15ca93038711fded1a7c5ed
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jul 13 08:42:22 2011 +0200

    [python3] Fix maketrans import

    Python3 moved the maketrans() function from the string module to a
    str method.
    This unbreaks gi/module.py for Python 3 again.

 gi/module.py |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 20aea4b052126fa0bface3e6e0dccfd77f9505b1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 8 14:39:22 2011 -0400

    [caching] remove all inline compiler flags

 gi/pygi-cache.c |   96
 +++++++++++++++++++++++++++----------------------------
 1 file changed, 48 insertions(+), 48 deletions(-)

commit bf7bb79b66ad406063fb443e7452d830c55986ef
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 8 14:35:20 2011 -0400

    [caching] refactor function names to be less confusing

 gi/pygi-cache.c |  307
 +++++++++++++++++++++++++++----------------------------
 1 file changed, 150 insertions(+), 157 deletions(-)

commit c167a9345b01c070bd5a84b4a4b3a53baf9e217d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 8 11:24:09 2011 -0400

    [overrides] deprecate the use of type keyword MessageDialog
    constructor

    * pygtk used type to determine the "type" of message dialog to
    display but we
      use the proper property name "message_type" since we should not be
      overriding a reserved word
    * to keep compat with pygtk we check the kwds hash for the key
    'type' and
      assign it to message_type while throwing a deprecation warning
    * also add a deprication warning when trying to use the depricated
    NO_SEPARATOR
      flag

 gi/overrides/Gtk.py |	 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 367e4ededd4a45125157050bcc9e4e685fd4a82d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Jul 8 10:15:53 2011 +0200

    gdbus tests: Fix hang if test case fails

    In the TestGDBusClient.test_native_calls_async() test case, the main
    loop was
    never quit when the call failed.

 tests/test_gdbus.py |	  6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 11b578400cbf9f7c270b662a5e8953ccd466e5ef
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jul 7 19:30:11 2011 -0400

    use an enum instead of booleans to denote function type

 gi/pygi-cache.c     |	 85
 +++++++++++++++++++++++++++++----------------------
 gi/pygi-cache.h     |	 18 ++++++++---
 gi/pygi-invoke-ng.c |	  8 ++---
 3 files changed, 67 insertions(+), 44 deletions(-)

commit 10e31005baec26f61c0f8fca2b5c0337b0be6c70
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jul 7 15:18:03 2011 -0400

    rename aux arguments to child arguments to make their purpose clearer

 gi/pygi-cache.c     |	 64
 +++++++++++++++++++++++++--------------------------
 gi/pygi-cache.h     |	 29 +++++++++++++++--------
 gi/pygi-invoke-ng.c |	 10 ++++----
 gi/pygi-marshal.c   |	 12 +++++-----
 4 files changed, 63 insertions(+), 52 deletions(-)

commit b4ad91c40f713ebdc278ce40b011e4adf9ddbbd7
Author: Timo Vanwynsberghe <timovwb@gmail.com>
Date:	Thu Jul 7 10:59:08 2011 +0200

    Fixed the cairo example

    https://bugzilla.gnome.org/show_bug.cgi?id=653844

 examples/cairo-demo.py |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit a606bab1ddc605167f2e9dc7c46c8f929fdce23b
Author: Adam Dingle <adam@yorba.org>
Date:	Tue Jul 5 14:28:20 2011 -0700

    Add override binding for Gtk.ListStore.prepend().

    https://bugzilla.gnome.org/show_bug.cgi?id=654056

 gi/overrides/Gtk.py	 |    8 ++++++++
 tests/test_overrides.py |   13 ++++++++++++-
 2 files changed, 20 insertions(+), 1 deletion(-)

commit fc5c869486c7f6929e285ea7a86623ec41ecd9bd
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jul 7 13:39:19 2011 +0200

    Fix crash in Gtk.TextIter overrides

    With commit 17cd0fb3 Gtk.TextIter.{forward,backward}_search()
    returns undefined
    pointers when the search was unsuccessful. Actually check the
    "success" return
    value; if it is False return None, just like PyGTK used to.

    Thanks to Michael Vogt for discovering this and writing the test case!

    Test case:

    -------------- 8< -----------------
    from gi.repository import Gtk

    win = Gtk.Window.new(Gtk.WindowType.TOPLEVEL)
    textview = Gtk.TextView()
    buffer = textview.get_buffer()
    buffer.set_text("hello world")
    win.add(textview)

    win.show_all()

    iter = buffer.get_start_iter()
    end = buffer.get_end_iter()
    ret = iter.forward_search("foo",
			      Gtk.TextSearchFlags.VISIBLE_ONLY,
						    end)
    print "this is my return value"
    print ret
    print "now I crash"
    print ret[0].get_offset()

    Gtk.main()
    -------------- 8< -----------------

 gi/overrides/Gtk.py |	 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 5c04fc5b2ca7e262c052426d5863d69d0c4a24da
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 5 15:57:23 2011 -0400

    use gssize instead of int for arg indexes

 gi/pygi-cache.c	   |   24 ++++++++++++------------
 gi/pygi-cache.h	   |	6 +++---
 gi/pygi-invoke-ng.c	   |	6 +++---
 gi/pygi-marshal-cleanup.c |	6 +++---
 4 files changed, 21 insertions(+), 21 deletions(-)

commit ecc09749c34cd4eabf47cc722d768b042dc0be9f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 5 14:17:30 2011 -0400

    [cache] remove refrence to default value as it is not implemented yet

 gi/pygi-cache.h |    1 -
 1 file changed, 1 deletion(-)

commit 433e0fb259047d8c81e5949a31abb5e0feefd27b
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Thu May 12 18:53:06 2011 +0200

    Handle arguments that are flags correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=647581

 gi/pygi-argument.c |	 2 ++
 1 file changed, 2 insertions(+)

commit 38cca3c14e79fbc383e3fc65a120bee03714b99f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 1 05:19:15 2011 -0400

    correctly initialize the _gi_cairo_functions array to be zero filled

 gi/pygi-foreign-cairo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ae43fdbcc547eb1e3c61bf9545da40555b2e2c6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 1 05:19:15 2011 -0400

    correctly initialize the _gi_cairo_functions array to be zero filled

 gi/pygi-foreign-cairo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d3ee40b36b1718e6fb4544dbe07e291138ea1eb9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 29 18:14:40 2011 -0400

    pass in the address of the gerror, not the gerror itself

 gi/pygi-argument.c |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49dc98eb9339ea64355cd752ca000c79da56f3a2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 29 18:01:44 2011 -0400

    [gi] handle marshalling gerrors arguments for signals

 gi/pygi-argument.c |	18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit db9419fcef628e9ffee10591156007ea9c0bc1f0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 29 12:12:29 2011 -0400

    [gi-invoke-ng] fix NULL check to check before we access the cache
    struct

 gi/pygi-cache.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9027e1a20fd06df5c26edcec1893ef0814ec938a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 28 18:21:55 2011 -0400

    [gi-tests] add test for PyGObject->PyObject TreeModel storage

      * make sure we can store a custom GObject as a PyObject inside of
      a TreeModel

 tests/test_overrides.py |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit b6842e4b2a28733e143d4022864041ca82e91f7a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 28 18:13:38 2011 -0400

    [gtk-overrides] special case TreeModel columns of PYGOBJECT types

     * box the PYGOBJECT in a GValue so we can store PyGObjects in a
     TreeModel row

 gi/overrides/Gtk.py |	  7 ++++---
 gobject/pygtype.c   |	  7 ++++---
 2 files changed, 8 insertions(+), 6 deletions(-)

commit 7fc9d45860210fd9d333fd3769c6cf93a6a20eb6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 28 17:32:29 2011 -0400

    [gi-invoke-ng] copy structs when transfer is full for array

 gi/pygi-marshal.c |   21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit 8d60c0bc7b327aa757a8727f1146f02cc0b78af8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 28 13:54:48 2011 -0400

    [gtk-override] print warning if user imports Gtk 2.0

     * this is needed because people file bugs not realizing they are
     importing 2.0
       which is not supported

 gi/overrides/Gtk.py |	 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 7c589c0c1de1a786e00685afd5292b6fb1f93ed3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 28 13:08:49 2011 -0400

    [gtk-overrides] allow the message_type keyword to be used for
    MessageDialogs

     * for pygtk compat we use the type keyword for message type but
     we prefer
       the use of message_type because it is more descriptive and does
       not clash
       with a python reserved word
     * if you passed message_type into a MessageDialog constructor you
     would get
       an error because we also convert type to message_type when
       calling the
       parent constructor
     * this patch looks to see if message_type was passed in as a
     keyword and
       assigns it to type while removing message_type from the keywords
       dict
       to avoid name clashing

 gi/overrides/Gtk.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit 2aa12267bee91aa696633a0cea2a0accae09250a
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 10:56:20 2011 -0300

    Add support for enums in gobject.property

    https://bugzilla.gnome.org/show_bug.cgi?id=653488

 gobject/propertyhelper.py |   23 ++++++++++++++++-------
 tests/test_properties.py  |   40 ++++++++++++++++++++++++++++++++++++----
 2 files changed, 52 insertions(+), 11 deletions(-)

commit dc62e67b447ef526a6f2d1aa8648ad101d95024b
Author: Johan Dahlin <jdahlin@litl.com>
Date:	Mon Jun 27 10:56:20 2011 -0300

    Add support for enums in gobject.property

    https://bugzilla.gnome.org/show_bug.cgi?id=653488

 gobject/propertyhelper.py |   23 ++++++++++++++++-------
 tests/test_properties.py  |   40 ++++++++++++++++++++++++++++++++++++----
 2 files changed, 52 insertions(+), 11 deletions(-)

commit 50cfccb5801c1b9a0a42ffe2826cd245f21fd88d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 24 14:17:24 2011 -0400

    [gi-invoke-ng] use g_slice for allocating GValues that are caller
    allocated

 gi/pygi-invoke-ng.c	   |	2 ++
 gi/pygi-marshal-cleanup.c |	2 ++
 2 files changed, 4 insertions(+)

commit eff65cd2ce490296865441c3c78b7846f380459c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 24 11:49:05 2011 -0400

    [gi-invoke-ng] Convert Overflow errors to ValueErrors when marshalling
    integers

 gi/pygi-marshal.c |   56
 +++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 44 insertions(+), 12 deletions(-)

commit 05ed688d54e3ff04e961b60d0b5d3ed0b97c771d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 22 12:26:39 2011 -0400

    [gi-invoke-ng] only cache caller allocates for interfaces as some
    API are broken

 gi/pygi-cache.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4fd957a5de364c0588168dee15e1e61d4f12e173
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 17 17:07:56 2011 -0400

    [gi-invoke-ng] handle in pointer array marshalling

 gi/pygi-marshal.c |   28 ++++++++++++++++++++++------
 1 file changed, 22 insertions(+), 6 deletions(-)

commit df3911ad2ce83af9bf9679ed1b221847b23ba2de
Author: Alex Eftimie <alex@eftimie.ro>
Date:	Fri Jun 10 08:44:04 2011 +0300

    Adding GPtrArray tests

 tests/test_gi.py |   43 ++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 42 insertions(+), 1 deletion(-)

commit e32c2be53175014399d89e1e85c9afc6e53c94be
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 17 11:32:28 2011 -0400

    [gi-invoke-ng] fix array element offset calculations

    * use pointer arithmetic to calculate based on element size instead of
      relying on the size of GIArgument
    * special case GPtrArrays

 gi/pygi-marshal.c |   27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit 6e8dc28cb261cafbfed40fc0797a0dd5f91f497b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 15 12:46:03 2011 -0400

    [gi] don't clean up arguments that weren't yet processed during in
    arg failure

 gi/pygi-marshal-cleanup.c |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af7c93ea98b7f492eef265e58c8b3c878805524f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 15 12:06:47 2011 -0400

    [gi-overrides] use new instead of init when constructing a
    GLib.VariantBuilder

    * init is now skipped in the gir

 gi/overrides/GLib.py	 |   18 ++++++++----------
 tests/test_overrides.py |    6 ++----
 2 files changed, 10 insertions(+), 14 deletions(-)

commit c6112307f29f9a850e6e9efa5f55d5d4a363c6b0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 15 11:42:45 2011 -0400

    [gi-invoke-ng] actual code to import overrides

 gi/pygi-cache.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 902575d857beffb14e56821ea8a52f705385f6bb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 15 11:25:10 2011 -0400

    [gi-invoke-ng] import pytypes so we get overrides

 gi/pygi-marshal.c |	4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9d5604220bd56ae2708e9b74122c14208e0a30b4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 14 16:13:37 2011 -0400

    [gi-invoke-ng] handle gvariants now that they are not foreign

 gi/pygi-marshal.c |	7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit c1f5651062687e800a52b5d8d16c88c0acde2934
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 14 16:12:43 2011 -0400

    [gi-invoke-ng] do not try to clean up NULL arguments

 gi/pygi-marshal-cleanup.c |   24 ++++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit fbf5382fbc1aed49ed491d2255d616a1643a45fc
Merge: 499b68d 1491f62
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 13 17:28:23 2011 -0400

    Merge branch 'master' into invoke-rewrite

commit 499b68d6c9040cffc6e43dc87789d68446564a92
Merge: 4c9bced 426c710
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 13 17:26:37 2011 -0400

    Merge branch 'master' into invoke-rewrite

commit 1491f6225b9906bd369b5a42e6369ab6884736b7
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Fri Jun 10 14:01:32 2011 +0200

    closure: avoid double free crash

 gi/pygi-closure.c |   12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 929f4236f2b8601e7960a4a7b0a860d976ad83c6
Author: Jason Siefken <siefkenj@gmail.com>
Date:	Fri Jun 3 23:11:17 2011 -0700

    Added __eq__ method for Gdk.Color and Gdk.RGBA

    Call Gdk.Color.equal and Gdk.RGBA.equal when
    == equality testing is used.

 gi/overrides/Gdk.py	 |    6 ++++++
 tests/test_overrides.py |    4 ++++
 2 files changed, 10 insertions(+)

commit dff5961ba229c7c34bd7b0a18a446b56bbe39e3a
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Jun 8 19:13:48 2011 +0200

    closure: Check the out arg is not null. Fixes bug #651812

 gi/pygi-closure.c |	3 +++
 1 file changed, 3 insertions(+)

commit d7d178206bfbb0858556fcfd6c9ca8eefda3fdf5
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 8 09:47:20 2011 +0200

    Use constants instead of literals

 tests/test_overrides.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fe386a0ad548a23e30e9cb947bfa2198fb48ef29
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 6 19:07:22 2011 +0200

    GVariant has now a GType, take that into account

    https://bugzilla.gnome.org/show_bug.cgi?id=647509

 gi/pygi-argument.c |	 8 ++++----
 gi/pygi-invoke.c   |	20 +++++++++++++-------
 2 files changed, 17 insertions(+), 11 deletions(-)

commit bd7b8d96a7420522c1fdc127ef8cfb7d6e8a1b31
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 6 19:05:07 2011 +0200

    GVariantType is a boxed struct

    https://bugzilla.gnome.org/show_bug.cgi?id=647509

 gi/gimodule.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d73012e5dbcc45a5782a6c119dfb272c14b5a61
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 6 17:38:21 2011 +0200

    Use _gi.Struct to wrap fundamentals

    https://bugzilla.gnome.org/show_bug.cgi?id=647509

 gi/module.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d82e6c8d1d9f2fc48fdcc15b7d2a97e4f24cf3bf
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 6 17:24:28 2011 +0200

    Merge gi/HACKING into /HACKING

 HACKING    |	16 ++++++++++++++++
 gi/HACKING |	26 --------------------------
 2 files changed, 16 insertions(+), 26 deletions(-)

commit 92aca4416a7930e5870b8d1a4016bae8140462ee
Author: Daniel Drake <dsd@laptop.org>
Date:	Fri Jun 3 16:59:15 2011 +0100

    Fix GC-related crash during PyGObject deallocation

    Python-2.7.1's GC source has the following comment:

	    /* Python's cyclic gc should never see an incoming refcount
	     * of 0:  if something decref'ed to 0, it should have been
	     * deallocated immediately at that time.
	     * Possible cause (if the assert triggers):  a tp_dealloc
	     * routine left a gc-aware object tracked during its teardown
	     * phase, and did something-- or allowed something to
	     happen --
	     * that called back into Python.  gc can trigger then, and may
	     * see the still-tracked dying object.  Before this assert
	     * was added, such mistakes went on to allow gc to try to
	     * delete the object again.  In a debug build, that caused
	     * a mysterious segfault, when _Py_ForgetReference tried
	     * to remove the object from the doubly-linked list of all
	     * objects a second time.  In a release build, an actual
	     * double deallocation occurred, which leads to corruption
	     * of the allocator's internal bookkeeping pointers.  That's
	     * so serious that maybe this should be a release-build
	     * check instead of an assert?
	     */

    As shown in a backtrace at
    https://bugzilla.redhat.com/show_bug.cgi?id=640972 , pygobject
    is making
    this exact mistake. Before untracking its object, pygobject_dealloc
    calls PyObject_ClearWeakRefs() which can call back into python, create
    new allocations, and trigger the GC.

    This is causing Sugar (based on pygobject2 + pygtk2 static bindings)
    to
    crash on a regular basis while interacting with widgets or launching
    applications.

    Fix this by untracking the object early. Also fix the same issue
    spotted
    in the GSource wrapper.

    Thanks to Bernie Innocenti for initial diagnosis.

 glib/pygsource.c    |	  6 ++++--
 gobject/pygobject.c |	  8 +++++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 4c9bcedb4e11ad66a4b86174e2425c7afcafc473
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue May 31 16:59:41 2011 -0400

    [gi-invoke-ng] enable invoke-ng by default

 configure.ac |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2e4cfb85a55ff205e263591d573ee5ecf0ffff3e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue May 31 16:37:21 2011 -0400

    [gi-invoke-ng] add code to clean up when input values fail to marshal

 gi/pygi-marshal-cleanup.c |   30 +++++++++++++++++++++++++-----
 1 file changed, 25 insertions(+), 5 deletions(-)

commit 508b1b6ca1b143f1e123a3ddb83e8ce146758dfc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue May 31 16:01:03 2011 -0400

    [gi-invoke-ng] add hash cleanup routines

 gi/pygi-cache.c	   |	2 ++
 gi/pygi-marshal-cleanup.c |   64
 +++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-marshal-cleanup.h |   10 +++++--
 3 files changed, 74 insertions(+), 2 deletions(-)

commit 1954c75b94a74259b4e5d28f5ff8d76aa4610832
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue May 31 14:47:30 2011 -0400

    [gi-invoke-ng] handle arrays with transfers of GI_TRANSFER_CONTAINER

 gi/pygi-marshal-cleanup.c |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b626c46b4a95602c7bf1278c2a39aacb7f5027d9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue May 31 14:40:49 2011 -0400

    [gi-invoke-ng] add list cleanup routines

 gi/pygi-cache.c	   |	8 ++---
 gi/pygi-marshal-cleanup.c |   84
 +++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-marshal-cleanup.h |	8 +++++
 3 files changed, 96 insertions(+), 4 deletions(-)

commit 2e542c327cd52c1f77af28905557dd25c64175d8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 26 16:10:13 2011 -0400

    indentation fix

 gi/pygi-marshal.c |	8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 601aec11c49e821fe97dd30a2187fe3c75844712
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 26 16:09:38 2011 -0400

    [gi-invoke-ng] add out array cleanup

 gi/pygi-cache.c	   |	2 +-
 gi/pygi-marshal-cleanup.c |   24 ++++++++++++++++++++++++
 gi/pygi-marshal.c	   |   37 +++++++++++++++++++++++++++++++------
 3 files changed, 56 insertions(+), 7 deletions(-)

commit e9ad4428b769f8c9ace1cdc973c684de84fb1a5e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 26 13:22:38 2011 -0400

    [gi-invoke-ng] do not allocate null terminator for garray

    * We are simply setting our own array so we don't want any allocate
    null byte

 gi/pygi-marshal.c |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a986b2b8e5ee37f2a330f5aabc85c73ebb0de508
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 26 13:21:55 2011 -0400

    [gi-invoke-ng] add array cleanup for in arrays

 gi/pygi-cache.c	   |	2 +-
 gi/pygi-marshal-cleanup.c |   72
 ++++++++++++++++++++++++++++++++++++++++++++-
 gi/pygi-marshal-cleanup.h |	9 ++++++
 gi/pygi-marshal.c	   |   13 ++++++--
 4 files changed, 91 insertions(+), 5 deletions(-)

commit 990c60805c8ef718eb29e2e1b24f057552c6159e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon May 23 17:06:30 2011 -0400

    [gi-invoke-ng] remove remaining bits of the invoke stage state machine

 gi/pygi-invoke-ng.c	       |    7 +------
 gi/pygi-invoke-state-struct.h |   14 --------------
 2 files changed, 1 insertion(+), 20 deletions(-)

commit dbbcf4a0e76fb572d85843ee31c3798df5cd5cc5
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon May 23 16:59:57 2011 -0400

    [gi-invoke-ng] revamp cleanup framework to be orthogonal to cache
    setup

    * cleanup now has symmetry with setup so there are now in and out
    cleanups
      for each type that needs to be cleaned up
    * no longer use state machine but instead call different cleanup
    functions at
      different stages of invoke, making it easier to understand what
      happens at
      each stage

 gi/pygi-cache.c	       |   19 ++-
 gi/pygi-cache.h	       |    7 +-
 gi/pygi-invoke-ng.c	       |   10 +-
 gi/pygi-invoke-state-struct.h |    2 +
 gi/pygi-marshal-cleanup.c     |  301
 ++++++++++++++++-------------------------
 gi/pygi-marshal-cleanup.h     |   45 +++---
 gi/pygi-marshal.c	       |   15 +-
 7 files changed, 174 insertions(+), 225 deletions(-)

commit 198714dc4585f7463f38929f1ca4e4b60a27dadb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 12 17:29:20 2011 -0400

    [gi-invoke-ng] stub out a cleaner way of cleaning up after ourselves

    * The state machine concept of cleaning up was getting a bit messy.
      It was like we took a big bowl of spaghetti code and dumped it.
    * Now we call specific cleanup functions at the point of failure (or
      successful completion of a marshalling stage)

 gi/pygi-invoke-ng.c	   |   59 ++++++++++++++++++++++++++++++-------
 gi/pygi-marshal-cleanup.c |   72
 +++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-marshal-cleanup.h |   14 +++++++++
 3 files changed, 135 insertions(+), 10 deletions(-)

commit c1389dadbf35afee3f28d90ef637efd8c1f071a5
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Thu May 12 11:53:40 2011 -0400

    Doc Extractor: Correct the logic of the --no-since option.

	* codegen/docextract.py (process_final_sections): If the
	--no-since
	option has been specified and a "Since:" is encountered during the
	processing of the final sections, simply don't append the
	"Since: ..."
	instead of reading the next line.  This preserves the logical
	flow of
	processing.

 codegen/docextract.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 303d8e8ab9e60cb554de7fc0e8592cd9b2c50843
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Mon May 9 17:32:09 2011 -0400

    Doc Extractor: Add a --no-since option.

	* codegen/docextract.py:
	* codegen/docextract_to_xml.py: Modified so that if a --no-since
	option is specified at the command line, the "Since: ..." portion
	of
	the gtkdoc function block is omitted.  This is useful for C++
	modules
	such as gstreamermm where this information would not be useful
	as long
	as the C API is still unstable.

 codegen/docextract.py	      |   15 ++++++++++++++-
 codegen/docextract_to_xml.py |    9 ++++++---
 2 files changed, 20 insertions(+), 4 deletions(-)

commit 4f615c6e300d6f2d7551b640efa301060206ab58
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu May 5 14:04:34 2011 -0400

    [gi-invoke-ng] tweek cleanup routines

 gi/pygi-cache.c	   |	5 +++
 gi/pygi-marshal-cleanup.c |   87
 ++++++++++++++++++++++++++++++++++-----------
 gi/pygi-marshal-cleanup.h |	6 ++--
 gi/pygi-marshal.c	   |   11 ++----
 4 files changed, 76 insertions(+), 33 deletions(-)

commit 63c7f17c224821cb7136d06e8ef87eab7291848d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon May 2 15:49:52 2011 +0200

    Fix symbol names to be locale independent

    We currently use upper() to present enum values, which are usually
    defined in
    lower case in the typelib, in upper cases. However, upper() is locale
    dependent, so that e. g. in tr_TR.UTF-8, "invalid" becomes "iNVALiD"
    because Turkish has some extra variants of "i".

    Use a local ASCII-only translate() call instead to avoid this. Thanks
    to Nils
    Philippsen for the idea!

    This also adds a test locale "te_ST@nouppera" which defines
    toupper('a') == 'a'.
    Run the Enum tests under this locale to reproduce the bug and verify
    the fix.

    https://bugzilla.gnome.org/show_bug.cgi?id=649165

 gi/module.py	      |    9 ++++++++-
 tests/te_ST@nouppera |   50
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gi.py     |   30 ++++++++++++++++++++++++++++++
 3 files changed, 88 insertions(+), 1 deletion(-)

commit b5e150da76c3d4de1a75f58d03c3a761e9005a63
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed May 4 08:35:27 2011 +0200

    [gi] pygi-convert.sh: Convert gtk.gdk.CROSSHAIR

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit fcc5ea201ab25da6db94ea8a37364a1d3c4d7c65
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Apr 29 17:41:08 2011 -0400

    [gi-invoke-ng] handle filename cleanup with the utf8 cleanup function

 gi/pygi-cache.c |    2 ++
 1 file changed, 2 insertions(+)

commit dbe8c4fabc8ac19415a3be0e854d3a54c2317e0b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Apr 29 17:40:13 2011 -0400

    [gi-invoke-ng] handle caller allocates cleanup

 gi/pygi-invoke-ng.c	   |	5 ++-
 gi/pygi-marshal-cleanup.c |  104
 ++++++++++++++++++++++++++++++++++++---------
 gi/pygi-marshal-cleanup.h |	7 +--
 3 files changed, 90 insertions(+), 26 deletions(-)

commit cdbf57f3b1f041a06cf545a5557424f701ed1ec7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Apr 28 19:16:02 2011 -0400

    [gi-invoke-ng] refactor the cleanup code and add utf8 cleanup as
    initial test

 gi/pygi-cache.c	       |   15 ++----------
 gi/pygi-invoke-ng.c	       |    8 +++----
 gi/pygi-invoke-state-struct.h |    2 ++
 gi/pygi-marshal-cleanup.c     |   51
 ++++++++++++++++++++++++++++++++++++++++-
 gi/pygi-marshal-cleanup.h     |    3 +++
 5 files changed, 60 insertions(+), 19 deletions(-)

commit d1f1f4ccc55f9ecab73b7c0ee78762c4039b2c79
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Apr 27 15:47:19 2011 -0400

    use PyCapsule when importing pycairo/require pycairo 1.10.0 for
    python3 builds

    * PyCObject is deprecated and pycairo 1.10.0 is first release to
    fix this issue

 configure.ac		 |   15 +++++++++++----
 gi/pygi-foreign-cairo.c |    2 +-
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 83b7823a510b0b391560c6deaf9d15d8303c7b14
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Apr 21 16:52:20 2011 +0200

    [python3] fix build. PYcairo_IMPORT doesn't exists anymore

 gi/pygi-foreign-cairo.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 3e933784df423757e591d703614cb700adb0bbe0
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Apr 18 18:36:25 2011 +0200

    Updated DOAP file

 pygobject.doap |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 399d06b4b20685eb38acfd7e43226e06737ab7d2
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Apr 16 16:02:05 2011 +0200

    [gi] Don't create variant twice

 gi/overrides/GLib.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d8a84ea23d28d25851c5870f261c020d762cef4
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 16:14:43 2011 +0200

    pygi-convert.sh: Make sure the uppercase GObject module is imported
    instead of the lowercase

    https://bugzilla.gnome.org/show_bug.cgi?id=647736

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 3b51d6426d0f59b2dd7e0dcdcded4bed43d6b9d8
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 15:58:53 2011 +0200

    [gi] Removed hack to avoid using GLib.Variant.new_variant.

    The bug in the annotations of GLib is fixed now.
    https://bugzilla.gnome.org/show_bug.cgi?id=639952
    https://bugzilla.gnome.org/show_bug.cgi?id=647796

 gi/overrides/GLib.py |   14 +-------------
 1 file changed, 1 insertion(+), 13 deletions(-)

commit bb4dce14ba666969815d4e56adbc38f0ac4f7ff7
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 15:58:31 2011 +0200

    [gi] Added additional test case for GVariant handling

 tests/test_overrides.py |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 138df2778543409752e229a09828a805f68a420d
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Apr 11 18:34:31 2011 +0200

    [gi] Added support for GVariant arguments

    This is required in order for the "g-signal" signal of GDBusProxy
    to work properly and thus to properly receive DBus signals with any
    type of argument.

    https://bugzilla.gnome.org/show_bug.cgi?id=647477

 gi/pygi-argument.c |	 2 ++
 1 file changed, 2 insertions(+)

commit 985f239d891c7697d76ccecb797b189669ae6ee1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 18:46:28 2011 -0400

    fix static ABI for setting string gvalues from python objects

     * the static bindings used to be able to set a string gvalue to
     any python
       object that implemented __str__, for instance when setting a
       treemodel column
     * this restores that code while still keeping unicode and python 3
       compatability

 gobject/pygtype.c	  |   28 +++++++++++++++++++---------
 tests/test_properties.py |    8 ++++++++
 2 files changed, 27 insertions(+), 9 deletions(-)

commit 58cfc3cd1152b4448b56a6ff597f954d8450b83e
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Mar 22 20:47:51 2011 +0100

    dsextras.py: ensure eol characters are preserved when writing template
    files (so \n does not become \r\n)

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 629d267478982c426ba61a639d5c9603fed856e6
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Mar 22 11:35:44 2011 +0100

    dsextras.py: remove \r as wel as \n character

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 426c7109d4c0dbf0d56cc075f97f33b3451f79a8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Apr 27 15:47:19 2011 -0400

    use PyCapsule when importing pycairo/require pycairo 1.10.0 for
    python3 builds

    * PyCObject is deprecated and pycairo 1.10.0 is first release to
    fix this issue

 configure.ac		 |   15 +++++++++++----
 gi/pygi-foreign-cairo.c |    2 +-
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 4e5833d0c2fe548617e5ea510f05920fd0caf73b
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Apr 21 16:52:20 2011 +0200

    [python3] fix build. PYcairo_IMPORT doesn't exists anymore

 gi/pygi-foreign-cairo.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 91ec337359720839862d3f5a8a0ea98f760a0752
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Apr 18 18:36:25 2011 +0200

    Updated DOAP file

 pygobject.doap |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 05c766044c83340c44564d0097514bfc1d1d9df7
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Apr 16 16:02:05 2011 +0200

    [gi] Don't create variant twice

 gi/overrides/GLib.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb8f212e3687af30407cf01fcdfbf530257bcddb
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 16:14:43 2011 +0200

    pygi-convert.sh: Make sure the uppercase GObject module is imported
    instead of the lowercase

    https://bugzilla.gnome.org/show_bug.cgi?id=647736

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit af31729573de24161ee90563e5738187c749783c
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 15:58:53 2011 +0200

    [gi] Removed hack to avoid using GLib.Variant.new_variant.

    The bug in the annotations of GLib is fixed now.
    https://bugzilla.gnome.org/show_bug.cgi?id=639952
    https://bugzilla.gnome.org/show_bug.cgi?id=647796

 gi/overrides/GLib.py |   14 +-------------
 1 file changed, 1 insertion(+), 13 deletions(-)

commit 070f6688be4afb926656038dcceac4c8b8ed97c7
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Apr 15 15:58:31 2011 +0200

    [gi] Added additional test case for GVariant handling

 tests/test_overrides.py |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 65aa040e86d94ee6bb227a2bce09668b60208027
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Apr 12 14:51:35 2011 -0400

    [gi-invoke-ng] fix prototype

 gi/pygi-cache.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12aa4e6376366ca9d758434f6544c9c70a1e5df8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Apr 12 14:48:16 2011 -0400

    [gi-invoke-ng] create new framework for cleaning up args

    * we now have a state machine so we know what point in the marshalling
    process
      we are and which args need to be cleaned up
    * call the cleanup functions after invoking the gi callable, after
    marshalling
      the out parameters and at any time an error occures

 gi/Makefile.am		       |    4 +-
 gi/pygi-cache.c	       |   25 +++++++------
 gi/pygi-cache.h	       |    5 ++-
 gi/pygi-invoke-ng.c	       |   34 ++++++++++++++---
 gi/pygi-invoke-state-struct.h |   13 +++++++
 gi/pygi-marshal-cleanup.c     |   81
 +++++++++++++++++++++++++++++++++++++++++
 gi/pygi-marshal-cleanup.h     |   43 ++++++++++++++++++++++
 gi/pygi-marshal.c	       |    1 +
 8 files changed, 187 insertions(+), 19 deletions(-)

commit 0463295cd046bd6382ad9dc71ea1518858d63c5f
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Apr 11 18:34:31 2011 +0200

    [gi] Added support for GVariant arguments

    This is required in order for the "g-signal" signal of GDBusProxy
    to work properly and thus to properly receive DBus signals with any
    type of argument.

    https://bugzilla.gnome.org/show_bug.cgi?id=647477

 gi/pygi-argument.c |	 2 ++
 1 file changed, 2 insertions(+)

commit 1d64c3d3db2ec17b9a48df55271f712db6c07060
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 30 16:40:31 2011 -0400

    [gi-invoke-ng] fix marshal header that is no longer part of
    pygi-arguments.h

 gi/pygi-marshal.h |	8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3580cd1c7222022ebeef3476f9e609c8045f12a3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 30 15:53:13 2011 -0400

    [gi-invoke-ng] code style space fixes

 gi/pygi-cache.c     |	420 +++++++++++++++++++-------------------
 gi/pygi-invoke-ng.c |	145 +++++++------
 gi/pygi-marshal.c   |	565
 ++++++++++++++++++++++++++-------------------------
 3 files changed, 566 insertions(+), 564 deletions(-)

commit 81662fcd09f112bfffcdc5b7f01a5537b84cd9d4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 29 16:54:44 2011 -0400

    [gi-invoke-ng] don't decref value taken from a dict as it is borrowed

 gi/pygi-invoke-ng.c |	  1 -
 1 file changed, 1 deletion(-)

commit a456fc0adc1f8a0754bf59cde8924f905bfc7dc1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 29 15:23:06 2011 -0400

    [gi-invoke-ng] return None when appropriate so we don't crash

 gi/pygi-marshal.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit e8c8c37e5587dc7ff62519df336988a12e6f5d0a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 29 15:21:41 2011 -0400

    [gi-invoke-ng] fix aux value caching

 gi/pygi-cache.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 4e4c1847c713a4eb4ab34d04488e94dac24d9167
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 28 20:25:46 2011 -0400

    [gi-invoke-ng] backport handling flags with no gtype

 gi/pygi-marshal.c |   25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit fd76423e655b3711e1ffbf9b61ea4e2c94040234
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 28 18:32:00 2011 -0400

    [gi-invoke-ng] backport raw gvalue handling

 gi/pygi-marshal.c |   23 ++++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit 507b5051c83f70ceae79e0fa693c86e5cbb9f442
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 28 18:30:31 2011 -0400

    [gi-invoke-ng] marshal instances seperately since they differ slightly
    from other args

 gi/pygi-cache.c   |	2 +-
 gi/pygi-marshal.c |   38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 726a27c0e74ace3ff23d9cc4d393ae53e57f1fac
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 28 18:26:09 2011 -0400

    [gi-invoke-ng] refactor FunctionCache to be more generic CallableCache

 gi/pygi-cache.c     |	392
 ++++++++++++++++++++++++++-------------------------
 gi/pygi-cache.h     |	 12 +-
 gi/pygi-info.c      |	  2 +-
 gi/pygi-invoke-ng.c |	 40 +++---
 gi/pygi-marshal.c   |	140 +++++++++---------
 gi/pygi-marshal.h   |	159 +++++++++------------
 gi/pygi.h	     |	  2 +-
 7 files changed, 362 insertions(+), 385 deletions(-)

commit 3d5d9ff5c18a850650992bdd52e8e4c722b23396
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 28 15:01:12 2011 -0400

    [gi-invoke-rewrite] backport glib error handling

 gi/pygi-invoke-ng.c |	 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 37b14b28a5f2aec16ac7f321efbf07e1403e9531
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 25 18:48:42 2011 -0400

    [gi-invoke-ng] backport closure passing from invoke

 gi/pygi-marshal.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit cf7f97eabc9c49773c2916929b8c43ef453d0652
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 25 18:47:36 2011 -0400

    [gi-invoke-ng] handle vfuncs and fix cosntrutors

 gi/pygi-cache.c	       |    9 +++++++
 gi/pygi-cache.h	       |    2 ++
 gi/pygi-invoke-ng.c	       |   56
 ++++++++++++++++++++++++++++++-----------
 gi/pygi-invoke-state-struct.h |    2 ++
 4 files changed, 55 insertions(+), 14 deletions(-)

commit af2ce400fcf771ee6c9bc01aecfb59467be5a0ce
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 25 18:39:06 2011 -0400

    [gi-invoke-ng] handle foreign types correctly

 gi/pygi-cache.c   |   22 ++++++----------------
 gi/pygi-marshal.c |	3 +++
 2 files changed, 9 insertions(+), 16 deletions(-)

commit 482553ae5d863ca523be3bd1eededa5d02a4f87e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 25 13:14:01 2011 -0400

    [gi] remove the class parameter from the argument list of constructors

     * constructors pass in their class to be constructed.  Since we
     use GI
       and g_object_new to do the construction we ignore this for now but
       keep it around in the state for future use.

 gi/pygi-invoke-ng.c	       |   46
 +++++++++++++++++++++++++++++++++++------
 gi/pygi-invoke-state-struct.h |    1 +
 2 files changed, 41 insertions(+), 6 deletions(-)

commit 0534eb0e843cdf09611143da184052f7e549e4dc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 18:46:28 2011 -0400

    fix static ABI for setting string gvalues from python objects

     * the static bindings used to be able to set a string gvalue to
     any python
       object that implemented __str__, for instance when setting a
       treemodel column
     * this restores that code while still keeping unicode and python 3
       compatability

 gobject/pygtype.c	  |   28 +++++++++++++++++++---------
 tests/test_properties.py |    8 ++++++++
 2 files changed, 27 insertions(+), 9 deletions(-)

commit 5f0e130026a663a57ed1317e0fa0e1f78f9e6e0a
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Mar 22 20:47:51 2011 +0100

    dsextras.py: ensure eol characters are preserved when writing template
    files (so \n does not become \r\n)

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 62a6274105003ef386ddfe9ef38e8afa8c43d124
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Mar 22 11:35:44 2011 +0100

    dsextras.py: remove \r as wel as \n character

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86c436978c933f6ebe17627abe98325ce66f6baa
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 16:13:58 2011 -0400

    [gi] make new invoke-ng codepath compile correctly

 configure.ac	     |	  4 +
 gi/Makefile.am      |	  5 +-
 gi/pygi-cache.c     |	  2 +-
 gi/pygi-invoke-ng.c |	841 ----------------------
 gi/pygi-marshal.c   | 1962
 +--------------------------------------------------
 gi/pygi-private.h   |	  4 +-
 6 files changed, 9 insertions(+), 2809 deletions(-)

commit 35619fec43f4df85edf5456f3fc9733b16f2ba90
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 15:40:02 2011 -0400

    [gi] conditionalize invoke code paths

 configure.ac	   |	7 +++++++
 gi/Makefile.am    |   20 +++++++++++++++-----
 gi/pygi-cache.h   |	2 ++
 gi/pygi-info.c    |	4 +++-
 gi/pygi-private.h |	9 +++++++--
 gi/pygi.h	   |	4 +++-
 6 files changed, 37 insertions(+), 9 deletions(-)

commit 83c51bd2bb6ca24ce610c04cff1527bcd2689d90
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 15:37:24 2011 -0400

    [gi] revert back to the type.py from master

 gi/types.py |	 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit cb30d00d1c92e73d9bfb08cc7b600a5aa70f2fc0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 14:46:29 2011 -0400

    [gi] revert pygi-argument.h and move the invoke-ng code to
    pygi-marshal.h

 gi/pygi-argument.h |  268 +----------------------------------------
 gi/pygi-marshal.h  |  336
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 337 insertions(+), 267 deletions(-)

commit 17cb714cfdaf45b6d7dd627b0189bd24e6578f74
Merge: 7332a1b 01596a9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 13:34:36 2011 -0400

    Merge branch 'master' into invoke-rewrite

    Conflicts:
	gi/Makefile.am
	gi/pygi-argument.c
	gi/pygi-foreign-cairo.c
	gi/pygi-foreign-gvariant.c
	gi/pygi-foreign-gvariant.h
	gi/pygi-foreign.c
	gi/pygi-foreign.h
	gi/pygi-private.h
	gi/pygi.h

commit 01596a9b7cc0ceef3904da5b96939140ee0732fd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 22 13:20:54 2011 -0400

    [gi] foreign types now take interface infos instead of type infos

     * this is a prep for the invoke-rewrite branch
     * when marshalling foreign structs we may not have the type info but
       we will always have the interface info to pass
     * this simplifies the code because we were simply converting the
       type info back to an interface info anyway so there is less
       refcounting to keep track of
     * also fixes a bug where we were leaking PyNone ref counts

 gi/pygi-argument.c	    |	 4 ++--
 gi/pygi-foreign-cairo.c    |	16 ++++++++--------
 gi/pygi-foreign-gvariant.c |	12 ++++++------
 gi/pygi-foreign.c	    |	32 +++++++++++++-------------------
 gi/pygi-foreign.h	    |	 8 ++++----
 gi/pygi-invoke.c	    |	 6 +++---
 gi/pygi.h		    |	12 ++++++------
 7 files changed, 42 insertions(+), 48 deletions(-)

commit fbabc1fdafa1dcbd1f6aaea7b821bd1c64a546ab
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Mar 22 15:04:01 2011 +0100

    Fix GSchema tests for separate build tree

    When using a separate build tree, the compiled GSettings schema will
    be in the
    build tree, but as the test scripts are only in the source tree they
    won't find
    the compiled schema. Pass the build dir as environment variable and
    prefer it
    over test_overrides.py's directory.

 tests/Makefile.am	 |    3 ++-
 tests/test_overrides.py |    4 +++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 7332a1b99775519fdc5500cab6628b713e946a8c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 21 19:03:29 2011 -0400

    [gi] start of merge from master

    * move some of the modified files that will cause merge conflicts
    to their
      own, nonconflicting files
    * copy the old files out of master

 gi/pygi-argument.c  | 2101 +++------------------------
 gi/pygi-invoke-ng.c | 1179 ++++++++++++++++
 gi/pygi-invoke.c    |	421 ++----
 gi/pygi-marshal.c   | 3916
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 5389 insertions(+), 2228 deletions(-)

commit 62b49dae97441953452d097cb1751df14302547a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 16 17:34:18 2011 -0400

    [gi] marshal raw closures

    * before we were able to marshal python callables into methods
    that took
      GClosures but we had no way to take a GClosure returned from one
      method and pass it to another - this enables that usecase

    https://bugzilla.gnome.org/show_bug.cgi?id=644757

 gi/pygi-argument.c |	17 ++++++++++-------
 tests/test_gi.py   |	 4 ++++
 2 files changed, 14 insertions(+), 7 deletions(-)

commit 1e70957c5470a0f4bceba38ca66a4e4274fdc8d8
Author: John Stowers <john.stowers@gmail.com>
Date:	Sun Mar 6 23:41:01 2011 +1300

    pygi-convert.sh add GObject.xxx and webkit

    https://bugzilla.gnome.org/show_bug.cgi?id=644347

 pygi-convert.sh |    7 +++++++
 1 file changed, 7 insertions(+)

commit 2292673c96e7973a0732ca15bbd5b0bf7a9c7dcf
Author: John Stowers <john.stowers@gmail.com>
Date:	Sun Mar 6 23:41:30 2011 +1300

    pygi-convert.sh remove gobject tests, GObject works now

    https://bugzilla.gnome.org/show_bug.cgi?id=644347

 pygi-convert.sh |   28 ----------------------------
 1 file changed, 28 deletions(-)

commit d26e5cc45f277f6b7edb32aa416520bb53bff9c2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 11 14:09:02 2011 -0500

    [gi-demos] add pickers demo

 demos/gtk-demo/demos/pickers.py |   74
 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 74 insertions(+)

commit b8d926a458ed7d7e92719e41b5bc1c36f68882b3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Mar 10 18:12:50 2011 -0500

    [gi-demos] add menu demo

 demos/gtk-demo/demos/menus.py |  122
 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 122 insertions(+)

commit 9baec8ed1c5d99c1677a75eaa1d38912f41f0b2d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 9 13:02:50 2011 -0500

    [gi-overrides] fix exception block so it works in Python 2.5

 gi/overrides/Gio.py |	  5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5ac534ac3ceee3cc19fe2297e3cd009817ed726f
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Mar 21 13:19:58 2011 +0100

    Revert "Deduce PYTHON_LIBS in addition to PYTHON_INCLUDES"

    This reverts commit fc7d7f7f153d57ff3866b7bfd5e6479d702cc4d9.

    This introduces additional libpython dependencies, which breaks
    distributions
    which support multiple Python versions, and also causes the python
    interpreter
    to be in memory twice in some cases.

    https://bugzilla.gnome.org/show_bug.cgi?id=620215

 gi/Makefile.am    |	4 +---
 glib/Makefile.am  |	2 +-
 m4/python.m4	   |	7 ++-----
 tests/Makefile.am |	2 +-
 4 files changed, 5 insertions(+), 10 deletions(-)

commit cd01f8ce1373f28b1427dd847bef44f747f1e6b3
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Mar 18 17:06:08 2011 +0100

    setup.py: fix user_access_control option

 setup.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2da60baec4f43c41f43527cbfde4e21e0eea728c
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Mar 16 10:22:35 2011 +0100

    [gi] Respect the MessageType for Gtk.MessageDialog

    Don't just ignore the type argument, actually pass it on. Thanks
    to Tualatrix
    Chou for spotting this!

 gi/overrides/Gtk.py |	  1 +
 1 file changed, 1 insertion(+)

commit 029a79d1af1e0998aa6bc88ce1c1f48ce0ccd2a0
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Mar 15 10:22:39 2011 +0100

    [gi] Do not require signature for D-BUS methods without arguments

    Calling methods on DBusProxy objects usually requires specifying
    the signature
    as first argument. However, if the D-BUS method does not take any
    arguments,
    specifying the empty '()' signature does not give any additional
    information,
    so allow the caller to just call the proxy method without any
    arguments.

    Also ensure that passing a non-string signature raises a
    comprehensible
    exception, instead of crashing deep in the GVariant leaf constructor.

    https://bugzilla.gnome.org/show_bug.cgi?id=644260

 gi/overrides/Gio.py |	 16 +++++++++++++++-
 tests/test_gdbus.py |	 13 +++++++++++++
 2 files changed, 28 insertions(+), 1 deletion(-)

commit 5bf66ce79267b25bcc80251f9170498fa1d765f6
Author: John Stowers <john.stowers@gmail.com>
Date:	Sun Mar 6 23:05:33 2011 +1300

    [gi-overrides] TreeViewColumn.set_cell_data_func func_data can be None

    https://bugzilla.gnome.org/show_bug.cgi?id=644343

 gi/overrides/Gtk.py |	  2 ++
 1 file changed, 2 insertions(+)

commit 8e4f86e17a1de533a93b0748fd8de3cbfa70ba62
Author: John Stowers <john.stowers@gmail.com>
Date:	Sun Mar 6 17:48:04 2011 +1300

    [gi-demos] dont try and run demos that represent directories

 demos/gtk-demo/gtk-demo.py |	 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 097e5efab29d3d2d91d0b9fc75bf00219e9b7810
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 7 18:09:18 2011 -0500

    [gi-demos] some python 3 compat fixes

 demos/gtk-demo/demos/Icon View/iconviewbasics.py |    6 ++++++
 demos/gtk-demo/demos/Tree View/liststore.py	  |    2 +-
 demos/gtk-demo/demos/rotatedtext.py		  |    4 ++--
 demos/gtk-demo/gtk-demo.py			  |    4 ++--
 4 files changed, 11 insertions(+), 5 deletions(-)

commit fd5d5ef3abc947d3c6066eea6378514f87b7f0ce
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 22 15:07:40 2011 -0500

    [gi-demos] add liststore demo

 demos/gtk-demo/demos/Tree View/liststore.py |	205
 +++++++++++++++++++++++++++
 1 file changed, 205 insertions(+)

commit 09de5cf99474fc8a34b5f4a61cede1fb47353ebb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Mar 7 18:08:40 2011 -0500

    [gi-demos] catch the correct error class

 demos/gtk-demo/demos/images.py |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 7284d2d4622978fc9ddfd00f2714b3a572b7ab56
Author: Steve Frécinaux <code@istique.net>
Date:	Sun Mar 6 21:18:36 2011 +0100

    Do not leak python references when using the gobject.property()
    helper.

    Since this helper was storing plain references in a long-lived
    dict, the
    refcount for the instances would never drop to zero, and so they would
    never get finalized.

    https://bugzilla.gnome.org/show_bug.cgi?id=644039

 gobject/propertyhelper.py |	5 ++---
 tests/test_properties.py  |   23 +++++++++++++++++++++++
 2 files changed, 25 insertions(+), 3 deletions(-)

commit 618dbb0ee15b47e5e7cb16a34ffce0937d7fa26d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 4 12:25:49 2011 -0500

    handle uchar as bytes, not strings in python 3

    * This worked in Python2 because bytes and strings are equivilant
    and the macro
      PYGLIB_PyString_FromStringAndSize evaluated to a PyString
    * In Python 3 PYGLIB_PyString_FromStringAndSize evaluates to
    a PyUnicode
    * PYGLIB_PyBytes_FromStringAndSize evaluates to a PyString in Python 2
      and a PyBytes object in Python 3

 gobject/pygtype.c |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e9483ff75b7a63ddda0fa9a9847f9f22ad71240
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 4 12:24:35 2011 -0500

    [gi-overrides] handle unichar gvalues when setting treemodels

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 6367bffa006e94dc667d7008fccad8d47d8d3646
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 4 11:43:51 2011 -0500

    [gi-overrides] special case python 2 keywords that crept in

 gi/overrides/Gtk.py	 |    6 +++++-
 tests/test_overrides.py |    8 ++++----
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 83b0f8a37d5f3236780d87a1ca466c5e44ae2bc0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 4 11:10:16 2011 -0500

    check for the py3 _thread module in configure.ac if thread is
    not found

 configure.ac |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 4645af87d3c587f535404867dab56608719e5c7b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Mar 4 00:39:23 2011 -0500

    [gi-demos] add iconview demo

 demos/gtk-demo/demos/Icon View/iconviewbasics.py |  212
 ++++++++++++++++++++++
 1 file changed, 212 insertions(+)

commit 761dcb516a04f7a89b3c7d68e88fff23055e2a80
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Mar 3 18:39:16 2011 -0500

    [gi] wrap the keyword argument in a dict so we don't break Python 2.5

    * python < 2.6 does not allow sending in keyword litterals after
    sending in
      *args.  You can only send in **kwds.

 gi/types.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9604e90af12a1b9dbe7d7f311308e87cd0ed7dd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Mar 3 18:30:40 2011 -0500

    [gi-demos] add the combobox with string ids section to the demos

 demos/gtk-demo/demos/combobox.py |   49
 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 48 insertions(+), 1 deletion(-)

commit b70f4daf071cf77a4561b57f5521eb928f66d1ce
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Mar 3 16:47:51 2011 -0500

    [gi-overrides] add an override for Gdk.RGBA

 gi/overrides/Gdk.py	 |   18 ++++++++++++++++++
 tests/test_overrides.py |   10 ++++++++++
 2 files changed, 28 insertions(+)

commit ee2b63f60f350332ed21927721ed9ddff3a8034e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Mar 3 16:10:17 2011 -0500

    [gi-demos] fix up search-entry to reflect annotations fixed in Gtk+
    master

 demos/gtk-demo/demos/Entry/search_entry.py |	23 +++++++++--------------
 1 file changed, 9 insertions(+), 14 deletions(-)

commit cd046e4c355706ead5f512b810a2a48317f8c32e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 2 18:13:43 2011 -0500

    [gi-demos] add search entry demo

 demos/gtk-demo/demos/Entry/search_entry.py |  257
 ++++++++++++++++++++++++++++
 1 file changed, 257 insertions(+)

commit d5ddaa92e6349c2f52b67317326060973cb69661
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Mar 2 15:37:27 2011 -0500

    [gi] wrap map in a list for Python 3 compat

 gi/types.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e5ab72a2e1fa2d8c4c2864137c6251f264ff4af
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 1 14:52:00 2011 -0500

    [gi-demos] fix up the validation combobox

 demos/gtk-demo/demos/combobox.py |   21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit 08af5f99f0838b3584f6a3b210d0a0304811e8ff
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Mar 1 12:31:35 2011 -0500

    add overridesdir variable in the .pc file for 3rd party overrides

 pygobject-2.0.pc.in |	  1 +
 1 file changed, 1 insertion(+)

commit 4a6b14a92a687a2311516b2c16c355216b5270a7
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Feb 11 17:14:11 2011 +0100

    setup.py: Set bdist_wininst user-access-control property

 setup.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ad3ab659b83cb985730e19a83651da319d4bcb9c
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Mar 2 16:29:00 2011 +0100

    Fix uninitialized variable in gi.require_version()

 gi/__init__.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6e7606ee8830f6f51b777f41f6df2f6ea1784e89
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Mar 1 23:26:07 2011 +0100

    Run tests with LC_MESSAGES="C"

    Some tests, such as tests/test_gdbus.py check parts of error messages
    or other
    visible strings. Ensure that these do not get translated in the
    test suite.

 tests/runtests.py |	2 ++
 1 file changed, 2 insertions(+)

commit 0461e05174637ae02f34029b85ba217d5ae48c53
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 28 18:21:43 2011 -0500

    [gi-overrides] override Gtk.stock_lookup to not return success

 demos/gtk-demo/demos/combobox.py |    2 +-
 gi/overrides/Gtk.py		  |    9 +++++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 40decf3501823004a6e4d3acbbf204c4d4d0a7ec
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 28 14:16:00 2011 -0500

    update NEWS to reflect changes in the 2.27.91 release (PYGOBJECT_2_28
    branch)

 NEWS |   50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit c2d5122b8e3cf51ec52418f90f1788895b842b6a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 28 14:08:05 2011 -0500

    [gi-tests] use Gdk.test_simulate_button instead of emitting event
    ourselves

     * this function is available specifically so we can test events so
     use this
       instead of creating our own button press event

 tests/test_overrides.py |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 1be1a2ea2787dffeb71ab4a38233fb71e761bd21
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Thu Feb 24 19:30:32 2011 +0100

    [gi-tests] tests for EventButton override.

     * John (J5) Palmieri - fixed up original patch so that we actually
       emit the event instead of just creating a Gdk.ButtonEvent object

    https://bugzilla.gnome.org/show_bug.cgi?id=642554

 tests/test_overrides.py |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 99044a4860dd65c97f52b41b7cd3f216f4a97cd4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 23 18:43:27 2011 -0500

    [gi-overrides] Add event methods to all event union members

    https://bugzilla.gnome.org/show_bug.cgi?id=642554

 gi/overrides/Gdk.py |	 70
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit 6e30c69d38fd382414eb820097c297a80be547ac
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 23 14:14:16 2011 -0500

    [gi] check to see if object is a member of a union when validating
    paramaters

    * union members are not subclasses of the union they belong to so
    if an
       inteface requires you pass a union but you pass one of its members
       there will be a type error
     * this patch checks to see if the type you are passing is a member
     of the
       union and passes the checks if it is
     * this works in python 3 but in python 2 methods do their own
     isinstance
       check on the instance parameter (e.g. self) so we need to figure
       out how to override that for union methods
       (e.g. Gdk.Event.get_state)

    https://bugzilla.gnome.org/show_bug.cgi?id=642554

 gi/pygi-argument.c |	38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 525f21d1365c24488b768955362085bf82512dee
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Feb 16 09:44:12 2011 +0100

    Skip interfaces when checking for conflicts in the MRO

    https://bugzilla.gnome.org/show_bug.cgi?id=642437

 gi/types.py		 |   40 ++++++++++++++++++++++++++++++++++++++++
 gobject/gobjectmodule.c |    9 +++++++--
 tests/test_gi.py	 |   16 ++++++++++++++++
 3 files changed, 63 insertions(+), 2 deletions(-)

commit da212024772a7a0c32f04f3589bfb24d2eb5706f
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Thu Feb 24 18:46:15 2011 +0100

    [gi] Remove DyanmicModule.load() to _load() to prevent overriding
    GI attrs.

 gi/importer.py |    2 +-
 gi/module.py	|    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2ce6b58c7427cf67ba4f55731ba0a4c04703e495
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Feb 23 12:05:03 2011 +0100

    Test case with John's fix for crash with C arrays and a GError is set.

    I have added a test case, and made a few fixes to John's patch,
    but the
    solution is the same his.

    Workaround a bug when freeing C array types

     * This is a hack and there is really no way around it without
     ripping out
	the current array handling code which spans between pygi-invoke.c
	and
	pygi-argument.c and completely rewriting it.
      * The is no time before our stable release
      * This patch trades a segfault for a leak in the very unusual
      case where
	an error occures inside an interface that takes one or more C
	arrays. Since
	we wrap C arrays in GArrays internally but have to unwrap them
	to send them
	to the introspected C function, there is a period of time where
	an error
	can occure with the C array in an unknown state (some being true
	C arrays
	and others still wrapped in a GArray)
      * This patch adds a c_arrays_are_wrapped state to signal that it
      is safe to
	free them.  However since c_arrays_are_wrapped can only track
	arrays
	as a group, not individually, if it is set to FALSE we can
	not assume
	that every array is a pure C array, so instead we will simply
	leak them
	to avoid incorrectly freeing one and causing a segfault.
      * This issue is fixed in the invoke rewrite branch as it treats
      C arrays and
	GArrays separately, however that branch is not yet ready to be
	merged and
	won't be until the next release.

    https://bugzilla.gnome.org/show_bug.cgi?id=642708

 gi/pygi-invoke.c |   54
 ++++++++++++++++++++++++++++++++++++++++++++++++++----
 tests/test_gi.py |    9 +++++++++
 2 files changed, 59 insertions(+), 4 deletions(-)

commit 702a89beca92cab6b0142829b20281b9245f28b8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 23 15:11:59 2011 -0500

    [gi-overrides] fix setting rows in treeview to accept None as a value

     * as done in PyGTK None indicates the column should not be set

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |   18 +++++++++++++-----
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 498f0d9c903131aca5efe27ffaad7620e40f72ea
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Feb 23 14:23:19 2011 +0100

    [gi] Add value_name for enum and flags from introspection
    "c:identifier" (if attr is available).

 gi/gimodule.c	  |   22 ++++++++++++++++++----
 tests/test_gi.py |   36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 54 insertions(+), 4 deletions(-)

commit 824aeb7fab17d6590e5babf2d1f64298f2d0e16b
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Feb 23 11:40:55 2011 +0100

    Fix flags with multiple names for the same value.

    Flags constructs a dict __flags_values__ and uses it to cache
    instances. However some flags in Glib such as G_IO_FLAG_MASK and
    G_IO_FLAG_GET_MASK are aliases for the same int value, and will
    override each other's place in the dictionary.

    The dict length check is not necessary. It only reduces the number
    of duplicate instances we keep, because if an instance is not
    found in the dict, a new one is created anyway.

 gobject/pygflags.c |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3afbebeee486e14fd3f48552368903eb78f6b10c
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Tue Feb 22 21:37:33 2011 +0100

    Don't force loading of DynamicModule until set in sys.modules

    This fixes Tomeu's previous commit, which removed lazy loading.
    Forcing the loading of a module before it is installed in sys.modules
    prevents some overrides from being registered (namely Gtk.main_quit).

    https://bugzilla.gnome.org/show_bug.cgi?id=642305

 gi/importer.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a9cbfb435b47dc646e2c6ffe630464b560229a6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 21 17:20:57 2011 -0500

    use GValue support to marshal GtkTreeModel values correctly

    * needs patch from https://bugzilla.gnome.org/show_bug.cgi?id=642914

    https://bugzilla.gnome.org/show_bug.cgi?id=642921

 gi/overrides/Gtk.py	 |   37 +++++++++++++++++---
 tests/test_overrides.py |   87
 ++++++++++++++++++++++++++++++++++++++++-------
 2 files changed, 107 insertions(+), 17 deletions(-)

commit 9e4ce7dc0f03ea407654c4af028122f57cbc4c5e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 21 16:14:20 2011 -0500

    [gi] pass raw GValues instead of trying to marshal them

    * Right now GValues are transparent to the user but this leave us no
       way to describe fundimental types other than those supported
       directly
       by python (e.g. int, str, etc)
     * If an interface is expecting a uint or other GValue type a user
     can now use
       the raw GValue interfaces and expect paramaters that take
       GValues to
       marshal them correctly e.g.:
	   value = GObject.Value()
	   value.int(GObject.TYPE_UINT)
	   value.set_uint(1234)
     * The objective here is to not for users to use this API but for
     overrides
       to be able to utilize them.  For instance in the TreeModel API
       we can
       get the expected type for a column and them create a GValue with
       the correct
       type so that he underlying python object is marshalled correctly.

    https://bugzilla.gnome.org/show_bug.cgi?id=642914

 gi/pygi-argument.c |	24 ++++++++++++++++++------
 tests/test_gi.py   |	 9 ++++++++-
 2 files changed, 26 insertions(+), 7 deletions(-)

commit b458f6f3424a04f6ceece09d443009372d70544c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Feb 19 19:42:41 2011 -0500

    [gi-demos] add icon view edit and drag-and-drop demo

 demos/gtk-demo/demos/Icon View/iconviewedit.py |  101
 ++++++++++++++++++++++++
 1 file changed, 101 insertions(+)

commit 7b47289e25d1dd57ce15556ccfbb3ede1c4bfe8b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Feb 19 17:26:42 2011 -0500

    [gi-demos] add info bars demo

 demos/gtk-demo/demos/infobars.py |   99
 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 99 insertions(+)

commit 76758efb6579752237a0dc4d56cf9518de6c6e55
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Feb 16 11:53:18 2011 +0100

    Load typelibs at import time, add gi.require_version()

    also adds Repository.get_loaded_namespaces()

    https://bugzilla.gnome.org/show_bug.cgi?id=642305

 gi/__init__.py       |   29 ++++++++++++++++++++++++++++-
 gi/importer.py       |    1 +
 gi/module.py	      |   21 ++++-----------------
 gi/pygi-repository.c |   23 +++++++++++++++++++++++
 4 files changed, 56 insertions(+), 18 deletions(-)

commit 96f7d1aed732db09a74cd463ed894b7347dbcb15
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Sat Feb 19 23:11:25 2011 +0100

    [gi] Register GType for non-GType enums and flags at runtime.

    Note: rebuild of gobject-introspection is required for new tests.

    Previously non-GType enums used a separate type implemented in
    Python, and non-GType flags had no implementation at all. This
    removes the separate type for enums, and registers a new GType at
    runtime if there isn't one.

    This allows non-GType enums and flags to use the same Python type
    as GType enums and flags. This removes duplication of code, and
    make both kinds behave identically.

    https://bugzilla.gnome.org/show_bug.cgi?id=642607

 gi/gimodule.c	    |  117
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/module.py	    |	24 +++++++----
 gi/pygi-info.c     |	15 +++++++
 gi/types.py	    |	16 -------
 gobject/pygflags.c |	13 ++++--
 tests/test_gi.py   |	35 ++++++++++++++++
 6 files changed, 191 insertions(+), 29 deletions(-)

commit 63a60bcc20e724f96ea8d565ee0cf13a228b72b9
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Feb 8 15:38:21 2011 +0100

    [gi] Add Pythonic gdbus method invocation

    Provide a wrapper for Gio.DBusProxy for calling D-Bus methods like
    on a normal
    Python object. This will handle the Python object <-> GVariant
    conversion, and
    optional keyword arguments for flags, timeout, and a result handler
    for
    asynchronous calls.

    Require specifying the input argument signature as the first argument
    of each
    method call. This ensures that the types of e. g. integers are
    always correct,
    and avoids having to do expensive D-Bus introspection for each call.

    https://bugzilla.gnome.org/show_bug.cgi?id=640181

 gi/overrides/Gio.py |	 99
 +++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gdbus.py |	102
 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 199 insertions(+), 2 deletions(-)

commit ed5cdbb6f52bdbd13521a814516b15687955d6f7
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Fri Feb 18 22:48:59 2011 +0100

    Skip GError out parameters in Python closure.

    Python code should have never have to explicitely return a GError.
    Once we are able to marshal exceptions the Python code should
    throw an exception instead. Until then, set GError to NULL, and
    don't complain if a Python function doesn't return an arg for it.

    https://bugzilla.gnome.org/show_bug.cgi?id=642715

 gi/pygi-closure.c |	8 ++++++++
 1 file changed, 8 insertions(+)

commit 5a5ee3877e22939a697772a7f0630ef8cae3d52f
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Fri Feb 18 10:15:59 2011 +0100

    Fix runtests.py to work with Python3 (print function syntax error).

 tests/runtests.py |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad5d3fccff9433e2dadac89d731dac5cafb0eac3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 17 19:46:49 2011 -0500

    [gi-demos] added rotate text demo

    * needs some Pango Attr fixes to be 100% done, See FIXME

 demos/gtk-demo/demos/rotatedtext.py |	196
 +++++++++++++++++++++++++++++++++++
 1 file changed, 196 insertions(+)

commit 9ac11c3c3b1c0399c85ece57c0983ed60d419d7a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 17 17:25:00 2011 -0500

    [gi-demos] add images demo

     * needs annotation fix from GdkPixbuf for ImageLoader to work

 demos/gtk-demo/demos/images.py |  311
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 311 insertions(+)

commit 13b06170b89b3468e6255be32af4833ffc675c9d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 17 14:48:24 2011 -0500

    [gi-demos] add pixbuf demo

 demos/gtk-demo/demos/pixbuf.py |  183
 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 183 insertions(+)

commit 7abcfd5b4db99bb0f50c5a47d346a2de3836f994
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 17 14:47:12 2011 -0500

    [gi-demos] remove fixmes from print demo, fixed in pango

 demos/gtk-demo/demos/printing.py |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 9b13f49356da7d71c69b82da2a59d92f456a6913
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 16 19:39:30 2011 -0500

    [gi-demos] add printing demo

    * needs some annotations for pango before it is 100% useful

 demos/gtk-demo/demos/printing.py |  177
 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 177 insertions(+)

commit 6025b62ee662af347e48b6752e6d5be74b4a8215
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 16 17:52:38 2011 -0500

    [gi-overrides] add cursor overrides

    https://bugzilla.gnome.org/show_bug.cgi?id=635947

 gi/overrides/Gdk.py	 |   41 +++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   23 +++++++++++++++++++++++
 2 files changed, 64 insertions(+)

commit 03c0aa498470037ef2aa6a8233198ff521f8d42f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 16 16:18:24 2011 -0500

    [gi-demos] add the links demo

 demos/gtk-demo/demos/links.py |   74
 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 74 insertions(+)

commit 79ecddf8d54b3f4f8b5ef05d302675152622c832
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 16 15:48:40 2011 -0500

    [gi-demos] add expander demo

 demos/gtk-demo/demos/expander.py |   60
 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 76cdb13ab872f91f8384d26b0f2932087a746117
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 16 15:14:35 2011 -0500

    [gi-overrides] use pop instead of del and add extra tests for
    Gtk.Table kwargs

 gi/overrides/Gtk.py	 |    6 ++----
 tests/test_overrides.py |    8 ++++++++
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 6ef83c049735689c42f085ca9d7b8e1f251c410f
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Tue Feb 15 20:07:42 2011 +0100

    [tests] Separate processes for GI and static binding tests.

    Importing and using both static gobject bindings and
    introspection GObject bindings in the same process can cause
    conflicts with types which otherwise wouldn't be there.

    This patch changes "make check" to call runtests.py twice -- once
    for each set of tests.

    In the case of a test failure, runtests.py now sets the exit code
    so that make does not continue. Otherwise you might miss the
    failures from the first batch of tests in the scrollback.

 tests/Makefile.am |   19 +++++++++++--------
 tests/runtests.py |	4 +++-
 2 files changed, 14 insertions(+), 9 deletions(-)

commit e0896b45f60f37097ec521f1bc38778383b78dd8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 14:47:10 2011 -0500

    [gi-demos] add dialogs demo

 demos/gtk-demo/demos/dialogs.py |  153
 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 153 insertions(+)

commit 2dea743e82f6b18697950c34f116b2d0f1d6b1dd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 14:46:41 2011 -0500

    [gi-overrides] fix typo in GtkTable constructor

 gi/overrides/Gtk.py |	  8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9c277e1782c5a9d672d91fabf5289c5415891682
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 13:26:38 2011 -0500

    [gi-demos] keep popup menu from destroying itself by holding a ref
    in app class

 demos/gtk-demo/demos/clipboard.py |	8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 18800c4db0e1faea38fd84f635d26a7ded5d10de
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 13:25:13 2011 -0500

    [gi-overrides] add a Gtk.Menu override for the popup method

 gi/overrides/Gtk.py |	  7 +++++++
 1 file changed, 7 insertions(+)

commit ad93386ba9f73ef4c3826544b3868cf03c01225e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 13:24:33 2011 -0500

    [gi-demos] fix the about dialog in appwindow demo

 demos/gtk-demo/demos/appwindow.py |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit d0c45c80974f05b6adfd3bb01d785be268a53a98
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 11:21:13 2011 -0500

    [gi-demos] fix clipboard demo so DnD works

    * menu popups don't work because the API takes a callback without
    a destroy
      notify

 demos/gtk-demo/demos/clipboard.py |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 02d0327508234ab2e3b7dc6de506d70e6fcaaa17
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Feb 15 10:18:53 2011 -0500

    [gi-demos] fix clipboard demo to reflect new API

 demos/gtk-demo/demos/clipboard.py |	6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit aa006cad6990eff0cbb68fa9550e428f2bc96473
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 18:17:20 2011 -0500

    [gi-demo] Fix color dialog demo to run with new draw, style and
    color apis

 demos/gtk-demo/demos/colorselector.py |   44
 +++++++++++++--------------------
 1 file changed, 17 insertions(+), 27 deletions(-)

commit f94a96c53e9432ac085bd05acee7ebdd2803fbad
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 17:58:25 2011 -0500

    [gi-demos] fix most of the combobox app

    * Still having some issues with filtering the ComboBoxText widget

 demos/gtk-demo/demos/combobox.py |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 3606eb20ad1651af621bf1aa429ec102082565eb
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Mon Feb 14 19:36:27 2011 +0100

    Use PyGI type conversion (to fix foreign types) for signal callbacks.

    First attempt at patch to fix foreign types in signal callbacks.
    Tests are not implemented yet.

    https://bugzilla.gnome.org/show_bug.cgi?id=637601

 gi/Makefile.am		  |    2 +
 gi/gimodule.c		  |    1 +
 gi/pygi-argument.c	  |   91 +++++++++++++++++
 gi/pygi-argument.h	  |    2 +
 gi/pygi-private.h	  |    1 +
 gi/pygi-signal-closure.c |  245
 ++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-signal-closure.h |   46 +++++++++
 gi/pygi.h		  |   28 ++++++
 gobject/pygobject.c	  |   24 ++++-
 9 files changed, 436 insertions(+), 4 deletions(-)

commit 2e39d5e8f96be2253acb2f34a0d0b5b9c9adb8ff
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 16:47:03 2011 -0500

    [gi-demos] fix drawingarea app to use the new draw api

 demos/gtk-demo/demos/drawingarea.py |	144
 ++++++++++++-----------------------
 1 file changed, 50 insertions(+), 94 deletions(-)

commit 8385afbbc5df295d9b7cd3b5d19c90faa1f7ea8e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 16:43:35 2011 -0500

    [gi-overrides] for Gtk 3 alias Gdk.Rectangle to cairo.RectangleInt

    * note this is the introspected gobject-cairo boxed type not the
    static cairo
      bindings
    * we alias this so people do not get confused

 gi/overrides/Gdk.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit d491c369e049ab726f09002af0462391d5c2f3ec
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 15:07:11 2011 -0500

    [gi-overrides] let user set the proper property names in Gtk.Table

    * the old override added a columns and rows parameters to the Table
    constuctor
      to be in sync with PyGtk.
    * The GTK properties are n_columns and n_rows
    * support both

 gi/overrides/Gtk.py |	  8 ++++++++
 1 file changed, 8 insertions(+)

commit 95bc2b2b025d659725d701c3b759c0c4d9681a36
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 15:06:38 2011 -0500

    [gi-demos] get appwindow demo working again

 demos/gtk-demo/demos/appwindow.py |   24 ++++--------------------
 1 file changed, 4 insertions(+), 20 deletions(-)

commit 015185f502c498c21cb108d3bb288c5b6dbf202f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Feb 14 15:05:44 2011 -0500

    [gi-demos] fixed use of tree_iter_get

 demos/gtk-demo/gtk-demo.py |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c20977e4598e5447dd07c069e91226efacb1160
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Fri Feb 11 22:02:03 2011 +0100

    Remove last GIO-related bits

    https://bugzilla.gnome.org/show_bug.cgi?id=638899

 PKG-INFO.in			 |    2 +-
 README				 |    3 +-
 configure.ac			 |    3 --
 examples/gio/directory-async.py |   33 -----------------
 examples/gio/downloader.py	 |   77
 ---------------------------------------
 pygobject.doap			 |    2 +-
 6 files changed, 3 insertions(+), 117 deletions(-)

commit e4ebbd7de5570af1abf41bdf9469d4ce3edd48cb
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Fri Feb 11 18:38:27 2011 +0100

    Remove GIO documentation

    https://bugzilla.gnome.org/show_bug.cgi?id=638899

 docs/Makefile.am			       |   82 +-
 docs/reference/pygio-appinfo.xml	       |  894 -----
 docs/reference/pygio-applaunchcontext.xml     |  194 --
 docs/reference/pygio-asyncresult.xml	       |  117 -
 docs/reference/pygio-bufferedinputstream.xml  |  461 ---
 docs/reference/pygio-bufferedoutputstream.xml |  275 --
 docs/reference/pygio-cancellable.xml	       |  290 --
 docs/reference/pygio-classes.xml	       |   47 -
 docs/reference/pygio-constants.xml	       | 1540 ---------
 docs/reference/pygio-datainputstream.xml      |  799 -----
 docs/reference/pygio-dataoutputstream.xml     |  504 ---
 docs/reference/pygio-drive.xml		       |  546 ---
 docs/reference/pygio-emblem.xml	       |  232 --
 docs/reference/pygio-emblemedicon.xml	       |  160 -
 docs/reference/pygio-file.xml		       | 4534
 -------------------------
 docs/reference/pygio-fileattributeinfo.xml    |   73 -
 docs/reference/pygio-fileenumerator.xml       |  488 ---
 docs/reference/pygio-fileicon.xml	       |  109 -
 docs/reference/pygio-fileinfo.xml	       |  346 --
 docs/reference/pygio-fileinputstream.xml      |  214 --
 docs/reference/pygio-filemonitor.xml	       |  128 -
 docs/reference/pygio-fileoutputstream.xml     |  257 --
 docs/reference/pygio-filterinputstream.xml    |  152 -
 docs/reference/pygio-filteroutputstream.xml   |  152 -
 docs/reference/pygio-functions.xml	       |  395 ---
 docs/reference/pygio-icon.xml		       |  217 --
 docs/reference/pygio-inputstream.xml	       |  730 ----
 docs/reference/pygio-loadableicon.xml	       |  198 --
 docs/reference/pygio-memoryinputstream.xml    |  151 -
 docs/reference/pygio-memoryoutputstream.xml   |  175 -
 docs/reference/pygio-mount.xml		       |  962 ------
 docs/reference/pygio-mountoperation.xml       |  726 ----
 docs/reference/pygio-outputstream.xml	       |  140 -
 docs/reference/pygio-seekable.xml	       |  231 --
 docs/reference/pygio-simpleasyncresult.xml    |  317 --
 docs/reference/pygio-themedicon.xml	       |  204 --
 docs/reference/pygio-unixinputstream.xml      |  202 --
 docs/reference/pygio-unixoutputstream.xml     |  202 --
 docs/reference/pygio-volume.xml	       |  718 ----
 docs/reference/pygio-volumemonitor.xml        |  844 -----
 docs/reference/pygiounix-classes.xml	       |   13 -
 docs/reference/pygobject-ref.xml	       |    2 -
 42 files changed, 1 insertion(+), 19020 deletions(-)

commit abdebc7f6515f9658812c0355d8ad0892e5371e4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Feb 11 11:05:04 2011 -0500

    bump version to reflect the master branch moving towards pygobject 3.0

    * added NEWS file from branch pygobject-2-28
    * bump to 2.90.1
    * this branch will drop support for the static binding
    * use the pygobject-2-28 branch for static binding fixes

 NEWS	      |  289
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    4 +-
 2 files changed, 291 insertions(+), 2 deletions(-)

commit 16140237aa45b4f188923da9f95b9d2af971011b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 10 16:46:08 2011 -0500

    fix build to correctly use python-config

 autogen.sh	   |	3 +++
 configure.ac	   |	6 ------
 m4/python.m4	   |	9 +++++----
 tests/runtests.py |	1 +
 4 files changed, 9 insertions(+), 10 deletions(-)

commit c2079f415638ef892b1e51f25eaafa3e1621667f
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Feb 10 22:26:00 2011 +0100

    Add missing libraries to link against

 glib/Makefile.am    |	  2 +-
 gobject/Makefile.am |	  1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 3cca62a9e7afd3d3d302c66f4fafe253f7743d4e
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Jan 19 15:00:56 2011 +0100

    Make runtests.py able to run command-line provided test files

    With this patch we are now able to run ./runtests.py <somefile>, which
    is more friendly than defining an environment variable to run some
    specific tests.

    https://bugzilla.gnome.org/show_bug.cgi?id=639948

 tests/runtests.py |	9 +++++++++
 1 file changed, 9 insertions(+)

commit 14c4cf8e6edae893538680964380d543bde4a14d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Feb 9 11:34:59 2011 +0100

    Run test suite under dbus-launch

    When available, run the test suite in dbus-launch, so that the
    GDBus tests
    succeed even when building this in an environment without a running
    session
    D-BUS (such as distribution package builds).

 tests/Makefile.am |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0858f550e2b6f75e3f583f963f5952f5ddae4e0e
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Feb 8 15:46:36 2011 +0100

    Fix test_gdbus.py to be Python3 friendly

    - TestCase.assert_() has been deprecated by assertTrue().
    - Exceptions don't have a message attribute any more, use str(e)

 tests/test_gdbus.py |	 34 +++++++++++++++-------------------
 1 file changed, 15 insertions(+), 19 deletions(-)

commit b7f32e4cca0cef201489b55653f96ac64a8f9ab9
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Sat Jan 29 12:20:50 2011 +0100

    [gi] Provide comfortable GSettings API

    Make Gio.Settings behave like a dictionary, with transparent
    conversion from/to
    GVariants. Also provide a more comfortable constructor.

    https://bugzilla.gnome.org/show_bug.cgi?id=640838

 gi/overrides/Gio.py		  |   54 ++++++++++++++++++++++++++++
 tests/org.gnome.test.gschema.xml |    9 +++++
 tests/test_overrides.py	  |   73
 ++++++++++++++++++++++++++++++--------
 3 files changed, 122 insertions(+), 14 deletions(-)

commit 8dad0eaed60a9de26e9a729a48a1f6bc74be486e
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Fri Feb 4 16:36:07 2011 +0100

    Fix vfunc search bug when using GInterfaces and a do_* method.

    If a class inherits from a GInterface, as well as implements a do_*
    method (which is not in a super class), all the base interfaces
    will be searched for an __info__ attribute. GInterface doesn't
    have one, causing an error on class creation.

    https://bugzilla.gnome.org/show_bug.cgi?id=641493

 gi/types.py	  |    4 +++-
 tests/test_gi.py |    8 ++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 2660be1f227be7a53092483bc9d8ead1bd1fb266
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Thu Feb 3 15:31:42 2011 +0100

    [GI] Add tests for Gtk.Widget.drag_* methods.

    Previously all the drag_* methods were accessible as Gtk.drag_*.
    Now that the (method) attribute has been included for these
    methods in Gtk+, this test checks that they are included as class
    methods when using pygobject introspection.

    https://bugzilla.gnome.org/show_bug.cgi?id=639945

 tests/test_overrides.py |   40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit d57500537014b3da624be33b40401ba289fa22b8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Feb 3 09:02:16 2011 -0500

    [gi] make caller allocates work again

 gi/pygi-cache.c  |   18 +++---------------
 gi/pygi-invoke.c |   37 ++++++++++++++++++++++++++++++++++---
 2 files changed, 37 insertions(+), 18 deletions(-)

commit 99d6e6c8d806e6f9e48c3c2380024fb3511d110a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Feb 2 19:27:40 2011 -0500

    [gi] fix container object reffing

 gi/pygi-argument.c |	 7 +++----
 gi/pygi-cache.c    |	12 ++++--------
 2 files changed, 7 insertions(+), 12 deletions(-)

commit 09acaff29dfaabc77477cffca2c7137f68991e7f
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Feb 2 21:00:48 2011 +0100

    [python 3] use the right syntaxis to raise exceptions

 codegen/argtypes.py	|    8 ++++----
 codegen/definitions.py |   14 +++++++-------
 gi/overrides/Gtk.py	|    2 +-
 3 files changed, 12 insertions(+), 12 deletions(-)

commit 36094e5982d3e05d5662843b6d401f0974f5235f
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Feb 2 20:50:12 2011 +0100

    [gi] return PYGLIB_MODULE_ERROR_RETURN on error and use pygobject_init

 tests/testhelpermodule.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c913c1789296310c2cf27554ce719d7f6e9c94cd
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Feb 2 20:37:21 2011 +0100

    [gi] return PYGLIB_MODULE_ERROR_RETURN on error

    This is to avoid some warnings when building with python 3

 gi/gimodule.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7bc4122897d9d05172a2bd5b56bded87e2afaec4
Author: Steve Frécinaux <code@istique.net>
Date:	Sat Jan 29 00:16:50 2011 +0100

    Fix wrong refcount when calling introspected widget constructors

    Introspected widget constructors, like Gtk.Button.new(), can return
    objects with a floating reference, which was then reffed by pygobject,
    resulting in two references, despite the object is not owned by
    anyone.

    This patch uses ref_sink() when pygobject takes its own reference, to
    avoid adding that extra reference. Hence we now claim ownership on
    objects returned by constructors with transfer=none (which is the case
    for nearly all the widget constructors, despite the floating ref).

    https://bugzilla.gnome.org/show_bug.cgi?id=640868

 gobject/pygobject.c	  |    4 +++-
 tests/test_everything.py |    9 ++++++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit afeaaa126f7cd6556fb855ecd0facc174c0f946c
Author: Simon Schampijer <simon@laptop.org>
Date:	Wed Jan 19 16:19:46 2011 +0100

    Gdk.Window: Map the standard constructor to the *new* constructor

    Gdk.Window had to be made abstract
    (see c4a36d875235e0bf1e52dbf2fa14d08bfc8bd4ec in gtk),
    this override allows using the standard constructor

    This commit adds as well a testcase.

    https://bugzilla.gnome.org/show_bug.cgi?id=639936

 gi/overrides/Gdk.py	 |    6 ++++++
 tests/test_overrides.py |    8 ++++++++
 2 files changed, 14 insertions(+)

commit 4a67f45880433905de33632fe0c32a13b44c0b33
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 31 16:51:37 2011 -0500

    [gi] handle hash being NULL

 gi/pygi-argument.c |	 6 ++++++
 1 file changed, 6 insertions(+)

commit 2fbfe410f4b4394a2018ada0e538585c1bec23ae
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 31 16:50:52 2011 -0500

    [gi] handle the situation where an aux arg comes before its parent

 gi/pygi-cache.c  |   70
 ++++++++++++++++++++++++++++++++++++++----------------
 gi/pygi-invoke.c |    2 +-
 2 files changed, 51 insertions(+), 21 deletions(-)

commit 858669f92c9907dd70b4966d6a8521ed122225be
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 31 17:38:52 2011 +0100

    Ship tests/org.gnome.test.gschema.xml in dist tarballs

 tests/Makefile.am |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 77d76df59606e470808085e977fb199cc76e8251
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 30 18:21:24 2011 -0500

    [gi] allow caching and marshalling of ghash out

 gi/pygi-argument.c |  155
 ++++++++++++++++++++++++++++++++++++++++++++++++----
 gi/pygi-cache.c    |	27 +++++----
 2 files changed, 162 insertions(+), 20 deletions(-)

commit bd66af67f248a3ca90d2fa2626605263c2392e16
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 30 17:06:44 2011 -0500

    [gi] whitespace fixes

 gi/pygi-cache.c |   60
 +++++++++++++++++++++++++++----------------------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit 1cdbd4be9b015f792c2c02afa5ac7e24edbdae86
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 30 17:04:13 2011 -0500

    [gi] added ugly aux arg counters

    * we need to simplify the ffi invoke so we can simply reference args
      at their position in the C parameter list
    * this works for now but is fragile if new aux values are added in
    the future

 gi/pygi-argument.c |	12 ++++++++--
 gi/pygi-cache.c    |	66
 +++++++++++++++++++++++++++++++++++-----------------
 gi/pygi-cache.h    |	 2 ++
 gi/pygi-invoke.c   |	12 +++++++---
 4 files changed, 66 insertions(+), 26 deletions(-)

commit c51447f4efde2ce4caf39c1ffac905ec428d1d64
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 30 11:30:54 2011 -0500

    [gi] make inout marshalling work

    * refactor cache generation so we can create caches and then fill
    in their
      values based on if they are in, out or inout
    * in invoke we order the pointers based on their direction

 gi/pygi-cache.c  | 1445
 ++++++++++++++++++++++++++----------------------------
 gi/pygi-invoke.c |   19 +-
 2 files changed, 711 insertions(+), 753 deletions(-)

commit 2b185362de45f46ce0f0b8816499aef06ab1ad1e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jan 29 13:49:36 2011 -0500

    [gi] marshal arrays out

 gi/pygi-argument.c |  101
 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 99 insertions(+), 2 deletions(-)

commit e62e7062d5cfd782eac64852f681c63e2776b8d4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jan 29 13:48:23 2011 -0500

    [gi] fix sequence caching to support out

 gi/pygi-cache.c |  111
 +++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 87 insertions(+), 24 deletions(-)

commit 69207910209ebfe450df616aeb8fa4cc2e7eccf3
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Jan 28 17:14:19 2011 +0100

    [gi] Add GSettings tests

    Ryan Lortie proposed an override for more convenient GSettings access,
    so let's
    first make sure that the canonical GLib API works.

 tests/Makefile.am		  |    7 +++++--
 tests/org.gnome.test.gschema.xml |   16 ++++++++++++++++
 tests/test_overrides.py	  |   31 +++++++++++++++++++++++++++++++
 3 files changed, 52 insertions(+), 2 deletions(-)

commit 488478a83640d50baee963337fcc870fec76b784
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Jan 28 07:20:26 2011 +0100

    [gi] Provide GtkTextBuffer.insert_with_tags_by_name()

    Provide an actual insert_with_tags_by_name() instead of overloading
    insert_with_tags() to handle both types. This keeps the overrides
    consistent
    with the actual GTK API.

 gi/overrides/Gtk.py	 |   19 ++++++++++++++-----
 tests/test_overrides.py |    4 ++--
 2 files changed, 16 insertions(+), 7 deletions(-)

commit dace1a553793fb7fb054b60760f02c9e5cf00b38
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 27 13:37:18 2011 +0100

    [gi] Support tag names in GtkTextBuffer.insert_with_tags()

    Neither insert_with_tags() nor insert_with_tags_by_name() are
    introspectable
    due to using varargs. As both are useful, support both cases in
    the override.

 gi/overrides/Gtk.py	 |    5 +++++
 tests/test_overrides.py |    9 +++++++++
 2 files changed, 14 insertions(+)

commit 91d34124b2a5128e93e13c7fee8693d5edc4e9bb
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Jan 27 12:23:18 2011 +0100

    Add MAINTAINERCLEANFILES

    This var behaves like .gitignore and allows us to skip some specific
    files.

 Makefile.am |	 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 8a98d26981ce68809a21c64cac4962e58c927905
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Jan 27 12:15:30 2011 +0100

    Remove .gitignore files and use git.mk

    git.mk is a script maintained in pango. From time to time we must
    check if it was updated and update it here.

 .gitignore		   |   46 -----------
 Makefile.am		   |	2 +
 codegen/.gitignore	   |	2 -
 codegen/Makefile.am	   |	2 +
 docs/.gitignore	   |	7 --
 docs/Makefile.am	   |	2 +
 examples/Makefile.am	   |	2 +
 gi/.gitignore		   |   40 ---------
 gi/Makefile.am		   |	2 +
 gi/overrides/Makefile.am  |	2 +
 gi/repository/Makefile.am |	2 +
 gi/tests/Makefile.am	   |	2 +
 git.mk			   |  200
 +++++++++++++++++++++++++++++++++++++++++++++
 glib/Makefile.am	   |	2 +
 gobject/.gitignore	   |	3 -
 gobject/Makefile.am	   |	2 +
 tests/.gitignore	   |	2 -
 tests/Makefile.am	   |	2 +
 18 files changed, 222 insertions(+), 100 deletions(-)

commit 331c42b63bc60a3b906fa21e1c0a7c1b9428f347
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 27 12:04:19 2011 +0100

    pygi-convert.sh: Convert Pango.TabAlign.*

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit be1a2959fa0a3d8682e0e8aef389d73dacab0689
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 27 12:02:39 2011 +0100

    pygi-convert.sh: Drop window -> get_window() conversion

    It is doing more harm than good for projects which use things like
    self.window.

 pygi-convert.sh |    1 -
 1 file changed, 1 deletion(-)

commit dd7deb4b658c56857c26b1a278a3d688f2ea6a2a
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 27 11:58:26 2011 +0100

    pygi-convert.sh: Don't convert self.window assignments

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 975341a26772966d4afc87a88a6a566d61237fa0
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Jan 21 18:41:54 2011 +0100

    Fix leaked python reference in python-defined subclasses

    https://bugzilla.gnome.org/show_bug.cgi?id=640184

 gobject/gobjectmodule.c |    1 +
 tests/test_gobject.py	 |    4 ++++
 2 files changed, 5 insertions(+)

commit a59e2d58bdb3f31a4f415dbe14b7d9988ac28ce3
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Jan 21 15:54:43 2011 +0100

    Add some tests for the number of python refs held at creation time

    https://bugzilla.gnome.org/show_bug.cgi?id=640184

 tests/test_gobject.py |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 7d70105eb324ea4b6a58c2d3fb3f2dda36e7ab33
Author: Steve Frécinaux <code@istique.net>
Date:	Fri Jan 21 17:24:49 2011 +0100

    Factor out parameter marshalling from construction functions.

    https://bugzilla.gnome.org/show_bug.cgi?id=640197

 gobject/gobjectmodule.c     |	 35 ++-------------------
 gobject/pygobject-private.h |	  5 +++
 gobject/pygobject.c	     |	 71
 +++++++++++++++++++++++++------------------
 3 files changed, 50 insertions(+), 61 deletions(-)

commit a3e0cfe8924887ecd1e07cedd2cfb999c853ac62
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 26 15:34:24 2011 -0500

    [gi] in python 3 an array of uint8 can be bytes but not string

 tests/test_gi.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 843553ea958eddec185bb660851a310dc050a14b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 26 15:30:06 2011 -0500

    [gi] fix Gio.FileEnumerator to reflect the Python 3 iter protocol

 gi/overrides/Gio.py |	  6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6ff357839feb39930a5f3175de3d0ed35f24d3f4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 26 15:17:03 2011 -0500

    [gi] python 3 fixes

    Patches need to work in Python 3 - here are some of the issues I
    fixed up.
    Patch submitters should keep this in mind.	When I note to only
    use something
    in tests it means that there is a compat module that is only available
    to the
    tests.  Actuall code should either add the workaround to the top
    of their
    module or try not to have a distinction between things such as
    unicode and
    longs which no longer exist in Python 3

    * use range instead of xrange - loss of performance in Python 2 but
    Python 3 i
      treats range similarly to python 2's xrange
    * use dict.items() instead of dict.iteritems() - same as the xrange
    issue
    * callable does not exist in 3.x, use hasattr(obj, '__call__') or

	  if sys.version_info > (3, 0):
	      def callable(obj):
		  return hasattr(obj, '__call__')

    * using unicode in tests is tricky, you can't use u'' even in
    a versioned
      conditional as python3's parser chokes on it. Do this in tests
      (and only i
      in tests):

	  from compathelper import _unicode
	  unicode_string = _unicode('this is a unicode string')

    * exception caching changed in 2.7, instead of except Exception,
    e we now use
      except Exception as e.  Do this to be compatible with older
      versions:

	  except Exception:
	      etype, e = sys.exc_info()[:2]

    * Unbound methods with an im_func attribute no longer exits in 3.x.
      Unbound methods are now just functions so class.method in 3.x is
      equivalent to class.method.im_func in 2.x.  If you have to go this
      low level do this:

	  func = class1.method
	  if sys.version_info < (3,0):
	      func = func.im_func

    * all numbers are long in 3.x so 42L is invalid in 3.x.  In tests (and
      only in tests) do this:

	  from compathelper import _long
	  l = _long(42)

 gi/overrides/GLib.py	 |   16 ++++++++--------
 gi/types.py		 |    5 ++++-
 tests/compathelper.py	 |   19 +++++++++++++++++++
 tests/test_gdbus.py	 |   12 ++++++++----
 tests/test_gi.py	 |   19 ++++++++++++-------
 tests/test_overrides.py |    8 +++++---
 6 files changed, 56 insertions(+), 23 deletions(-)

commit 832d662b9f90f5762bbf28b3cca73f947c1f83ce
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 26 14:00:08 2011 -0500

    [gi] fix try/except blocks using depricated raise format

 gi/overrides/GLib.py |    4 ++--
 gi/overrides/Gdk.py  |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit d3e30e240fed6ef1dd40fd29fd13dc2effc6c7b1
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 26 19:03:48 2011 +0100

    [gi] Add docstring to GLib.Variant constructor

 gi/overrides/GLib.py |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 963cd52fec26f7a4fb34414f8ac6662932ede322
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 26 18:45:38 2011 +0100

    [gi] update gdbus test cases for previous GVariant change

 tests/test_gdbus.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 27e3a6276ff5f2cdc03ddf69ee80d44c3bf2c094
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 26 18:39:17 2011 +0100

    [gi] Accept only a single object in GLib.Variant constructor

    We previously allowed flat arguments for tuple signatures, e. g.

      GLib.Variant('(ii)', 1, 2)

    However, that's not how GVariant is supposed to work. Remove the
    special case
    to handle flat argument lists, and only accept a single value, i. e.

      GLib.Variant('(ii)', (1, 2))

    Note that this breaks the current API, but as it is not used widely
    yet, let's
    better fix it now.

    Thanks to Ryan Lortie for pointing this out!

 gi/overrides/GLib.py	 |   25 ++++++++++---------------
 tests/test_overrides.py |   32 +++++++++++++-------------------
 2 files changed, 23 insertions(+), 34 deletions(-)

commit b15e8e2c0c933d0f827a70280faf875ac383d81b
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Jan 26 00:40:49 2011 +0100

    Speed up _setup_native_vfuncs()

    This changes _setup_native_vfuncs() to only install native
    vfunc wrappers from the current class on the current class.
    Native vfuncs will not be propogated up or down the class
    hierarchy as this is unnecessary and wastes CPU and memory.

    Since the normal process in python to retrieve a method or
    attribute recurses to the base classes if an attribute is not
    found in the subclass, there is no need to setup all base class
    virtual functions on a subclass.

    This patch removes the recursion in _setup_native_vfuncs()
    and lets Python find them in the base classes like a normal
    Python class would work. This significantly increases the speed
    of any class which is or inherits from a C class which includes
    virtual methods.

    https://bugzilla.gnome.org/show_bug.cgi?id=640629

 gi/types.py	  |   26 +++++++++++++-------------
 tests/test_gi.py |   13 +++++++++++++
 2 files changed, 26 insertions(+), 13 deletions(-)

commit 569d42ac2f50fb706ef289ff631db743483f40ee
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Thu Jan 20 16:26:18 2011 +0100

    Speed up class creation: rewrite _setup_vfuncs() to be much more
    efficient.

    This patch rewrites the _setup_vfuncs() method to remove recursion and
    make the running time linear in the number of virtual functions to
    hook up
    (ie. methods starting with "do_") instead of linear in the number of
    virtual functions in the base class which could possibly be
    overridden.

    Since most classes do not override all of the virtual functions in the
    base class (and many override none), this runs much faster.

    It is possible to not recurse on all base classes because
    non-interface
    base classes will have the virtual function installed as an attribute.
    Thus getattr() can be called, which recurses to the base classes much
    faster than a custom implementation in Python. If the method cannot be
    found with getattr(), all interface bases classes are searched
    manually.

    The function is_function_in_classes() has been deleted. Because of the
    above changes, it is not used anymore.

    https://bugzilla.gnome.org/show_bug.cgi?id=640073

 gi/types.py	  |  104
 +++++++++++++++++++++++++++++++++---------------------
 tests/test_gi.py |   13 +++++++
 2 files changed, 77 insertions(+), 40 deletions(-)

commit 8f4e6536f3c2edf38a45632d1c23eb7c6681c3be
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 24 19:23:19 2011 +0100

    pygi-convert.sh: Convert gtk.UI_MANAGER_*

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 1f473b5164407a178203eb8cc7f3c786e0d0e5c2
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Fri Jan 21 18:41:54 2011 +0100

    pygi-convert.sh: Convert gdk.GRAB_*

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit f5d0b7b9d189f65503c0bf66d8bda4186ca3223a
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Fri Jan 21 16:45:07 2011 +0100

    [gi] set the gtype GValue correctly

 gi/pygi-property.c |	 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ce521011d7f6d7f082aaea76fa05c5af9f6e93f5
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Fri Jan 21 16:20:23 2011 +0100

    [gi] use the right argument type for callback

 gi/pygi-foreign-cairo.c    |	 8 ++++----
 gi/pygi-foreign-gvariant.c |	 4 ++--
 gi/pygi-foreign-gvariant.h |	 2 +-
 gi/pygi-foreign.c	    |	 2 +-
 gi/pygi.h		    |	 2 +-
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 9f101baaa63a75acf62f955cfc4b311ff0dd5464
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 09:23:54 2011 -0500

    [gi] marshal out flags and enum

 gi/pygi-argument.c |	14 +++++++++-----
 gi/pygi-cache.c    |	24 ++++++++++++------------
 2 files changed, 21 insertions(+), 17 deletions(-)

commit 4c93bdeae76830aa4029dfc86e32e6f277d5271d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 08:18:37 2011 -0500

    [gi] marshal unions

 gi/pygi-cache.c |   27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit a060287d1a6d190acb9d344f08fd5662e3296da5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Jan 21 11:00:27 2011 +0100

    [gi] Add test cases for GDBus client operations

 tests/Makefile.am   |	  1 +
 tests/test_gdbus.py |	 94
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 95 insertions(+)

commit e7699d9af41f8c374326b8a4ec0939ef1426e386
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 04:28:15 2011 -0500

    [gi] error out if the constructor returns NULL

 gi/pygi-invoke.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 58ff2b2c38c1004861083ca88633be76767229f0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 04:26:45 2011 -0500

    [gi] throw error for caller allocates until we can write code to
    support it

 gi/pygi-cache.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 5eb779439daa8bf1e86df689377dc10ef1430eab
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 04:26:11 2011 -0500

    [gi] support struct out

 gi/pygi-argument.c |	30 ++++++++++++++++++++++++++----
 gi/pygi-cache.c    |	15 ++-------------
 2 files changed, 28 insertions(+), 17 deletions(-)

commit 3133dc595adf44279397d30712c0f8595f0e1acc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jan 21 04:22:06 2011 -0500

    [gi] move to using type_info and interface_info instead of arg_info

    * only arguments have arg_infos, not return types and instances so
      type_info is much better to pass.  In fact most API that took an
      arg_info simply converted it to a type_info
    * In the case of instances for methods we don't even have a type_info.
      Since all instances are interfaces, we also attach the
      interface_info
      to the interface cache

 gi/pygi-argument.c	    |	20 ++++----------------
 gi/pygi-cache.c	    |	43
 ++++++++++++++++++++++++++++++++-----------
 gi/pygi-cache.h	    |	 4 +++-
 gi/pygi-foreign-cairo.c    |	24 ++++++++++++------------
 gi/pygi-foreign-gvariant.c |	11 +++++------
 gi/pygi-foreign-gvariant.h |	10 +++++-----
 gi/pygi-foreign.c	    |	21 +++++++++------------
 gi/pygi-foreign.h	    |	 6 +++---
 gi/pygi.h		    |	 8 ++++----
 9 files changed, 77 insertions(+), 70 deletions(-)

commit e97e28048efb966ecc1a03277d36cbaa81b8db7d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Jan 21 09:54:14 2011 +0100

    [gi] Add Variant construction/unpack support for boxed Variants

    Construction uses a GVariantBuilder for now, as the new_variant()
    constructor
    currently does not work (see
    https://bugzilla.gnome.org/show_bug.cgi?id=639952)

 gi/overrides/GLib.py	 |   18 +++++++++++++++++-
 tests/test_overrides.py |   26 ++++++++++++++++++++++++++
 2 files changed, 43 insertions(+), 1 deletion(-)

commit 71dd03261fc06b8180c14cd31b54d8e4b200be3a
Merge: bc29600 bd002c7
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Fri Jan 21 09:33:16 2011 +0100

    Merge branch 'windows-setup-fixes'

commit bc29600a2a04c972ceab7ef8d3292e8633977591
Author: Thomas Hindoe Paaboel Andersen <phomes@gmail.com>
Date:	Thu Jan 20 19:48:23 2011 +0100

    pygi-convert.sh: GdkPixbuf methods

    GNOME bug #639880

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit d1b0fa501cc431baa530d96fb50f4c35590890ac
Author: Thomas Hindoe Paaboel Andersen <phomes@gmail.com>
Date:	Thu Jan 20 19:45:01 2011 +0100

    pygi-convert.sh: Gdk.COLORSPACE_RGB

    GNOME bug #639880

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 6d8ff4d5bdda5480089543869535cc3ee83da2f5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 11:41:11 2011 +0100

    [gi] Support nested objects and empty sequences in GLib.Variant
    building

    The GVariant constructor (in the overrides) previously did not
    support empty
    arrays/dictionaries or nested structures. Rewrite the VariantCreator
    class to
    be fully recursive and determine the element types of
    arrays/dictionaries.

    This now also allows you to use actual tuples as input values for
    GVariant
    tuple types. Taking values from the flat argument list is still
    supported for
    convenience, though.

    https://bugzilla.gnome.org/show_bug.cgi?id=639939

 gi/overrides/GLib.py	 |  229
 +++++++++++++++++++++++++----------------------
 tests/test_overrides.py |  159 ++++++++++++++++++++++++++++++--
 2 files changed, 273 insertions(+), 115 deletions(-)

commit ac095f5435f106e175fa3297cb273e63c85d2809
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jan 20 15:55:45 2011 +0100

    Uncomment test_gi.TestInterfaceClash

 tests/test_gi.py |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 1239f3709ba257c404dda72b7067b77b19c240fa
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jan 20 09:05:02 2011 -0500

    [gi] add support for enum and flags

 gi/pygi-argument.c |  121
 +++++++++++++++++++++++++++++++++++++++++-----------
 gi/pygi-cache.c    |	30 +++++++------
 2 files changed, 111 insertions(+), 40 deletions(-)

commit f0a0b6c2eda89622de2b1e5ebb6a48103ad72a42
Author: Steve Frécinaux <code@istique.net>
Date:	Thu Jan 20 14:14:15 2011 +0100

    Fix reference leaks for GInitiallyUnowned objects

    References were leaked for GInitiallyUnowned objects which got their
    wrappers created several times, because someone else holds reference
    on it and it got out of python scope at some point.

    https://bugzilla.gnome.org/show_bug.cgi?id=639949

 gobject/gobjectmodule.c  |    2 ++
 gobject/pygobject.c	  |   14 +++++------
 tests/test-floating.c	  |   36 ++++++++++++++++++++++++++
 tests/test-floating.h	  |   21 ++++++++++++++++
 tests/test_gobject.py	  |   63
 ++++++++++++++++++++++++++++++++++++++++++++++
 tests/testhelpermodule.c |   50 ++++++++++++++++++++++++++++++++++++
 6 files changed, 179 insertions(+), 7 deletions(-)

commit cae2cf3d4fb049c94389bf8f84d7d97a544d7a3f
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Jan 19 16:57:57 2011 +0100

    Add tests for refcount of a GObject owned by a library

    When the object is constructed, its refcount is 2 because the library
    refs it once. It should remain around until we ask the library to
    release its reference.

    https://bugzilla.gnome.org/show_bug.cgi?id=639949

 tests/test-floating.c	  |   30 ++++++++++++++++++++++
 tests/test-floating.h	  |   20 +++++++++++++++
 tests/test_gobject.py	  |   62
 ++++++++++++++++++++++++++++++++++++++++++++++
 tests/testhelpermodule.c |   51 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 163 insertions(+)

commit b6737b91938d527872eff1d645a205cacf94e15d
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Jan 19 14:52:41 2011 +0100

    Add a test to check for regular object reference count

    https://bugzilla.gnome.org/show_bug.cgi?id=639949

 tests/test_gobject.py |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 2b0f1ede820414ef1cfd6b37569fcb946d2031fc
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 20 14:15:52 2011 +0100

    [gi] Update TreeView.enable_model_drag_{source,dest} to current GTK

    GTK master now landed a lot of annotation fixes which also correctly
    marks the
    array length argument of
    Gtk.TreeView.enable_model_drag_{source,dest}(). Thus
    drop the explicit array length argument from the call in the override.

 gi/overrides/Gtk.py |	  2 --
 1 file changed, 2 deletions(-)

commit b59edf4f0f7cab44033f9d704d476e10ee0d0c0a
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Jan 19 18:04:10 2011 +0100

    Fix a typo in a private symbol name.

 gobject/gobjectmodule.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6447688e283a8fb22de3ab68cbc06e34ad23d198
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 20 11:49:08 2011 +0100

    pygi-convert.sh: Convert glib.source_remove()

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 84ee8de4bc00a8f901926cc6386d73c12dbd0b0b
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 20 11:42:34 2011 +0100

    Fix typo in previous commit to actually convert glib.GError

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b238cb614338f46e6feb7935cca0a55c7a929418
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Thu Jan 20 11:40:14 2011 +0100

    pygi-convert.sh: Move some glib bits which are better handled
    by gobject

 pygi-convert.sh |    3 +++
 1 file changed, 3 insertions(+)

commit 21c09a7ee294b59abb3eca6f64f13bf5c8a2fa0e
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Jan 19 12:00:02 2011 +0100

    Modify override for Gtk.Adjustment to allow position or keyword
    arguments in __init__().

    Previously passing no arguments was not working, because the default
    value for each parameter was None, and GObject.__init__() refuses to
    allow None for integer properties. This patch does not pass None up
    to GObject.__init__. Instead it does not pass the parameter at all,
    and uses the class's default values.

    https://bugzilla.gnome.org/show_bug.cgi?id=639934

 gi/overrides/Gtk.py	 |   14 ++++++++++++--
 tests/test_overrides.py |   34 +++++++++++++++++++++++++++-------
 2 files changed, 39 insertions(+), 9 deletions(-)

commit d465e25297ad6589ff2cd0c00e11e8bd8ffe3f78
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 22:52:51 2011 +0100

    [gi] Fix small typo in previous commit

    The GVariant signature of the self test had a trailing 'i'. The
    current
    GVariant builder doesn't mind, but the new implementation proposed
    in bug
    639939 does.

 tests/test_overrides.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b8e1d0531dcb8f57dc9f2fddf25970bee3daa90
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 20:18:19 2011 +0100

    [gi] Add pythonic iterator and indexing for string GVariants

    This extends commit b1a98083c to also work for strings.

 gi/overrides/GLib.py	 |    8 +++++++-
 tests/test_overrides.py |   13 +++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 8efd14c87b35072cdd039bf223f8ced8f51be9bb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 14:08:03 2011 -0500

    [gi] return NULL if out_marshaller fails

 gi/pygi-invoke.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 5b1db41d60204c8021f47f43b85dac126c389c8d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 13:57:54 2011 -0500

    [gi] fix some transfer issues and test case failures

 gi/pygi-argument.c |	 4 ++++
 gi/pygi-cache.c    |	11 ++++++++---
 gi/pygi-invoke.c   |	17 +++++++++--------
 3 files changed, 21 insertions(+), 11 deletions(-)

commit 7c2f48bb6d67ec9a1ee5ac03a5aee34b54c6ebdd
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jan 19 18:09:23 2011 +0100

    Construct structs using default API constructor

    If the struct has something that looks like a default constructor,
    use it instead of trying to directly allocate it, as it will fail
    if the struct fields are not exposed.

    https://bugzilla.gnome.org/show_bug.cgi?id=627444

 gi/pygi-info.c |   37 +++++++++++++++++++++++++++++++++++++
 gi/types.py	|    7 +++++++
 2 files changed, 44 insertions(+)

commit db7300e173388d9557dcd2333781bfaa6b021605
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 18:54:39 2011 +0100

    pygi-convert.sh: Migrate Gdk.Cursor constructor, and some cursor names

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit 4c1d4faddf1c9cb233c484da3eadd8e31c231f70
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 18:43:29 2011 +0100

    pygi-convert.sh: Handle .window attributes

    In general, convert them to .get_window(). For some of them, prefer
    calling the
    GtkWidget methods instead.

 pygi-convert.sh |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b1049b947d073fb569ba900a4d5c8519482d831e
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jan 19 17:35:09 2011 +0100

    Also deal with foreign boxed structs

    cairo.Context has been boxed and our tests started failing

    https://bugzilla.gnome.org/show_bug.cgi?id=639967

 gi/pygi-argument.c |	 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 25b69ae257a12b6dc97ed3f2f7ea54b166ddbba1
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Jan 19 17:45:11 2011 +0100

    [gi] Convert GErrors to GObject.GError exceptions, and throw them
    upon returning from calling the C function.

    This changes gi to make use of pyglib_error_check() which already
    exists in pyglib.

    The included tests make use of the other patch attached to this bug,
    to check that the right exception is thrown from the new function
    in GIMarshallingTests.
    two Gtk C functions.

    https://bugzilla.gnome.org/show_bug.cgi?id=639834

 gi/Makefile.am   |    3 ++-
 gi/pygi-invoke.c |   12 +++---------
 tests/test_gi.py |   10 ++++++++++
 3 files changed, 15 insertions(+), 10 deletions(-)

commit 18b84767db1d66e3d6f09067ab19ffd4b82539ca
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 12:05:45 2011 -0500

    [gi] fix out marshalling for a couple of int types

 gi/pygi-argument.c |	 2 +-
 gi/pygi-cache.c    |	 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit c5d7c730008275b2c585b2609fc2ff5e051cce47
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 11:59:09 2011 -0500

    [gi] fixed range checking and type conversion with unsigned and
    large numbers

 gi/pygi-argument.c |	90
 +++++++++++++++++++++++++++++++++++++++++++---------
 gi/pygi-cache.c    |	 2 +-
 2 files changed, 76 insertions(+), 16 deletions(-)

commit e6fcafc6179e963cbae7774e7ee50415bde2c523
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 17:03:06 2011 +0100

    pygi-convert.sh: Don't convert glib -> GLib for now

    This currently leads to a load of crashes, MemoryErrors, etc, as
    GLib is not
    very well introspectable, due to the low-level operations that
    it performs.

    John Palmieri confirms that using the static "glib" binding is
    preferred for
    now, so disable the replacement rules.

 pygi-convert.sh |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 167261d556eab0d2e448c7ed28eef540a024ba1d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jan 19 16:47:08 2011 +0100

    Link libregress.so to GIO_LIBS again

 configure.ac |    5 +++++
 1 file changed, 5 insertions(+)

commit d143afa6da4f5b5f47be8df11fa41d7b47ab1794
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Wed Jan 19 16:14:42 2011 +0100

    Fix attributes 2BUTTON_PRESS and 3BUTTON_PRESS of Gdk.EventType.

    This puts an underscore in front of 2BUTTON_PRESS and 3BUTTON_PRESS
    because in Python attributes starting with a numeral causes a
    syntax error.

 gi/overrides/Gdk.py |	  7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 4f5d20966d4a8c649e5fae584039621edab178f3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 10:02:40 2011 -0500

    [gi] use correct format stings when setting errors

 gi/pygi-argument.c |	12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 7f08fd5c33ee5c9907f5becbe2f21fb7122d6e19
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 09:45:09 2011 -0500

    [gi] allow marshalling strings as None

 gi/pygi-argument.c |	 5 +++++
 1 file changed, 5 insertions(+)

commit 093242a9e125998cd07bf66fc4b2880f532a2e4d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 09:41:56 2011 -0500

    [gi] make error messages more detailed

 gi/pygi-argument.c |	 2 +-
 gi/pygi-cache.c    |	18 +++++++++---------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit f0b17605ed2eb917b350654b070984beb553eae3
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 09:41:13 2011 -0500

    [gi] allow marshalling None for hashes

 gi/pygi-argument.c |	 5 +++++
 1 file changed, 5 insertions(+)

commit 93f1b787ab8420300d1064c0237a0c2d8a2ac98f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 09:40:37 2011 -0500

    [gi] add marshalling to some out values

 gi/pygi-argument.c |	50
 +++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 41 insertions(+), 9 deletions(-)

commit 614b6ca7f45c4acbee088fe74fecf279ed50cc0c
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Wed Jan 19 15:27:33 2011 +0100

    [gi] Fixed typo in exception

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5f16df31b5a5a9f45f702eee48c3a18899ea3f71
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 09:13:44 2011 -0500

    [gi] fix marshalling structs

 gi/pygi-argument.c |	47 +++++++++++++++++++++++++++++++++++------------
 gi/pygi-foreign.c  |	18 ++++++++++++------
 gi/pygi-foreign.h  |	 8 ++++----
 3 files changed, 51 insertions(+), 22 deletions(-)

commit b2189424f9dd6d3a4a5b9792f0d5843fc27657d1
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Wed Jan 19 15:12:25 2011 +0100

    [gi] Enable handling of Gdk.EventType.2BUTTON_PRESS and 3BUTTON_PRESS

 gi/overrides/Gdk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5eca5ff2c9509ec96158fe43b29f0fd951243efe
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Wed Jan 19 14:54:57 2011 +0100

    Revert "Fix Pango FontDescription override"

    According to
    http://library.gnome.org/devel/pango/1.28/pango-Fonts.html#pango-font-description-new
    the default constructor actually does take no arguments; we should
    actually fix
    the MemoryError. Add a test case for this.

    Remove the FIXME though, as pango_font_description_from_string()
    is not a
    FontDescription constructor, but a static factory method.

    Thanks to Paolo Borelli for pointing this out!

    This reverts commit 8878c57676091c08e66bc6cbe735d898cb420582.

 gi/overrides/Pango.py	 |    5 ++++-
 tests/test_overrides.py |    5 +++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 9e7b95b3676a1b502662523a9bd4ebe40ccb4845
Author: Tony Young <rofflwaffls@gmail.com>
Date:	Thu Dec 16 23:39:33 2010 +0000

    Python iterator interface support for GFileEnumerator.

 gi/overrides/Gio.py	  |   41 +++++++++++++++++++++++++++++++++++++++++
 gi/overrides/Makefile.am |    1 +
 tests/test_overrides.py  |   20 ++++++++++++++++++++
 3 files changed, 62 insertions(+)

commit bca5834fc8fa342149e0eec7b396877a2abe6d33
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jan 7 12:10:37 2011 +0100

    Remove gio static bindings

    https://bugzilla.gnome.org/show_bug.cgi?id=638899

 Makefile.am			   |	2 +-
 configure.ac			   |   25 -
 gio/.gitignore			   |	3 -
 gio/Makefile.am		   |  117 -
 gio/__init__.py		   |   40 -
 gio/gappinfo.override		   |  213 --
 gio/gapplaunchcontext.override    |   99 -
 gio/gbufferedinputstream.override |   70 -
 gio/gcancellable.override	   |   38 -
 gio/gdatainputstream.override	   |  250 --
 gio/gdrive.override		   |  347 --
 gio/gfile.override		   | 2215 -----------
 gio/gfileattribute.override	   |  153 -
 gio/gfileenumerator.override	   |  184 -
 gio/gfileinfo.override		   |  121 -
 gio/gfileinputstream.override	   |   68 -
 gio/gfileiostream.override	   |   68 -
 gio/gfileoutputstream.override    |   68 -
 gio/gicon.override		   |  310 --
 gio/ginputstream.override	   |  344 --
 gio/gio-types.defs		   |  807 ----
 gio/gio.defs			   | 7465
 -------------------------------------
 gio/gio.override		   |  409 --
 gio/giomodule.c		   |  208 --
 gio/giostream.override		   |   68 -
 gio/gmemoryinputstream.override   |   91 -
 gio/gmemoryoutputstream.override  |   45 -
 gio/gmount.override		   |  454 ---
 gio/goutputstream.override	   |  292 --
 gio/gresolver.override		   |  312 --
 gio/gsocket.override		   |  575 ---
 gio/gvolume.override		   |  237 --
 gio/gvolumemonitor.override	   |   94 -
 gio/pygio-utils.c		   |  236 --
 gio/pygio-utils.h		   |   49 -
 gio/unix-types.defs		   |   55 -
 gio/unix.defs			   |  475 ---
 gio/unix.override		   |   62 -
 gio/unixmodule.c		   |   52 -
 tests/Makefile.am		   |	9 -
 tests/runtests-windows.py	   |	3 -
 tests/test_gcancellable.py	   |   15 -
 tests/test_gicon.py		   |  112 -
 tests/test_gio.py		   | 1138 ------
 tests/test_gresolver.py	   |   68 -
 tests/test_gsocket.py		   |  126 -
 46 files changed, 1 insertion(+), 18191 deletions(-)

commit 6ab3d8d286573289cf8e41eee31eb806621f6f43
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 07:56:16 2011 -0500

    [gi] switch from using (*arg). to arg-> when referencing union
    memebers

 gi/pygi-argument.c |	54
 ++++++++++++++++++++++++++--------------------------
 1 file changed, 27 insertions(+), 27 deletions(-)

commit 762ccb3d2620ea22023446b6ae79f3a111d8b56a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 07:49:52 2011 -0500

    [gi] return FALSE when setting errors in the marshaller

 gi/pygi-argument.c |	 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit cbaba6357937cbed3ebd34d2db1cdd59d37df118
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 07:14:18 2011 -0500

    [gi] do arg counting in new invoke

 gi/pygi-cache.c	       |    2 ++
 gi/pygi-cache.h	       |   14 ++++++++------
 gi/pygi-invoke-state-struct.h |    2 +-
 gi/pygi-invoke.c	       |   20 +++++++++++++++++++-
 4 files changed, 30 insertions(+), 8 deletions(-)

commit f45033858bed70d7defec3f71f26aa5b3999d680
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 19 06:35:45 2011 -0500

    [gi] set length for uint8 in arrays in new invoke marshaller

 gi/pygi-argument.c |	 1 +
 1 file changed, 1 insertion(+)

commit 09f7ca7e2378e6679002677ac3f4802f4cc7d9d5
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Jan 19 12:04:15 2011 +0100

    [gi] set length when marshalling guint8 erases

 gi/pygi-argument.c |	 1 +
 tests/test_gi.py   |	 4 ++++
 2 files changed, 5 insertions(+)

commit 22eee43e50a150ace80694213fb87be9f0c72f51
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Wed Jan 19 10:27:47 2011 +0100

    Convert Gdk.Pixbuf to GdkPixbuf.Pixbuf

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit a4b210d69c832629894090b7154ae194209b0c60
Author: Arnaud Charlet <charlet@adacore.com>
Date:	Tue Jan 18 18:31:29 2011 +0100

    Disable calls to PyGILState_* when threads are disabled

    Since threads may also be disabled in Python too, those symbols
    may not
    be resolved.

    https://bugzilla.gnome.org/show_bug.cgi?id=374603

 glib/pyglib.c		     |	 12 ++++++++++++
 gobject/pygobject-private.h |	  6 ++++++
 2 files changed, 18 insertions(+)

commit 329afb6fb1b3c325a6a9de2b6aca91c64d51dd9f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 18 12:31:57 2011 -0500

    [gi] fix handling of garrays vs c arrays

 gi/pygi-argument.c |	 9 +++++++--
 gi/pygi-cache.c    |	 2 ++
 gi/pygi-cache.h    |	 1 +
 3 files changed, 10 insertions(+), 2 deletions(-)

commit a000627ec3904b9414ce375aec8d144fc0c26248
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 18:29:50 2011 +0100

    pygi-convert.sh: Do not comment out set_cell_data_func() calls;
    these should be ported properly

 pygi-convert.sh |    1 -
 1 file changed, 1 deletion(-)

commit 99ff4610fb5ece2fc8d2f9eba13e661968adf3f0
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 18:26:01 2011 +0100

    pygi-convert.sh: Fix match for adding missing imports

 pygi-convert.sh |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3aa95011fad67df20370e92bf25236a34d7d08d3
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 18:09:30 2011 +0100

    pygi-convert.sh: Fix Gtk.Label handling to be idempotent

    As we are not replacing line by line, but the whole file at once,
    this is a bit
    hackish unfortunately. We can't use a match test or a lookahead/behind
    assertion.

 pygi-convert.sh |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f66051380c0432bf142774542ade2144adcd455e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 18 11:44:27 2011 -0500

    [gi] use correct union memeber when marshalling floats

 gi/pygi-argument.c |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36bc1c17e7d4189059337cc6a73c64edd819ec12
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Tue Jan 18 17:29:52 2011 +0100

    Remove trailing whitespace from gi/overrides/Gtk.py

 gi/overrides/Gtk.py |	 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 1006df1929a667716c25e74b35b8f14643358732
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 18 11:24:06 2011 -0500

    [gi] fix constructor invoking and add some support for interface
    out values

    * constructors are now simplified and are treated like normal
    static methods
      which happen to return an instance

 gi/pygi-argument.c |	 8 ++--
 gi/pygi-cache.c    |  132
 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 gi/pygi-invoke.c   |	 9 ++--
 gi/types.py	    |	21 +++------
 4 files changed, 142 insertions(+), 28 deletions(-)

commit 8878c57676091c08e66bc6cbe735d898cb420582
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 16:47:10 2011 +0100

    Fix Pango FontDescription override

    Trying to call __new__() on a record crashes with a MemoryError,
    so just call
    the intended static factory method for a None argument as well
    (which works
    just fine now).

 gi/overrides/Pango.py |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit efbbe71634037fa100b17327389b883b259cca54
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 16:23:39 2011 +0100

    tests: Respect existing $GI_TYPELIB_PATH

    This allows us to run the test suite against local typelibs.

 tests/Makefile.am |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c96ca383350e5b9b079d9a86464922314939c006
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 18 07:16:40 2011 -0500

    [gi] fix aux value offsets for methods and element size crashers

    * if the callable is a method we need to add 1 to the aux index
      for in values so we grab the right argument cache
    * use _pygi_g_type_info_size instead of _pygi_g_type_tag_size to
      support all types

 gi/pygi-cache.c |   42 ++++++++++++++++++++++++------------------
 1 file changed, 24 insertions(+), 18 deletions(-)

commit f56d85a7f39c2088bf9fd50b1b1e5b67c03104d3
Merge: 84d6142 7d997b6
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Tue Jan 18 13:14:45 2011 +0100

    Merge branch 'value'

commit 7d997b6fe88343776c4d67a9f3437ba0c4122da0
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Tue Jan 18 13:12:36 2011 +0100

    GTK overrides: Do type conversion to column types of ListStore and
    TreeStore in set_value

 gi/overrides/Gtk.py	 |   28 ++++++++++++++++++----------
 tests/test_overrides.py |   12 +++++++++++-
 2 files changed, 29 insertions(+), 11 deletions(-)

commit 84d6142c14a7ebfb7284d3db52e14d3393f93905
Author: Steve Frécinaux <code@istique.net>
Date:	Mon Jan 17 18:57:58 2011 +0100

    Always register a new GType when a GObject class is subclassed

    This patch makes the GType <-> python mapping much more predictible,
    and fixes the bug caused by overriding methods without specifying a
    __gtype_name__ member in the subclass, and makes type_register useless
    for real :-)

    It is still possible to provide an explicit __gtype_name__ member
    in the
    subclass as it allows having a predictible GType name, which is handy
    for some of our tests. There is also an explicit special case for
    overrides because we obviously do not want to register new GTypes for
    those ones as it would clearly defeat the purpose of overrides.

    https://bugzilla.gnome.org/show_bug.cgi?id=543056

 gobject/__init__.py |	  6 +++---
 tests/test_gi.py    |	 21 ++-------------------
 2 files changed, 5 insertions(+), 22 deletions(-)

commit 30750ccef31e6c864628f418fc00e8c573d29a1b
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Tue Jan 18 12:57:13 2011 +0100

    Raise required versions of GLib and GObject-Introspection

    https://bugzilla.gnome.org/show_bug.cgi?id=612126

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 761e98d32729f5894f4c75a54c65ed11329dc9d5
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 12:52:32 2011 +0100

    pygi-convert.sh: Handle keysyms

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit d62cdfa38a675c1daf3bc12d5cd769434eea5dc8
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 12:14:09 2011 +0100

    GLib overrides: Add test case for array variant building

 tests/test_overrides.py |    7 +++++++
 1 file changed, 7 insertions(+)

commit 69a78307f3762e3f54d28d98514cec7d31ff20db
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jan 18 10:21:03 2011 +0100

    Remove cairo.RectangleInt from the foreign module

    https://bugzilla.gnome.org/show_bug.cgi?id=639824

 gi/pygi-foreign-cairo.c |   96
 -----------------------------------------------
 1 file changed, 96 deletions(-)

commit 017680c9a5e163021628bf29543598861a3b600a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jan 18 10:20:25 2011 +0100

    Dont try to guess the transfer if its a boxed

    https://bugzilla.gnome.org/show_bug.cgi?id=639823

 gi/pygi-invoke.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 771ef76574690eb98926249f38661d741d1ebbb0
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Tue Jan 18 12:02:01 2011 +0100

    The tags can be Empty not None.

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b1a98083cdc50653e1d7bfb809bdf089f833df3d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 12:01:28 2011 +0100

    Add Pythonic iterators and indexing to GVariant

    Add the usual set of iterators and index accessors to GLib.Variant
    objects
    which are containers.

    Add corresponding test cases.

 gi/overrides/GLib.py	 |   50 ++++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   55
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+)

commit ecb9f824c503c529d43e585b4cdb4c1c9ab14593
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Tue Jan 18 10:48:03 2011 +0100

    Add GLib.Variant.unpack()

    This method decomposes a GLib.Variant into a native Python object,
    i. e. the
    counterpart of _VariantCreator. This makes it a lot nicer for
    application
    developers to use e. g. return values from gdbus calls.

    Add appropriate test case.

 gi/overrides/GLib.py	 |   45
 +++++++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   33 ++++++++++++++++++++++++++++++++-
 2 files changed, 77 insertions(+), 1 deletion(-)

commit 31c73dee34a52fd22b5ff3a23adce92cea5ddc3d
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Tue Jan 18 10:56:18 2011 +0100

    Add override for gtk_text_buffer_insert_with_tags

 gi/overrides/Gtk.py	 |   12 ++++++++++++
 tests/test_overrides.py |    6 ++++++
 2 files changed, 18 insertions(+)

commit fc7d7f7f153d57ff3866b7bfd5e6479d702cc4d9
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Mon Jan 17 14:35:14 2011 +0100

    Deduce PYTHON_LIBS in addition to PYTHON_INCLUDES

    https://bugzilla.gnome.org/show_bug.cgi?id=620215

 gi/Makefile.am    |	6 ++++--
 gio/Makefile.am   |	2 +-
 glib/Makefile.am  |	2 +-
 m4/python.m4	   |	7 +++++--
 tests/Makefile.am |	2 +-
 5 files changed, 12 insertions(+), 7 deletions(-)

commit bceec758b27e6c396d17a79424633b5dc9116f54
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Mon Jan 17 14:20:55 2011 +0100

    Kill JD_CHECK_PYTHON_HEADERS

    Use AM_CHECK_PYTHON_HEADERS instead, which is identical.

    https://bugzilla.gnome.org/show_bug.cgi?id=620215

 configure.ac |    2 +-
 m4/python.m4 |   31 +------------------------------
 2 files changed, 2 insertions(+), 31 deletions(-)

commit e2dea065da94d17a915abe1ce4671b1dc48e02c0
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 19:09:27 2011 +0100

    Revert "Override Gtk.Box.pack_start and pack_end to set default
    values to be compliant with pygtk"

    This reverts commit a8c727b9c4195d8085a45661683a18614ae84485.

    Conflicts:

	gi/overrides/Gtk.py

 gi/overrides/Gtk.py |	 10 ----------
 1 file changed, 10 deletions(-)

commit 4fbae9629adc166627de05bb0946b71485343d69
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 19:08:23 2011 +0100

    Revert "Override Gtk.CellLayout.pack_start and pack_end to add
    default values to be compliant with pygtk"

    This reverts commit 232841148f35684be83a2f47b5b18da4fb74f63a.

 gi/overrides/Gtk.py |	 13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

commit c054f0aca67952876b3519bb75ddc62c5517f7cb
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 19:08:06 2011 +0100

    Revert "Override Gtk.TreeViewColumn.pack_start, pack_end and
    set_cell_data_func to add default values to be compliant with pygtk"

    This reverts commit ed7e7a8f22b1481acf78c0c2e4c489dbad72f599.

 gi/overrides/Gtk.py |	  9 ---------
 1 file changed, 9 deletions(-)

commit 2d9534f347505573da46743b47318e08bf073aef
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 18:54:10 2011 +0100

    pygi-convert.sh: Handle gtk.combo_box_new_text()

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 0586a83212a9f9234fe00659ae744ab04e7ccc67
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 17 12:31:03 2011 -0500

    support callbacks

 gi/pygi-argument.c |	68 ++++++++++++++++++++++++++++++++++++++++++--
 gi/pygi-cache.c    |	80
 +++++++++++++++++++++++++++++++++++++++-------------
 gi/pygi-cache.h    |	13 +++++++--
 gi/pygi-invoke.c   |	 2 +-
 4 files changed, 138 insertions(+), 25 deletions(-)

commit 914d3a0a29680f4d3aa0e1f8afdd625b017b013a
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 16:57:53 2011 +0100

    Override TreeSortable.set_sort_func and set_default_sort_func to
    add default values to be pygtk compliant

 gi/overrides/Gtk.py |	  6 ++++++
 1 file changed, 6 insertions(+)

commit ed7e7a8f22b1481acf78c0c2e4c489dbad72f599
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 16:29:28 2011 +0100

    Override Gtk.TreeViewColumn.pack_start, pack_end and
    set_cell_data_func to add default values to be compliant with pygtk

 gi/overrides/Gtk.py |	  9 +++++++++
 1 file changed, 9 insertions(+)

commit 232841148f35684be83a2f47b5b18da4fb74f63a
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 16:28:51 2011 +0100

    Override Gtk.CellLayout.pack_start and pack_end to add default values
    to be compliant with pygtk

 gi/overrides/Gtk.py |	 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 1dec12826753756fcadefc8ef8c756fc902c320b
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 15:54:32 2011 +0100

    Override Gtk.Paned pack1 and pack2 to add default values to be
    compliant with pygtk

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit a8c727b9c4195d8085a45661683a18614ae84485
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Mon Jan 17 15:46:25 2011 +0100

    Override Gtk.Box.pack_start and pack_end to set default values to
    be compliant with pygtk

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 7cc8ac35bb0d8dbf7d66f014f8cd7ff070b3acb8
Author: Steve Frécinaux <code@istique.net>
Date:	Wed Aug 4 00:30:05 2010 +0200

    Handle GObject subclasses in the property helper.

    https://bugzilla.gnome.org/show_bug.cgi?id=625982

 gobject/propertyhelper.py |   26 +++++++++++++-------------
 tests/test_properties.py  |	9 +++++++++
 2 files changed, 22 insertions(+), 13 deletions(-)

commit 7a0548dbfbdfe481f75315b6bc7824a9f1a8a87b
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 17:52:15 2011 +0100

    Fix handling of unicode for GtkTreeModels

    The code previously converted an unicode object into unicode, but
    in Python 2.X
    models actually have to specify 'str' (GTK expects a gchararray). So
    encode to
    UTF-8 instead to get what GTK expects.

    Add corresponding test case.

 gi/overrides/Gtk.py	 |    2 +-
 tests/test_overrides.py |   12 +++++++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 09c21c79fb6063c8451f53d4588363d2be7239f4
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Mon Jan 17 16:46:08 2011 +0100

    In IntrospectionModule and DynamicModule classes, make all instance
    attributes start with an underscore.

    This changes IntrospectionModule.version to _version and
    DynamicModule.introspection_module to _introspection_module.
    This is done to mark the attributes as private, and also avoid name
    collisions with attributes from the typelib.
    In Gstreamer, there is a function gst_version, which was previously
    inaccessible because of IntrospectionModule.version overriding it.

 gi/module.py			    |	26 +++++++++++++-------------
 gi/overrides/GIMarshallingTests.py |	 2 +-
 gi/overrides/GLib.py		    |	 2 +-
 gi/overrides/Gdk.py		    |	10 +++++-----
 gi/overrides/Gtk.py		    |	 2 +-
 gi/overrides/Pango.py		    |	 2 +-
 gi/overrides/__init__.py	    |	 2 +-
 tests/test_everything.py	    |	 2 +-
 8 files changed, 24 insertions(+), 24 deletions(-)

commit 2c70beca9e76e4dc253453c556e6985ce59a3dd9
Author: Laszlo Pandy <lpandy@src.gnome.org>
Date:	Mon Jan 17 16:17:25 2011 +0100

    Amend previous enum wrapping commit to remove redundant setting of
    __info__ attribute.

 gi/module.py |    2 +-
 gi/types.py  |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 6fbb6be5a5d0d9cd43e1504b8dda5aa75feb95ca
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 16:16:45 2011 +0100

    pygi-convert.sh: Handle GdkPixbuf.InterpType

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit 66a5784f4ab5de5b6d8d51eb4ce869fa26f6a601
Author: Laszlo Pandy <laszlok2@gmail.com>
Date:	Mon Jan 17 15:43:34 2011 +0100

    Fix wrapping of enums: Create new Python type for each non-gtype enum.

    Previously non-gtype enums used the same class, which meant they
    were all the same type.
    This caused another problem that since they were all the same class,
    attributes from different enums were available from each other.

    A new test case is created to check for this bug. It requires a new
    enum from the GIMarshallingTests (updating gobject-introspection
    will be required).

 gi/module.py	  |    2 +-
 gi/types.py	  |    2 ++
 tests/test_gi.py |   10 ++++++++++
 3 files changed, 13 insertions(+), 1 deletion(-)

commit da50d5620a42046d4fc905bb28a0890d73533cb1
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Dec 13 18:03:51 2010 +0100

    Use g_vfunc_info_invoke for chaining up in vfuncs

    https://bugzilla.gnome.org/show_bug.cgi?id=637165

 gi/pygi-info.c   |    4 +--
 gi/pygi-invoke.c |   72
 +++++++++++++++++++++++++++++++++++++++++-------------
 gi/pygi-invoke.h |    3 ++-
 gi/types.py	  |   28 ++++++++++++++++++++-
 tests/test_gi.py |    5 ++--
 5 files changed, 89 insertions(+), 23 deletions(-)

commit 8ceef79c98a1c2e22ed8ab655ef1169f1763dd23
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Fri Dec 31 18:38:04 2010 +0100

    Move pyglib_{main_context, option_context, option_group}_new into
    _PyGLib_API

    _PyG{MainContext, OptionContext, and OptionGroup_Type} were not
    be initialized
    when used inside the glib module, since pyglib_init is not called.

    pyglib.c is compiled as a stand-alone library loaded by the _glib
    module that
    declares the above-mentioned types. Hence, they cannot be accessed
    by the
    former. This patch moves the functions that need those symbols
    into the
    glib._glib module and exports them to the pyglib library through
    _PyGLib_API.

    https://bugzilla.gnome.org/show_bug.cgi?id=636656

 glib/glibmodule.c	 |    5 ++++-
 glib/pyglib-private.h	 |    3 +++
 glib/pyglib.c		 |   48
 +++--------------------------------------------
 glib/pygmaincontext.c	 |   22 ++++++++++++++++++++++
 glib/pygmaincontext.h	 |    2 +-
 glib/pygmainloop.c	 |    2 +-
 glib/pygoptioncontext.c |   21 +++++++++++++++++++++
 glib/pygoptioncontext.h |    2 ++
 glib/pygoptiongroup.c	 |   26 +++++++++++++++++++++++++
 glib/pygoptiongroup.h	 |    2 ++
 glib/pygsource.c	 |    2 +-
 11 files changed, 86 insertions(+), 49 deletions(-)

commit 17caffe4eeefeaf33a56ececbc6c7454f60b9d76
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 14:51:26 2011 +0100

    pygi-convert.sh: Handle Gdk.DragAction

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit aa390aa80f06ac83ec89e5c5ee143d21ace97917
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 14:46:58 2011 +0100

    pygi-convert.sh: Generalize Gtk.Settings migration

    There are other GSettings.get_* functions like get_for_screen().

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e6d5bb49425e6087ca61765ecb72e7a760f2ab2
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Mon Jan 17 11:22:46 2011 +0100

    pygi-convert.sh: Don't change the name of "glib" submodules

    This particular affects dbus.mainloop.glib.*

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3887b030fc19d25e0cd7b4ed504f4ed23363c3d6
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Jan 16 22:09:56 2011 +0100

    Plug another memory leak

    Do not leak interface info in (g|s)_et_property.

 gi/pygi-property.c |	 4 ++++
 1 file changed, 4 insertions(+)

commit a4950b4cbb3c7567a8586061bb361adb7d9afb98
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Jan 16 21:43:30 2011 +0100

    Plug a small memory leak.

    Do not leak type_info in find_vfunc_info

 gi/gimodule.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d0cbcc45366d40702c69cef207d3c0f361260c02
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Jan 16 12:16:31 2011 +0100

    Override Table.attach() to behave like pygtk

    It is fairly common and even gtk itself still has attach_defaults.

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |    4 ++++
 2 files changed, 7 insertions(+)

commit 6409d659326bf3cefdf6051379e8bc2031f16733
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Sat Jan 15 11:20:23 2011 -0600

    pygi-convert.sh: Convert Pango.WrapMode

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 6aaa6a38198e84a189ca1e8d26b1871d5b6bb711
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Sat Jan 15 11:17:09 2011 -0600

    pygi-convert.sh: Don't change the name of "gtk" submodules

    Some projects have local modules like "myproject.ui.gtk". Avoid
    changing those,
    just change module names which start with "gtk" or "gdk".

 pygi-convert.sh |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9be0f1f2dfb89150faf1827ef482feea03645149
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jan 13 23:56:19 2011 -0500

    [gi] implement aux arg handling for array lengths

 gi/pygi-argument.c |	 8 ++++++++
 gi/pygi-cache.c    |	36 ++++++++++++++++++++++++++++--------
 gi/pygi-cache.h    |	 1 -
 gi/pygi-invoke.c   |	 8 ++++++--
 4 files changed, 42 insertions(+), 11 deletions(-)

commit cfca2f0a53a5c29f543875ca4cb83a2e18d3bc72
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jan 13 21:07:25 2011 -0500

    [gi] marshal in hashes

 gi/pygi-argument.c |	93 +++++++++++++++++++++++++++++++++++++--
 gi/pygi-cache.c    |  122
 ++++++++++++++++++++++++++++++++++++----------------
 2 files changed, 176 insertions(+), 39 deletions(-)

commit c36fbf4918c8557a8e274a12004a412da3b22b2c
Author: Laszlo Pandy <git@laszlopandy.com>
Date:	Tue Jan 11 21:41:47 2011 +0100

    Fix the __dir__() methods on DynamicModule and IntrospectionModule

    Previously the __dir__() methods did not list all attributes.
    A simple test case is included. It does not test to see if
    every attribute is listed, it just tests a few of each kind:
    - (wrapped) typelib attributes
    - class attributes and methods
    - instance attributes

    A set() is used to avoid returning duplicate attributes.
    The test case checks for this as well.

    https://bugzilla.gnome.org/show_bug.cgi?id=639229

 gi/module.py		  |   28 +++++++++++++++++++++-------
 tests/test_everything.py |   18 ++++++++++++++++++
 2 files changed, 39 insertions(+), 7 deletions(-)

commit 1679e6af3f212e4d4644e048dc3c6177ed3fac6b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Thu Jan 13 00:02:20 2011 +0100

    pygi-convert.sh: handle ReliefStyle

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit e9166ba5d19f2b586f65a3b83a671a5afd486d8f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 12 16:50:30 2011 -0500

    [gi] support for GList and GSList in

 gi/pygi-argument.c |  122
 +++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 116 insertions(+), 6 deletions(-)

commit 9baf3240fbac103823ad0feaaf1c82e46d276722
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 12 16:24:17 2011 -0500

    [gi] handle allow_none for all args

 gi/pygi-cache.c  |    3 ++-
 gi/pygi-cache.h  |    1 +
 gi/pygi-invoke.c |    7 +++++++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit d54d12c66226910952b0dc44c8d9514a7edaa6f2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jan 12 16:23:02 2011 -0500

    [gi] fix marshalling fixed arrays

    * get the correct item_size and pass the GArray data not the GArray

 gi/pygi-argument.c |	39 ++++++++++++++++++++++-----------------
 gi/pygi-cache.c    |	 3 ++-
 2 files changed, 24 insertions(+), 18 deletions(-)

commit 3b0eff80d2ee35e0417476f0a170b9e178e3d1ee
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 11 17:20:43 2011 -0500

    [gi] implement out arg handling

 gi/pygi-argument.c	       |   43 +++++++++--------------------------
 gi/pygi-cache.c	       |   22 +++++++++++++-----
 gi/pygi-invoke-state-struct.h |   13 +++++++++++
 gi/pygi-invoke.c	       |   50
 +++++++++++++++++++++++++++++++++++++++--
 4 files changed, 89 insertions(+), 39 deletions(-)

commit bd002c72675d35b5e60ab773181e7c36c30d2625
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Jan 11 22:21:18 2011 +0100

    setup.py: fix the provides keyword argument

 setup.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 59dac72d0fa8e1d68bbbc13d76c2747f1cb11857
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Jan 11 22:19:18 2011 +0100

    setup.py: use the same spaces-less format for all setup() parameters

 setup.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c5c149be171895d292852df364541f14f0ec423a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 11 15:39:09 2011 -0500

    [gi] implemented return marshalling and started on out marshalling

 gi/pygi-argument.c |  387
 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 gi/pygi-argument.h |  117 ++++++++++++++++
 gi/pygi-cache.c    |  316 +++++++++++++++++++++++++++++++++++++++++-
 gi/pygi-cache.h    |	 8 +-
 gi/pygi-invoke.c   |	12 +-
 5 files changed, 829 insertions(+), 11 deletions(-)

commit 4fcca8518774ab89607196dfc52037e3da30ac8a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 11 13:49:58 2011 -0500

    [gi] flesh out interface in marshalling a bit more

 gi/pygi-argument.c |	74
 ++++++++++++++++++++++++++++++++++++++----------
 gi/pygi-cache.c    |	79
 +++++++++++++++++++++++++++++++++++++++++-----------
 gi/pygi-cache.h    |	 1 +
 3 files changed, 123 insertions(+), 31 deletions(-)

commit 4992dca9f5cea68d85eb2ed86105c9c6b8311d79
Author: Laszlo Pandy <laszlok2@gmail.com>
Date:	Tue Jan 11 19:30:38 2011 +0100

    Add a __repr__() method to DynamicModule.

    This patch adds a __repr__() method to DynamicModule so that modules
    provide a
    meaningful string with the typelib path included:

    >>> from gi.repository import Gtk
    >>> Gtk
    <gi.module.DynamicModule 'Gtk' from
    '/home/laszlo/Dev/gnome-jh-install/lib64/girepository-1.0/Gtk-3.0.typelib'>

    https://bugzilla.gnome.org/show_bug.cgi?id=639232

 gi/module.py |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 2ffaec59e7349c145a0e2a5edba2ffb7d8628369
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jan 11 19:40:19 2011 +0100

    Go back to using getattr() in DynamicModule.__getattr__

    Breaks marshalling of some types

 gi/module.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 52a298cc0f05ceec96457f17f9a801e9838fb757
Author: Laszlo Pandy <laszlok2@gmail.com>
Date:	Tue Jan 11 19:26:50 2011 +0100

    Change __dir__() to report all the attributes that __getattr__
    supports

    Change DynamicModule.__dir__() to return the local class members as
    well as the
    typelib attributes.

    Change DynamicModule.__getattr__() to call
    IntrospectionModule.__getattr__()
    directly, so that it won't inadvertently return class attributes from
    IntrospectionModule.

    https://bugzilla.gnome.org/show_bug.cgi?id=639229

 gi/module.py |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 369a75ba5fb64ff7a7c95d21f8bfe359e639e9ff
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 10 17:55:03 2011 -0500

    [gi] add object and interface in marshalling

    * also remove the PyGIArgCleanup sinature as GDestroyNotify works
    just fine

 gi/pygi-argument.c |	15 +++--
 gi/pygi-cache.c    |  182
 +++++++++++++++++++++++++++++++++++++++++++++++-----
 gi/pygi-cache.h    |	 1 -
 gi/pygi-invoke.c   |	 1 +
 4 files changed, 178 insertions(+), 21 deletions(-)

commit 88531c58d0491a31dd319387237a03df5c9edc07
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 10 15:33:56 2011 -0500

    [gi] fix casting when marshaling a char to uint8

 gi/pygi-argument.c |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 441da4a7346ca059630dbc820c5b46e4d0222f4b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jan 10 15:07:16 2011 -0500

    [gi] hook up invoke to the cache

    * We now can invoke with in values
    * out, constructors and returns still don't work along with numerous
    complex
      in types

 gi/Makefile.am		       |    1 +
 gi/pygi-argument.c	       |   60 +++++++++--------
 gi/pygi-argument.h	       |   60 ++++++++---------
 gi/pygi-cache.h	       |    6 +-
 gi/pygi-invoke-state-struct.h |   26 +++++++
 gi/pygi-invoke.c	       |  149
 +++++++++++++++++++++++++++++++----------
 gi/pygi-invoke.h	       |    2 +-
 gi/pygi-private.h	       |    1 +
 8 files changed, 208 insertions(+), 97 deletions(-)

commit f32b1f494aa5d09b9b198f607722c819c6bbd808
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 9 19:37:55 2011 -0500

    hooked up caching stage and fixed segfaults

    * caching stage is hooked up but not used yet
    * throws exceptions for everything that can not be cached yet

 gi/pygi-cache.c  |   59
 ++++++++++++++++++++++++++++++++++++++++++------------
 gi/pygi-info.c   |    3 +++
 gi/pygi-invoke.c |    5 +++++
 gi/pygi.h	  |    2 ++
 4 files changed, 56 insertions(+), 13 deletions(-)

commit c2bf1d4d9cf2e9f8e313528fe717f6279dad5da1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 9 18:05:31 2011 -0500

    [gi] fix some function names

 gi/pygi-cache.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2ec4230a5180f048c26c2e4234b2a098d42f030b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jan 9 15:58:06 2011 -0500

    [gi] refactor cache structs so they inherit from ArgCache

 gi/pygi-argument.c |  122 ++++++++++---------
 gi/pygi-cache.c    |  344
 ++++++++++++++++++++++++++++------------------------
 gi/pygi-cache.h    |	50 ++++----
 3 files changed, 273 insertions(+), 243 deletions(-)

commit f4cdf0c0321285da015686fcb7115bd91bfd5c7c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jan 8 20:45:11 2011 -0500

    [gi]fix cache compile error - now compiles but cache still not
    hooked up

 gi/Makefile.am     |	 2 +
 gi/pygi-argument.c |  100 +++++++++++++++---------------
 gi/pygi-argument.h |  174
 +++++++++++++++++++++++++++++++++++++++++++---------
 gi/pygi-cache.c    |  169
 +++++++++++++++++++++++++-------------------------
 gi/pygi-cache.h    |	25 ++++----
 5 files changed, 293 insertions(+), 177 deletions(-)

commit 5f8f3044dd8085b2e8ce0bf70e9d52f05abf909d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jan 8 19:10:29 2011 -0500

    add sequence caching and array marshalling w/ item marshalling

    * simplify what we pass into the arg cache generators so we may
    use them
      for geneating marshalling caches for container items, not just
      arguments

 gi/pygi-argument.c |	76 ++++++++++++++++-
 gi/pygi-cache.c    |  242
 ++++++++++++++++++++++------------------------------
 gi/pygi-cache.h    |	 4 +-
 3 files changed, 175 insertions(+), 147 deletions(-)

commit 202a268db7f98f5a3c525c6e65ec4bff1917257e
Author: Emilio Pozuelo Monfort <pochu27@gmail.com>
Date:	Sat Jan 8 02:19:52 2011 +0000

    Bump the minimum gio dependency

    Needed for G_TYPE_CONVERTER_FLAGS and others.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c3aa36151fdef9ed9884d93114786bbe86387983
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jan 7 12:58:11 2011 +0100

    Add test for incorrect attributes in Gdk.Event

 tests/test_overrides.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 204b45c7e95eb50d9e3843127fb10e13b1b17fee
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Sun Jan 2 19:25:55 2011 +0100

    Don't call getattr again in gi.overrides.Gdk.Event.__getattr__

    __getattr__ is only called when the attribute is not found through
    the normal
    mechanism, so getattr must not be called again in __getattr__
    (which would
    create an infinite loop).

    Another possibility would be to implement __getattribute__ instead,
    which is
    called in place of the normal mechanism. In that case, calling
    getattr would be
    needed for normal attributes.

    https://bugzilla.gnome.org/show_bug.cgi?id=638523

 gi/overrides/Gdk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cf298ca5565d0eb99824f050ff47407e50a5c01
Author: Mike Gorse <mgorse@novell.com>
Date:	Fri Jan 7 09:08:31 2011 +0100

    Release allocated array of arguments when handling closures

    https://bugzilla.gnome.org/show_bug.cgi?id=638847

 gi/pygi-closure.c |	3 +++
 1 file changed, 3 insertions(+)

commit 1be76d5e006efa24598ff7bf26153660dbe0a890
Author: Mike Gorse <mgorse@novell.com>
Date:	Fri Jan 7 09:07:35 2011 +0100

    Release GIValueInfo when checking an enum argument

    https://bugzilla.gnome.org/show_bug.cgi?id=638847

 gi/pygi-argument.c |	 1 +
 1 file changed, 1 insertion(+)

commit 43849c51391fc9cd239697065c3d40fa02fb6783
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jan 6 17:30:14 2011 -0500

    whitespace fixes

 gi/pygi-cache.c |   24 ++++++++++++------------
 gi/pygi-cache.h |   42 +++++++++++++++++++++---------------------
 2 files changed, 33 insertions(+), 33 deletions(-)

commit 8b5b3d2bbbbdf5d26c83e9a6fe67121cbd77ebe1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jan 6 17:29:00 2011 -0500

    add marshalling for basic types and add more skeleton code

    * still doesn't compile

 gi/pygi-argument.c |  708
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-argument.h |	35 ++-
 gi/pygi-cache.c    |	82 ++++--
 gi/pygi-cache.h    |	41 ++-
 4 files changed, 832 insertions(+), 34 deletions(-)

commit f554cf62848104d31518138ae85bc51acaafda67
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jan 4 18:49:53 2011 -0500

    first checkin of the new caching branch

    * this does not compile and is not hooked up to the build system
    * lays out the caching data structures and some skeleton functions

 gi/pygi-cache.c |  480
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-cache.h |  104 ++++++++++++
 2 files changed, 584 insertions(+)

commit 8d5a7857876669f56bb03bf618bcfdcc290721c0
Author: Eitan Isaacson <eitan@monotonous.org>
Date:	Wed Dec 22 12:34:10 2010 -0800

    Respect different type lengths when assigning out-argument pointers.

    https://bugzilla.gnome.org/show_bug.cgi?id=637832

 gi/pygi-closure.c |   66
 +++++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 56 insertions(+), 10 deletions(-)

commit f14976ffabec28f6cafe1e37dc81d207a947d4ca
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Dec 28 18:34:25 2010 +0100

    Fix stupid name clash

 gi/module.py |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 01b2a193d403beb861eab524300b4f1af63157ce
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Dec 28 13:49:18 2010 +0100

    Add /usr/share to XDG_DATA_DIRS when running the tests

 tests/Makefile.am |	7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit efc186f692f9eac781cc47456be74a3da7f14dcd
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Dec 28 13:25:34 2010 +0100

    Comment out tests that require SRV lookups

 tests/test_gresolver.py |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d2462cc1ab51d76fb4625c47c3d34de1d5d0dee8
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Dec 28 13:00:16 2010 +0100

    Use suppresion file when running valgrind

 tests/Makefile.am |	2 +-
 tests/python.supp |  387
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 388 insertions(+), 1 deletion(-)

commit 0ee58113ecbea72784c52de928c041fc8fc88984
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Dec 23 00:10:41 2010 +0100

    Fix warnings.

 gi/pygi-argument.c	     |	 16 +++++++---------
 gi/pygi-foreign-cairo.c     |	 13 ++-----------
 gio/gfile.override	     |	  5 ++---
 glib/pyglib-python-compat.h |	  3 +++
 glib/pyglib.c		     |	  2 +-
 glib/pygmainloop.c	     |	  3 ++-
 6 files changed, 17 insertions(+), 25 deletions(-)

commit 78ea84cd91392400ebac5a361ef8793bfe928fd0
Author: Jesse van den Kieboom <jesse.vandenkieboom@epfl.ch>
Date:	Sun Dec 19 23:10:57 2010 +0100

    Allow comparing Gtk.TreePath to None

    https://bugzilla.gnome.org/show_bug.cgi?id=637615

 gi/overrides/Gtk.py	 |   12 ++++++------
 tests/test_overrides.py |    6 ++++++
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 046cc5915286e042d1040271a90676b77632409e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Dec 16 15:41:10 2010 -0500

    handle unicode objects in properties

    * There are still some cavets in Python 2:
      - properties are returned as String objects with the unicode
      code points
      - you must add # coding=utf-8 to the top of your python file
      or python
	will error out if it sees embeded unicode charaters (such as when
	supporting python 3 and python 2 from the same source)

    https://bugzilla.gnome.org/show_bug.cgi?id=620579

 gobject/pygtype.c	  |   35 ++++++++++++++++++++++++++---------
 tests/test_properties.py |   16 ++++++++++++++++
 2 files changed, 42 insertions(+), 9 deletions(-)

commit 7aa783d5cd674f34da318f826bd5f4a0e09d24cb
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Dec 14 12:29:54 2010 +0100

    dsextras.py: check if gcc is there when platform is win32 and compiler
    is mingw32

 dsextras.py |	  6 ++++++
 1 file changed, 6 insertions(+)

commit cebf5f09a6c5018ced64f35e7747fc81b93b823e
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Dec 14 12:29:01 2010 +0100

    dsextras.py: be consistent in how distutils imports are done

 dsextras.py |	  6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 35e590d48c78f2e76c47c2b4eaf0f7e8d1ed5c93
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Dec 14 12:25:07 2010 +0100

    dsextras.py: add have_gcc() function

 dsextras.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit 637c2c287cfb0e89365026531c651111f5593ac7
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Dec 14 12:24:41 2010 +0100

    dsextras.py: use distutils.spawn.find_executable for have_pkgconfig()

 dsextras.py |	  8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 020d00bc0ce7b77006b4d4f42d63122d79bcbf89
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Tue Dec 14 12:22:54 2010 +0100

    setup.py: fix another case of use True/False instead of 1/0

 setup.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b03cc9e0d66d8caea3cd6a63db198c43de9267e9
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Mon Dec 13 10:21:52 2010 +0100

    pygi-convert.sh: improve GtkSourceView conversion

 pygi-convert.sh |    7 +++++++
 1 file changed, 7 insertions(+)

commit fbc12cd7c09a67de9e28b7b0b28de9dc0e0e3418
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Mon Dec 13 10:27:56 2010 +0100

    pygi-convert.sh: Gtk.DialogFlags conversion

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 73e933d2429aea4d14e15350a538da1c5c3f71eb
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Sun Dec 12 20:38:46 2010 -0500

	Doc Extractor: Print the gtk-doc blocks sorted by function name.

	* codegen/docextract_to_xml.py: Print the xml of the gtk-doc
	block in
	alphabetical order according to the identifier (function name)
	so that
	the generation of xml files in the C++ bindings is deterministic.
	Thanks to Krzesimir Nowak for suggesting this in a gtksourceviewmm
	recent commit.

 codegen/docextract_to_xml.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db7ffa75b007074cb6b33b547c6d8140da300a3e
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Mon Dec 13 00:17:26 2010 +0100

    pygi-convert.sh: add more Gtk conversions and sort

 pygi-convert.sh |   50 ++++++++++++++++++++++++++------------------------
 1 file changed, 26 insertions(+), 24 deletions(-)

commit f4bfe73d0ccedf7f671d3acd6d9e262d5383b733
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Mon Dec 13 00:01:40 2010 +0100

    pygi-convert.sh: convert Atk

 pygi-convert.sh |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit e55ce3667eb1d352bf96f265bf018ffe8aea75f9
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 23:48:48 2010 +0100

    pygi-convert.sh: convert a few more Gio types

 pygi-convert.sh |    9 +++++++++
 1 file changed, 9 insertions(+)

commit acc9f84bc6e13d76c6516cefe393d4a4f868aa24
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 14:19:00 2010 +0100

    pygi-convert.sh: more GLib conversion

 pygi-convert.sh |    7 +++++++
 1 file changed, 7 insertions(+)

commit c903390814bebdc62d530472f6f94feecc59b8b3
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 14:00:34 2010 +0100

    pygi-convert.sh: remove two cases handled by overrides

 pygi-convert.sh |    2 --
 1 file changed, 2 deletions(-)

commit d33c987e505ec8ddffa2b8cb5526f05b9b5f62be
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 13:38:56 2010 +0100

    Override Gtk.ScrolledWindow constructor

 gi/overrides/Gtk.py	 |    7 +++++++
 tests/test_overrides.py |    7 +++++++
 2 files changed, 14 insertions(+)

commit 1c24bb089fcd69e3104ae72a0e7560a8c5a3f05b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 12:32:39 2010 +0100

    pygi-convert.sh: Fix 'find' syntax

 pygi-convert.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0a1d6b6bb53d0fa2788d8b9027d737b0aef8dfc
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 12 12:29:38 2010 +0100

    pygi-convert.sh: start handling Gio and GLib

 pygi-convert.sh |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 365bf3251af3498dc797a58cce071805451b49b1
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 11 23:05:31 2010 +0100

    pygi-convert.sh: convert Gdk.ScrollDirection.

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit bca603de0f217fb290189a0ea330f82961c46d5d
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 11 15:03:21 2010 +0100

    Override Pango.Layout constructor.

    I must take a Pango.Context argument. Unfortumately the context is
    not a
    gobject property so we need to jump through some oops.

 gi/overrides/Pango.py	 |   13 +++++++++++++
 tests/test_overrides.py |    6 ++++++
 2 files changed, 19 insertions(+)

commit df233301802e3f7f9ce338cde015ca2a2fc648ab
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 11 14:18:53 2010 +0100

    Remove Pango.FontDescription() conversion.

    It is now properly handled by an override.

 pygi-convert.sh |    1 -
 1 file changed, 1 deletion(-)

commit d8abcc9463542af9cd43d71849d0ad4c183b570b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Fri Dec 10 14:05:20 2010 +0100

    Override GtkAction and GtkRadioAction constructors.

 gi/overrides/Gtk.py	 |   20 +++++++++++++++++---
 tests/test_overrides.py |   18 ++++++++++++++++++
 2 files changed, 35 insertions(+), 3 deletions(-)

commit 7924b18a99a0680c04aca46be4b64a7aa507dfe5
Author: Dmitrijs Ledkovs <dmitrij.ledkov@ubuntu.com>
Date:	Sat Dec 4 22:13:28 2010 +0000

    Override Adjustment constructor to behave like pygtk

    https://bugzilla.gnome.org/show_bug.cgi?id=636486

 gi/overrides/Gtk.py	 |    7 +++++++
 tests/test_overrides.py |    9 +++++++++
 2 files changed, 16 insertions(+)

commit e76352dd83c8706e68ad57d00d185da9afea99c4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Dec 9 13:23:10 2010 -0500

    add secondary_text apis to MessageDialog

 gi/overrides/Gtk.py	 |    8 ++++++++
 tests/test_overrides.py |    8 ++++++++
 2 files changed, 16 insertions(+)

commit de682b2d36c362140ab7d43c0743b01ec0865a74
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Dec 8 16:39:27 2010 -0500

    [gi] get rid of some debug prints and fix error messages

 gi/overrides/Gtk.py |	  7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit dbb16571803bf51f497768bf80944514f4290ee5
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Dec 8 18:25:15 2010 +0100

    Fix demo for override changes.

 demos/gtk-demo/gtk-demo.py |	 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2adcd95762944a4e27123093d3c8d080e49be1ea
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Dec 8 18:06:01 2010 +0100

    Override Pango.FontDescription.

 demos/gtk-demo/gtk-demo.py |	 2 +-
 gi/overrides/Makefile.am   |	 1 +
 gi/overrides/Pango.py	    |	40
 ++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py    |	 7 +++++++
 4 files changed, 49 insertions(+), 1 deletion(-)

commit 769da968c9187414d0420412d8fb8c833d12042a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Dec 8 17:38:11 2010 +0100

    Stop checking that all vfuncs are implemented

    Because some methods are optionally implementable but g-i won't
    tell us.

    https://bugzilla.gnome.org/show_bug.cgi?id=619606

 gi/gimodule.c	  |    4 +++-
 gi/types.py	  |   12 ++----------
 tests/test_gi.py |   10 ----------
 3 files changed, 5 insertions(+), 21 deletions(-)

commit 167a01c46b3fa0b3c8339502c875d32bd2bca974
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Dec 8 17:37:00 2010 +0100

    Fix usage of TreeIter api that is now an override.

 demos/gtk-demo/gtk-demo.py |	 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d2cfd6e9250d40de7c715ac74e299deddf137683
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Dec 8 17:34:54 2010 +0100

    Fix Gtk.Label(label="Foo")

    Use 'label' as an argument name instead of 'str', otherwise we may
    end up up with two 'label' in the kwds dict. Besides 'str' is a
    reserved keyword.

 gi/overrides/Gtk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c0c684c9bb4e2bc08d7cb6ac246705e8a3b77656
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Dec 8 14:16:39 2010 +0100

    Fix typo when raising an exception

 gi/types.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88c9a3ad49d9fcf779c3523672d8bf4767910301
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Wed Dec 8 10:46:27 2010 +0100

    pygi-convert.sh: Added more conversions

 pygi-convert.sh |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 4d8d96326b2cac91e6d75e6601b92e202d1918ff
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Tue Dec 7 20:39:15 2010 +0100

    Override LinkButton constructor to make 'uri' mandatory

 gi/overrides/Gtk.py	 |    7 +++++++
 tests/test_overrides.py |    6 ++++++
 2 files changed, 13 insertions(+)

commit f4f7fb35af1b41598dc050f5df155a01c370a920
Author: Dmitry Morozov <dmitry.a.morozov@yandex.ru>
Date:	Sat Dec 4 19:19:19 2010 +0600

    Container should be iterable.

 gi/overrides/Gtk.py	 |    9 +++++++++
 tests/test_overrides.py |    6 +++++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit d2ad05d6d8d53b941e0ad33fcb200f1245a2d308
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Tue Dec 7 14:13:00 2010 +0100

    No need to import Gdk

 gi/overrides/Gtk.py |	  1 -
 1 file changed, 1 deletion(-)

commit b6a40badf0b2b59e690ce818efb03c7c816b8a04
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Tue Dec 7 14:07:53 2010 +0100

    Remove semicolumns

 gi/overrides/Gtk.py |	  7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit cdc9c26553bf47ea488676e7bdc5f8ab0a2c906b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Dec 6 16:05:30 2010 -0500

    [gi] make sure Gtk.Button override passes all keywords to parent
    constructor

 gi/overrides/Gtk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cede81ad65db017e95543d8d35715751aa202fed
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Dec 5 13:31:20 2010 +0100

    Fix cut&paste error in the Label override

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 607c59b74ebbc1e39cb4121c870b689e1888c106
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 4 16:03:27 2010 +0100

    pygi-convert.sh: handle TextWindowType

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit dfeabe0b68938e27da2e65903983b5113dc422f1
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 4 15:49:15 2010 +0100

    Override Label constructor to behave like pygtk

 gi/overrides/Gtk.py	 |    7 +++++++
 tests/test_overrides.py |    4 ++++
 2 files changed, 11 insertions(+)

commit da4e045e5abbed2796cc4ed39df35a0dde2de31b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 4 15:40:35 2010 +0100

    Override GtkTable constructor to behave like pygtk

 gi/overrides/Gtk.py	 |    7 +++++++
 tests/test_overrides.py |   12 ++++++++++++
 2 files changed, 19 insertions(+)

commit 81452c23ab1befa59ff375692e582791432796a5
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 4 12:59:43 2010 +0100

    pygi-convert.sh: convert MovementStep

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 4d097eea94258eda0c328711491fd456cbd6741b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Dec 4 11:57:02 2010 +0100

    Update Gdk overrides to work with latest Gtk+ 3

    For now added consitionals on version == 2.0, but maybe at some
    point we
    shuld just clean up the old stuff.

 gi/overrides/Gdk.py |	 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit cda317195566711d66190145b545e26ed7226172
Author: Johan Dahlin <johan@gnome.org>
Date:	Thu Dec 2 23:47:40 2010 -0200

    Gtk: add an override for Gtk.main_quit

    Override gtk.main_quit so that it can be used as a callback
    to signals, most importantly to the destroy signal of a widget:

       widget.connect('destroy', gtk.main_quit)

    This is compatible with what PyGTK does.

    https://bugzilla.gnome.org/show_bug.cgi?id=636336

 gi/overrides/Gtk.py	  |    5 ++++-
 gi/overrides/__init__.py |   27 +++++++++++++++++++++++++--
 2 files changed, 29 insertions(+), 3 deletions(-)

commit 82689cbf53d92b1b951a459fe3de0e1d3a91791a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Dec 2 16:27:04 2010 -0500

    [gi] handle subtypes when inserting into tree models

    * Often modules will give back basic types wrapped in a subtype.
      This is the case with D-Bus where you may want to keep some of the
      metadata around.	More often than not, the developer is just looking
      to use the basetype.

    * This override checks the column type and handles basic types such as
      gchararrays, ints, longs, floats and doubles, converting them
      to their
      base types before sending them to the generic GI type marshaller.

    * More types may need to be supported but these are the common
    cases where
      apps break.

    https://bugzilla.gnome.org/show_bug.cgi?id=635172

 gi/overrides/Gtk.py	 |   38 ++++++++++++++++++++++++++++++++++++--
 tests/test_overrides.py |    8 +++++++-
 2 files changed, 43 insertions(+), 3 deletions(-)

commit 677490e9402bad7b7c2a832345ef54f7f0c5fc7f
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Fri Dec 3 23:39:50 2010 +0100

    Override TreeSelection.select_path and TreeView.scroll_to_cell

    The "path" argument may also be a string or a tuple

 gi/overrides/Gtk.py	 |   10 ++++++++++
 tests/test_overrides.py |   29 +++++++++++++++++++++++++++++
 2 files changed, 39 insertions(+)

commit dacfe618fa244445c979f1a5efa80c1f9a5a4ae9
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Fri Dec 3 23:29:00 2010 +0100

    Override TreePath.__new__

    Instead of having a private _tree_path_from_string it is cleaner to
    override __new__ and it will be useful for all the api that take a
    TreePath or a string or a tuple.

 gi/overrides/Gtk.py	 |   33 +++++++++++++++------------------
 tests/test_overrides.py |   18 ++++++++++++++++++
 2 files changed, 33 insertions(+), 18 deletions(-)

commit 7a8af9e220ee48aa28f6b025c5dae324b14fe128
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Nov 28 13:02:30 2010 +0100

    Override Container to behave like a sequence

 gi/overrides/Gtk.py	 |    6 ++++++
 tests/test_overrides.py |   11 +++++++++++
 2 files changed, 17 insertions(+)

commit 94e8befc935d4a6c7f766e34195e10fc3fb3b93a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Nov 30 16:57:05 2010 -0500

    refactor Jonathan Matthew recurse vfunc patch so it applys and clean
    up a bit

    * this patch does the recursion using the previous patche's support
    functions

 gi/types.py |	 55
 +++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 45 insertions(+), 10 deletions(-)

commit 9c5aee4f06f92457f9ae987656c0c469f76d0ee8
Author: Jonathan Matthew <jonathan@d14n.org>
Date:	Thu Jul 22 23:19:51 2010 +1000

    Recurse up through base classes when setting up vfuncs

    * this patch adds the support methods to do the recursion

    https://bugzilla.gnome.org/show_bug.cgi?id=625033

 gi/gimodule.c	  |  130
 +++++++++++++++++++++++++++++++++++++++---------------
 tests/test_gi.py |   37 ++++++++++++++++
 2 files changed, 131 insertions(+), 36 deletions(-)

commit 78358e1ab54d02317f397276adee03ecb2187588
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 29 18:29:57 2010 -0500

    add a profiling torture test for when we fix up invoke

 tests/test_everything.py |   67
 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 792e679c06df4357843fd310c7953a931172fc99
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 29 16:41:38 2010 -0500

    moved dynamic and base modules outside of gtk-2.0 directory

    * do not move header files yet as they are mostly used by static
    bindings
    * do not remove pygtk.pth and pygtk.py files yet - there is a debate
    on moving
      these back to pygtk but you might want to import gio static
      bindings without
      having to have pygtk installed
    * I have not tested this with pygtk, committing it so we can find
    out if it
      causes any issues with legacy modules and code

 gi/Makefile.am		   |	2 +-
 gi/overrides/Makefile.am  |	2 +-
 gi/repository/Makefile.am |	2 +-
 glib/Makefile.am	   |	2 +-
 gobject/Makefile.am	   |	2 +-
 tests/test_gi.py	   |	2 --
 tests/test_overrides.py   |	3 ---
 7 files changed, 5 insertions(+), 10 deletions(-)

commit c587e1ace7429195ac6fd4db03d2f33e2af09838
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 29 15:11:46 2010 -0500

    add test for inout argument count

 tests/test_gi.py |    1 +
 1 file changed, 1 insertion(+)

commit 5de88b4bcffdafcf8c7c20033cdf95dc690199ce
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 22 19:17:23 2010 -0500

    [gi] add check for UNICHAR

    https://bugzilla.gnome.org/show_bug.cgi?id=623615

 gi/pygi-argument.c	  |   27 ++++++++++++++++++++++++++-
 tests/test_everything.py |   17 +++++++++++++++--
 2 files changed, 41 insertions(+), 3 deletions(-)

commit f129b3db2c78d3cce3614993fdd1619fb9eb9c79
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Nov 21 12:16:53 2010 +0100

    Support gunichar

    https://bugzilla.gnome.org/show_bug.cgi?id=623615

 gi/pygi-argument.c	  |   60
 ++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-info.c		  |    5 ++++
 tests/test_everything.py |    5 ++++
 3 files changed, 70 insertions(+)

commit fd2c0288eb67823fca1265348a27a9f8f147ae50
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 23:01:42 2010 +0100

    pygi-convert.sh: gtk.accel_map -> Gtk.AccelMap._

 pygi-convert.sh |    1 +
 1 file changed, 1 insertion(+)

commit 13d0ff1d9c129bb458e234b630ebe920b50e2e0f
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 22:34:13 2010 +0100

    pygi-convert.sh: handle "from gtk import gdk"

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit 63a97634031c3d159ad77fdaa1f6341d7656eb07
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 22:23:24 2010 +0100

    pygi-convert.sh: add some Pango special cases

 pygi-convert.sh |    3 +++
 1 file changed, 3 insertions(+)

commit 57e42bf4230d1aa20a47e3b0df2e509602333892
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 19:51:38 2010 +0100

    Override TextIter (begins|ends|toggles)_tag()

    Make the tag argument optional.

 gi/overrides/Gtk.py	 |    9 +++++++++
 tests/test_overrides.py |   17 +++++++++++++++++
 2 files changed, 26 insertions(+)

commit 828b698e47ee819a60d24a772a3cc51ff9cd6601
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 19:32:48 2010 +0100

    Override TextBuffer.set_text() to make length optional

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |   11 ++++++++++-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit bf55dc862755a57bb1b998702d284fc460e88a30
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 16:46:40 2010 +0100

    Override TextBuffer.create_mark()

    Override create_mark to make the left_gravity argument optional

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |    3 +++
 2 files changed, 6 insertions(+)

commit 94c0e2f71636d055bdebe3ec378f3d339eea66c9
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sat Nov 27 16:10:33 2010 +0100

    Fix TextBuffer.get_selection_bounds() override

    Fix the override and add unit test

 gi/overrides/Gtk.py	 |    8 +++++---
 tests/test_overrides.py |    7 +++++++
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 0cd717e3926276540b9145e58a4a3368136b00de
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 22 18:35:09 2010 -0500

    [gi] fix ActionGroup constructor to allow other keyword properties
    to be set

 gi/overrides/Gtk.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 226777cdb70fc72d206664ffd8b6737f7239d23f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 22 18:32:28 2010 -0500

    [gi] require the name parameter when creatin a Gtk.ActionGroup

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |    2 ++
 2 files changed, 5 insertions(+)

commit d0049fa9982d13b3553b05569fb0a227e48b6647
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Nov 21 15:20:58 2010 +0100

    Override UIManager.insert_action_group

    https://bugzilla.gnome.org/show_bug.cgi?id=635437

 gi/overrides/Gtk.py	 |    3 +++
 tests/test_overrides.py |   34 +++++++++++++++++++++-------------
 2 files changed, 24 insertions(+), 13 deletions(-)

commit e1db544e46aeed984133896af34b671a6a5547df
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Nov 21 23:03:25 2010 +0100

    Override TreeModel.get() to return a tuple

    https://bugzilla.gnome.org/show_bug.cgi?id=635466

 gi/overrides/Gtk.py	 |   15 +++++++++++++++
 tests/test_overrides.py |    6 ++++++
 2 files changed, 21 insertions(+)

commit a5e806ad8a8b279402ff7adb1c1cdc04f9f3da76
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Nov 21 21:57:40 2010 +0100

    Make TreeSelection.get_selected_rows compatible with PyGtk

    https://bugzilla.gnome.org/show_bug.cgi?id=635464

 gi/overrides/Gtk.py |	  6 ++++++
 1 file changed, 6 insertions(+)

commit 1c537bc67107948c92b51ba6ba749747e84263e2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Nov 22 15:04:00 2010 -0500

    [gi] switch to using sequences/tuples when marshalling
    cairo_rectangle_int_t

    * Upstream pycairo didn't want to add a new wrapper for
    cairo_rectangle_int_t
    * this works around that issue by using 4 element squences instead
    which
      should be accepted by pycairo for any API that takes a rect

 gi/pygi-foreign-cairo.c |   85
 +++++++++++++++++++++++++++++++++++------------
 1 file changed, 64 insertions(+), 21 deletions(-)

commit 4cede8f12321bed6c3b71813a62c01b61853ba69
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Nov 19 16:46:53 2010 -0500

    [gi] overrides for treeview Drag and Drop

    https://bugzilla.gnome.org/show_bug.cgi?id=627367

 gi/overrides/Gdk.py |	  7 +++++++
 gi/overrides/Gtk.py |	 25 +++++++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit 3fd51bb903724b752f72f49c7cb35652b819791d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Nov 19 16:44:32 2010 -0500

    [gi] when encountering guint8 arrays treat them as byte arrays

    * In Python 2 this means returning a PyString object
    * In Python 3 we return a PyBytes object

    https://bugzilla.gnome.org/show_bug.cgi?id=627367

 gi/pygi-argument.c |	65
 ++++++++++++++++++++++++++++++++++++++++++----------
 tests/test_gi.py   |	 6 +++--
 2 files changed, 57 insertions(+), 14 deletions(-)

commit 7ddb0f7fd8b1b9e8f691c6d42a83cb16c6561d26
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Nov 19 18:19:38 2010 +0100

    pygi-convert.sh: Add pynotify -> Notify

 pygi-convert.sh |    3 +++
 1 file changed, 3 insertions(+)

commit bf03d4db03a7739ac16ddc4e614441557ede554d
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Nov 19 09:08:07 2010 +0100

    pygi-convert.sh: Remove sugar specifics, and allow command line
    file list

    This script is generally useful for converting pygtk2 projects,
    not just for
    sugar. Remove the sugar specific bits, since they will just cause
    errors.

    Also allow the user to specify the files to convert as command line
    arguments. If not given, all *.py files will be processed.

    https://bugzilla.gnome.org/show_bug.cgi?id=635244

 pygi-convert.sh |   25 +++++--------------------
 1 file changed, 5 insertions(+), 20 deletions(-)

commit 18f5d229d3a4b9520c1c456be2635c8e36015c12
Author: Martin Pitt <martin.pitt@ubuntu.com>
Date:	Fri Nov 19 09:00:35 2010 +0100

    pygi-convert.sh: Cover Message and Buttons types

    https://bugzilla.gnome.org/show_bug.cgi?id=635244

 pygi-convert.sh |    2 ++
 1 file changed, 2 insertions(+)

commit ef74273c2043944708515e59a654ebe4944b46ff
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Nov 18 13:54:48 2010 -0500

    [gi] fix actiongroup test since actions are hashed

    * when actions are listed they may not show up in the order they
    were entered
      since they reside in an unordered hash internally

 tests/test_overrides.py |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 2c25886bf6710568d0646f82dce4770faa44c40d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 17 14:38:09 2010 -0500

    [gi] when converting to UTF-8 accept Python Unicode objects as input
    (Python 2)

    https://bugzilla.gnome.org/show_bug.cgi?id=620579

 gi/pygi-argument.c	     |	 14 ++++++++++++--
 glib/pyglib-python-compat.h |	  5 +++++
 tests/test_gi.py	     |	  3 +++
 3 files changed, 20 insertions(+), 2 deletions(-)

commit 8c2d32c8205b971b4353e3d5d2ed1efa6ef0e06c
Author: Damien Caliste <damien.caliste@cea.fr>
Date:	Fri Nov 12 10:20:32 2010 +0100

    Correct a bug in the freeing of memory in pygi-invoke.c.

    When a method with inout arguments is called from Python with
    a wrong number of arguments, the system crashs because of an
    assertion fail. This patch corrects this behaviour.

    https://bugzilla.gnome.org/show_bug.cgi?id=634671

 gi/pygi-invoke.c |   25 ++++++++++++++-----------
 1 file changed, 14 insertions(+), 11 deletions(-)

commit d9bab3b185bb59bd29e3c3f6225f3636f58ec45e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 10 14:11:56 2010 -0500

    update news for release

 NEWS |   73
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit 1338a95339e21cc02b9df6d10166996c8b97a6bf
Author: Jonathan Matthew <jonathan@d14n.org>
Date:	Tue Sep 28 13:44:13 2010 +1000

    Implement richcompare for GIBaseInfo

    https://bugzilla.gnome.org/show_bug.cgi?id=625033

 gi/pygi-info.c |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 9ce3edf69824935aeca9e676eaa9782786c22a97
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Nov 9 22:57:41 2010 -0500

    [gi] add the rectangle_int_t forign cairo type

    * the pycairo maintainer is not being responsive so you will need
    the patch at
      https://bugs.freedesktop.org/show_bug.cgi?id=31111
    * added conditionals, if the api doesn't exist in PyCairo we will
    compile
      without the forign structs

 gi/pygi-foreign-cairo.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 68b8211d8b014cf26ca7e9ab751fb3f61f228290
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Oct 25 18:28:36 2010 -0400

    add a foreign type for cairo_rectangle_int_t and allow it to be
    caller-allocated

    * this is needed because Gdk and Gtk switched from returning a
    GdkRectangle
      to a CairoRectangleInt structure
    * the patch in https://bugs.freedesktop.org/show_bug.cgi?id=31111
    is required
      for pycairo (however there is currently no patch for python 2)
    * added fix for foreign types to allow them to be caller allocated
    * in order for a type to be caller allocated it must be able to take
    a NULL
      and create an empty struct in foreign_struct_from_arg and it must
      be able
      to handle GI_TRANFER_EVERYTHING in foreign_struct_to_arg.

    https://bugzilla.gnome.org/show_bug.cgi?id=627545

 gi/pygi-foreign-cairo.c |   57
 +++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-invoke.c	 |   15 +++++++++++--
 2 files changed, 70 insertions(+), 2 deletions(-)

commit ce8b948310220288e9eef904eef4ec8f4e24a376
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Nov 9 22:11:51 2010 -0500

    [gi] add overrides to Gtk.Editable

 gi/overrides/Gtk.py	 |   17 +++++++++++++++++
 tests/test_overrides.py |   12 ++++++++++++
 2 files changed, 29 insertions(+)

commit 87dbc716f26cefc0e9427c3d6e8befe8eabd3d1e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Nov 9 21:12:54 2010 -0500

    [gi] handle virtual invokers

    * right now we check to see if there is an method with the same name
      as the virtual method and assume that is the invoker
    * some invokers are named different so we now ask the VFuncInfo if
      the vfunc has an invoker
    * this is still not completly correct, gi needs to support telling
      us which vfuncs must be overridden.
    * this keeps the old way of checking vfuncs while adding the edge case
      where vfunc is named differently from their invoker

 gi/pygi-info.c |   16 ++++++++++++++++
 gi/types.py	|    2 +-
 2 files changed, 17 insertions(+), 1 deletion(-)

commit 540e9f1f349ba3625e28b7673c92210eb8974098
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Nov 9 12:17:05 2010 -0500

    add overrides for the insert* apis of list_store and tree_store

    * add set_row to tree_model as convinience method for both list and
    tree stores

    https://bugzilla.gnome.org/show_bug.cgi?id=634423

 gi/overrides/Gtk.py	 |   80
 ++++++++++++++++++++++++++++++++++++-----------
 tests/test_overrides.py |   53 ++++++++++++++++++++++++++++++-
 2 files changed, 114 insertions(+), 19 deletions(-)

commit 0bcb58b9541d9ae52e1d96e6239e9dbe0698872a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Nov 5 13:56:12 2010 -0400

    fix dialogs overrides which were relying on broken inheritance
    behavior

 gi/overrides/Gtk.py |	 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 89c104d17d79d7b935cd76101cba19d49390f7be
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Nov 4 12:00:14 2010 -0400

    Add a overrides registry so we can refrence overrides inside the
    module

    * Overrides have a reentrancy issue when doing inheritance.  If an
    override
      inherits from another override down the stack it won't see the
      override
      because the module is not finished loading and will inherit from the
      non-overriden object instead.  This causes type errors later.
    * By adding the overrides to a registry outside of the module we
    can order
      registration and make the override available as soon as the class
      is parsed,
      not when the whole module is parsed.

    https://bugzilla.gnome.org/show_bug.cgi?id=633347

 gi/module.py			    |	12 +++++++++-
 gi/overrides/GIMarshallingTests.py |	 2 +-
 gi/overrides/Gdk.py		    |	 2 +-
 gi/overrides/Gtk.py		    |	 2 +-
 gi/overrides/__init__.py	    |	43
 ++++++++++++++++++++++++++++++++++++
 gi/types.py			    |	 8 -------
 tests/test_overrides.py	    |	27 ++++++++++++++++++++++
 7 files changed, 84 insertions(+), 12 deletions(-)

commit 878b8f630acd2146bee364054acd45cd33eea37a
Merge: cdacaa9 e317838
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Nov 5 11:40:22 2010 +1300

    Merge remote branch 'dieterv/setup-fixes-for-merge'

commit e317838178fba5f0590fb8bd323f49602d564b53
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Thu Nov 4 11:16:43 2010 +0100

    setup.py: ease maintenance burden for tests installation

 setup.py |   23 +++--------------------
 1 file changed, 3 insertions(+), 20 deletions(-)

commit cdacaa9572893796e0f3aa3730d0191911cb29ee
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Nov 3 09:51:09 2010 -0400

    fix inheritence issues in overrides

 gi/overrides/Gtk.py |	 79
 ++++++++++++++++++++++++++-------------------------
 1 file changed, 40 insertions(+), 39 deletions(-)

commit 3d5955767d81f45e796ab2af0707533375681774
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:38:56 2010 +0100

    tests: add runtests-windows.py script

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 tests/runtests-windows.py |   47
 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit 8cb3f2e78161639c568110aad6a807dcf59f3ae8
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:35:52 2010 +0100

    pygobject_postinstall.py: remove pygobject-2.0.pc treatment from
    postinstall as pkg-config on windows figures out the correct prefix
    at runtime

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 pygobject_postinstall.py |   26 +++-----------------------
 1 file changed, 3 insertions(+), 23 deletions(-)

commit 63167574df53eb481cc11b6a097b2bfe7d5747f5
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:34:38 2010 +0100

    pygobject_postinstall.py: remove shortcut creation

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 pygobject_postinstall.py |   35 +----------------------------------
 1 file changed, 1 insertion(+), 34 deletions(-)

commit f7b12611f94fd8c27fb67a03746c10149ce6e0ef
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:31:14 2010 +0100

    setup.py: formatting cleanup, makes things readable

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   56 ++++++++++++++++++++++++++------------------------------
 1 file changed, 26 insertions(+), 30 deletions(-)

commit a31b4196fbb4638a245430f2fdeafd7534b1d84d
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:28:36 2010 +0100

    setup.py: build and install tests

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   61
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 61 insertions(+)

commit 7c3b0c20b83c05833d73c240690dce3daf43fde8
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:26:59 2010 +0100

    setup.py: install documentation when available on build system

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |    3 +++
 1 file changed, 3 insertions(+)

commit 78533d851ee1314686f18cfa793613a9cf7d6686
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:25:56 2010 +0100

    setup.py: install pygobject-codegen script

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit ad40688df533dda0b1f7be8ea37c542b8796a26b
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:24:45 2010 +0100

    setup.py: install fixxref.py script

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |    3 +++
 1 file changed, 3 insertions(+)

commit 21ddfc66e4e18c002a33154eb4ab81170ed71ecc
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:23:05 2010 +0100

    setup.py: rearrange constants

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   37 ++++++++++++++++++++-----------------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit 7d353d04892de67265bf693f591f37fd393de639
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:18:11 2010 +0100

    setup.py: check python version and pkgconig availability before
    anything else

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 286364ed39953e942e24d5911519bcac2f90975a
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:05:59 2010 +0100

    setup.py: simplify sys.platform != 'win32' detection and error
    reporting

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   29 +++++++++--------------------
 1 file changed, 9 insertions(+), 20 deletions(-)

commit 3f70f92904c123e6cc40929c0affd3f75d061828
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 09:02:30 2010 +0100

    setup.py: rearrange imports

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 setup.py |   31 ++++++++++++++++++++++---------
 1 file changed, 22 insertions(+), 9 deletions(-)

commit 9aa54b65f729c0f3b0e96ab7ff797f87dad6a455
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 08:58:00 2010 +0100

    README.win32: update build instructions

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 README.win32 |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 5a33105f690ba84b2e4bb15d73d3467e92fa06e0
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 07:59:18 2010 +0100

    dsextras.py: formatting cleanup, makes things readable

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	148
 +++++++++++++++++++++++++++++++++++++----------------------
 1 file changed, 93 insertions(+), 55 deletions(-)

commit d03503d0412d173acb383926ab3c2d640dad3e3f
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 07:00:40 2010 +0100

    dsextras.py: add ggc4 to MSVC compatible struct packing comment

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c62968e9f8467e24870b8c4f61112676eef4630
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:56:32 2010 +0100

    dsextras.py: use the pkgc_ functions instead of repeating pgk-config
    incantations all over the place

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit b98277afc24886bbda400e0ad360992bffa77b7c
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:49:48 2010 +0100

    dsextras.py: add pkgc_get_version and pkgc_get_defs_dir functions

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit a565558652ebc3fa49d7aea40d399b06bbe376c4
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:45:05 2010 +0100

    dsextras.py: PEP8: Comparisons to singletons like None should always
    be done with 'is' or 'is not', never the equality operators.

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4b1ff0c7f9953f925d2178069263cca67ca7db02
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:44:21 2010 +0100

    dsextras.py: use True/False instead of 1/0

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	 25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 819a21cea831c3892040390e9446b78a91d1cbbe
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:28:04 2010 +0100

    dsextras.py: rearrange imports

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 dsextras.py |	 58
 +++++++++++++++++++++++++++++++---------------------------
 1 file changed, 31 insertions(+), 27 deletions(-)

commit d20edbfdde2819f8d4fee8cb3170c126fcd31d5f
Author: Dieter Verfaillie <dieterv@optionexplicit.be>
Date:	Wed Nov 3 06:16:21 2010 +0100

    Add distutils generated build/dist directories and eclipse
    configuration files to .gitignore

    Signed-off-by: Dieter Verfaillie <dieterv@optionexplicit.be>

 .gitignore |	 7 +++++++
 1 file changed, 7 insertions(+)

commit 268d6ed2b0b1d266c612da4453b6117d9e14437e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Oct 28 15:32:28 2010 -0400

    [gi] add tests for calling dir on a dynamic module

 tests/test_gi.py |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit f6386a6e0d225c83cdbe1add4c4d3ea51d3ec2f0
Author: Deepankar Sharma <deepankar.sharma@gmail.com>
Date:	Wed Oct 27 18:28:11 2010 -0400

    [gi] dir() now works for modules

    https://bugzilla.gnome.org/show_bug.cgi?id=625093

 gi/module.py |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 28ed01c34c503cfb4f14fe7af7912060ca70aba6
Author: Simón Pena <spenap@gmail.com>
Date:	Mon Sep 20 23:10:14 2010 +0200

    Don't check the inner type when comparing gpointers

    When using pyg_pointer_richcompare to compare two objects,
    don't check their inner types. As we can't compare their private
    fields, nor get a proper compare function, we can consider them
    gpointers and compare them that way.

    https://bugzilla.gnome.org/show_bug.cgi?id=629552

 gobject/pygpointer.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1731f89e4b5a20c33976963e12a1f39a21d33fde
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Oct 28 14:21:12 2010 -0400

    Release GIL when calling into C functions

    Author: Daniel P. Berrange <dan@berrange.com>

    https://bugzilla.gnome.org/show_bug.cgi?id=629042

 gi/pygi-invoke.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 783e2e351ec7470bda6b441e51f387dd61543c4b
Author: José Aliste <jaliste@src.gnome.org>
Date:	Fri Oct 15 14:30:10 2010 -0300

    _gi.Repository : Implement missing info bindings.

    https://bugzilla.gnome.org/show_bug.cgi?id=632185

 gi/pygi-info.c |   91
 +++++++++++++++++++++++++++++++++++++++++++++++---------
 gi/pygi-info.h |    7 +++++
 2 files changed, 84 insertions(+), 14 deletions(-)

commit 2ca897273f52ae38f5e06e72c773a048e199eee5
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Oct 28 13:49:15 2010 -0400

    include Python.h so that PY_VERSION_HEX gets defined

 gi/pygi-foreign-cairo.c |    1 +
 1 file changed, 1 insertion(+)

commit 8b28b1d713df33931e255600ab98feda37a8e02a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Oct 28 13:47:34 2010 -0400

    [gi] make overrides work for python 3.x protocols and alias for
    python 2.x

 gi/overrides/Gtk.py |	  9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 3c09710d2f68af9c16ce39fd25656147656a486a
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:24:24 2010 +0200

    Override Gtk.Widget.translate_coordinates to not return success value

 gi/overrides/Gtk.py |	 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 9d4443b3de8c327d8645ddde0a7a6dc5b977d7b4
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:22:36 2010 +0200

    Override Gtk.TreeViewColumn.cell_get_position to not return success
    value

 gi/overrides/Gtk.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit 6679d39ace06294e98f9d6fc911ed6fb27656010
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:21:36 2010 +0200

    Override get_path_at_pos and get_dest_row_at_pos of Gtk.TreeView to
    not return success value

 gi/overrides/Gtk.py |	 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 80b1b266fa68a5c67106871502017166628f71e4
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:20:38 2010 +0200

    Override Gtk.TreeSortable.get_sort_column_id to not return success
    value

 gi/overrides/Gtk.py |	 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 17cd0fb3a2d2ca0c6109c41727ba0b8c42217cd5
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:19:20 2010 +0200

    Override forward_search and backward_search of Gtk.TextIter to not
    return success value

 gi/overrides/Gtk.py |	 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 95c86fa31da3d2fe84db0e2b5bc2a6dc896c9223
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:18:09 2010 +0200

    Override Gtk.TextBuffer.get_selection_bounds to not return success
    value

 gi/overrides/Gtk.py |	  5 +++++
 1 file changed, 5 insertions(+)

commit da6d87460b9392c29d025a7eed9249fb604204bc
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:17:04 2010 +0200

    Override Gtk.RecentInfo.get_application_info to not return success
    value

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 0ed2e8772bdc405b0d0c7e0b2803e0e141abcb6a
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:16:21 2010 +0200

    Override Gtk.IMContext.get_surrounding to not return success value

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit b85b445f15421209c0b4adf676d7c8218d6437c5
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:15:24 2010 +0200

    Override get_item_at_pos, get_visible_range, get_dest_item_at_pos
    of Gtk.IconView to not return success value

 gi/overrides/Gtk.py |	 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 684d716192d58c972083e579e909bcd97f8a5025
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:13:47 2010 +0200

    Override Gtk.Container.get_focus_chain to not return success value

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 8ec830c57fafbfe50d9619c6caba3cb95a00d688
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 23 14:12:44 2010 +0200

    Override Gtk.ComboBox.get_active_iter to not return success value

 gi/overrides/Gtk.py |	 10 ++++++++++
 1 file changed, 10 insertions(+)

commit b483852904468722230903989e3451c7c6a24c0f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Oct 12 12:18:33 2010 -0400

    [gi] make parameter check less strict when dealing with GValue params

    * Some GValue API can store a pointer to a python object for later
      use but our parameter checking was too strict to allow this
    * Add pyg_type_from_object_strict API which takes a strict boolean and
      returns PY_TYPE_OBJECT if no other GType can be found
    * Since we don't have enough info to genrically check GValue
    parameters
      use the less strict type guessing when encountering a GValue param
    * Other API stays the same and continues to do strict testing

    https://bugzilla.gnome.org/show_bug.cgi?id=622987

 gi/pygi-argument.c	     |	 17 ++++++---------
 gobject/gobjectmodule.c     |	  4 ++--
 gobject/pygobject-private.h |	  1 +
 gobject/pygobject.h	     |	  2 ++
 gobject/pygtype.c	     |	 37 ++++++++++++++++++++++++++++----
 tests/test_gi.py	     |	  1 -
 tests/test_overrides.py     |	 50
 +++++++++++++++++++++++++++++++++++++++----
 7 files changed, 90 insertions(+), 22 deletions(-)

commit 8c87d622dcc6d76a981edfc5818fe67bb2e114e2
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Oct 22 13:28:31 2010 +1300

    Shortcut removal is not needed on post-uninstall

 pygobject_postinstall.py |   14 ++------------
 1 file changed, 2 insertions(+), 12 deletions(-)

commit a3ed97fe6f80548801739fe6b72771b9eb6d93f7
Author: John Stowers <john.stowers@gmail.com>
Date:	Thu Oct 21 13:25:35 2010 +1300

    Disable shortcut creation in windows installer

 pygobject_postinstall.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a3d6212b0abccef58f05d454c091936776413d98
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Oct 7 11:43:27 2010 -0400

    overrides for all subclasses of dialog

    https://bugzilla.gnome.org/show_bug.cgi?id=631634

 gi/overrides/Gtk.py	 |   94
 ++++++++++++++++++++++++++++++++++++++++++++---
 tests/test_overrides.py |   64 +++++++++++++++++++++++++++++++-
 2 files changed, 151 insertions(+), 7 deletions(-)

commit a87e3ba64b54e6df0b5b96af47c34e3be790b58f
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Thu Oct 7 19:37:53 2010 +0200

    Make TreeModel behave like in GTK-2.x

    Moved stuff from __getitem__ to get_iter.
    Added TreePath.__cmp__

    get_iter_from_string throws ValueError.
    iterchildren() does not return None.

    Adjusted tests to new TreeModel and added TestGtk.test_tree_model
    method

    Added support for negative row and column indices

    Use rich comparison methods instead of __cmp__

    Added TreeModel.__bool__/__nonzero__

    Raise Error if tree path string is empty

    https://bugzilla.gnome.org/show_bug.cgi?id=631547

 gi/overrides/Gtk.py	 |  195
 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |  160 ++++++++++++++++++++++++++++++++++++--
 2 files changed, 349 insertions(+), 6 deletions(-)

commit acfcc29af727fb67d0dfbbcc7cc14963ef21f1ea
Author: John Stowers <john.stowers@gmail.com>
Date:	Sat Oct 16 18:59:25 2010 +1300

    Correctly build GIO on windows

 setup.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 33b59fd7437009b6c3ed43412e171d2cc91ee317
Author: John Stowers <john.stowers@gmail.com>
Date:	Sat Oct 16 18:17:28 2010 +1300

    Require Python >= 2.6.0 for Windows build

 setup.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 544e0e4de4f5f97b0584eaf72ae8a081eca28ab6
Author: John Stowers <john.stowers@gmail.com>
Date:	Sat Oct 16 17:41:01 2010 +1300

    Fix depreciation warning in dsextras.py

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 239ff961778e4e1587404d8a70dfbe8630ab0623
Author: John Stowers <john.stowers@gmail.com>
Date:	Sat Oct 16 17:34:50 2010 +1300

    Fix build on windows

 gi/pygi-foreign.c |	5 ++++-
 gi/pygi.h	   |	5 ++++-
 setup.py	   |	4 ++--
 3 files changed, 10 insertions(+), 4 deletions(-)

commit 9a2f81d63012fef23fdde2b4d903bd69601c07c6
Author: Michael Culbertson <michael.culbertson@gmail.com>
Date:	Sat Oct 16 17:08:11 2010 +1300

    Support for GCC4 in Windows distutils build - bug 626548

 dsextras.py |	  3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 27367c8dc3a3a31fdd778505b319cd3f4afb9e27
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Oct 15 09:39:02 2010 +1300

    Remove obsolete comments in dsextras.py

 dsextras.py |	 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit b5f383f854fb8f72677828b029589320c59006d1
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Oct 15 09:21:03 2010 +1300

    Broken dsextras.py pkg-config check error message

	* Fixes bug 631962

 dsextras.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e1981da105b574e273ae6500fc6d25caf6af6aae
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 28 15:31:03 2010 -0400

    add compat functions for the deprecated PyCObject api

    * Moved to using the PyCapsule API for python >= 3
    * PyCObject is removed from Python 3.2
    * It has also been deprecated in 2.7 but since we use the API in
    header files
      which are consumed by static binding modules, appling this for
      python 2.7
      causes crashes unless the modules are recompiled, breaking ABI.
      It is safe
      to rely on for 2.7 because it will never be removed and there is
      talk of
      undeprecating it upstream.
    * There is no issues with static bindings under python 3 because
    they are not
      supported yet and most likely never will be.
    * Even if PyCObject is brought back in 3.2, PyCapsule is a much
    safer API
      which adds a poorman's type check when unboxing.

    https://bugzilla.gnome.org/show_bug.cgi?id=630844

 gi/gimodule.c		     |	  2 +-
 gi/pygi.h		     |	  5 ++++-
 glib/glibmodule.c	     |	  2 +-
 glib/pyglib-python-compat.h |	 28 ++++++++++++++++++++++++++++
 glib/pyglib.c		     |	  6 +++---
 glib/pygoptioncontext.c     |	  2 +-
 gobject/gobjectmodule.c     |	  2 +-
 gobject/pygobject.h	     |	  6 ++++++
 gobject/pygtype.c	     |	 10 +++++-----
 9 files changed, 50 insertions(+), 13 deletions(-)

commit 03d2e2924e27a9d6cae89e5748f70e0a51be91c6
Author: Damien Caliste <damien.caliste@cea.fr>
Date:	Tue Sep 28 12:44:42 2010 +0200

    Add __path__ attributes.

    Add an attribute __path__ to DynamicModule and IntrospectionModule,
    using the path of the typelib.

    https://bugzilla.gnome.org/show_bug.cgi?id=630807

 gi/module.py |    2 ++
 1 file changed, 2 insertions(+)

commit 28f9366c9cb382801bad080864f667c867daa3c7
Author: Sebastian Pölsterl <sebp@k-d-w.org>
Date:	Sat Oct 9 17:40:40 2010 +0200

    Override Gtk.TreeSelection.get_selected to not return success value.

    https://bugzilla.gnome.org/show_bug.cgi?id=631765

 gi/overrides/Gtk.py |	 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit f01a7d9e8222663ce52100e061033f2745a5e7af
Author: Vincent Untz <vuntz@gnome.org>
Date:	Thu Oct 7 09:42:24 2010 +0200

    Make row optional in Gtk.TreeStore/ListStore.append override

    https://bugzilla.gnome.org/show_bug.cgi?id=631548

 gi/overrides/Gtk.py |	 36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit 1e1357f5fa1a034b0b707040d664ac46be6e23f7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Oct 4 12:50:55 2010 -0400

    Revert "add compat functions for the deprecated PyCObject api"

    This reverts commit f25e763d53e5cdd4de08e90b04aea4b4c4720ac0.

    I ment to commit another patch and ended up comitting both

 gi/gimodule.c		     |	  2 +-
 gi/pygi.h		     |	  5 +----
 glib/glibmodule.c	     |	  2 +-
 glib/pyglib-python-compat.h |	 19 -------------------
 glib/pyglib.c		     |	  6 +++---
 glib/pygoptioncontext.c     |	  2 +-
 gobject/gobjectmodule.c     |	  2 +-
 gobject/pygobject.h	     |	  6 ------
 gobject/pygtype.c	     |	 10 +++++-----
 9 files changed, 13 insertions(+), 41 deletions(-)

commit 97774cb149c5b03d5ef82a5af3f19e2ce4d79d0b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Oct 4 12:43:31 2010 -0400

    return NULL instead of -1 which fixes crash when introspection is
    turned off

    * see https://bugzilla.gnome.org/show_bug.cgi?id=631158

 gi/pygi.h |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f25e763d53e5cdd4de08e90b04aea4b4c4720ac0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 28 15:31:03 2010 -0400

    add compat functions for the deprecated PyCObject api

    * Moved to using the PyCapsule API for python >= 2.7

    https://bugzilla.gnome.org/show_bug.cgi?id=630844

 gi/gimodule.c		     |	  2 +-
 gi/pygi.h		     |	  5 ++++-
 glib/glibmodule.c	     |	  2 +-
 glib/pyglib-python-compat.h |	 19 +++++++++++++++++++
 glib/pyglib.c		     |	  6 +++---
 glib/pygoptioncontext.c     |	  2 +-
 gobject/gobjectmodule.c     |	  2 +-
 gobject/pygobject.h	     |	  6 ++++++
 gobject/pygtype.c	     |	 10 +++++-----
 9 files changed, 41 insertions(+), 13 deletions(-)

commit 80b8ccd450fe4e3ea77b27e58bb63cabc2a2bb2b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 28 15:28:16 2010 -0400

    fix commit 7fe83108 which didn't use the compat functions for
    string handling

 glib/glibmodule.c |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9562842907a9d94f6adae2c1bb20d6b1f189abda
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 28 13:15:57 2010 -0400

    Python 3 fixes for dsextras and the python.m4 distribution files

 dsextras.py  |   13 +++++++------
 m4/python.m4 |    4 ++--
 2 files changed, 9 insertions(+), 8 deletions(-)

commit 98f69957ee9e3037b0a05a037098e4d2133ca256
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Sep 27 14:01:31 2010 -0400

    post release bump to 2.27.0 unstable

    * update hacking to fill in some holes in the release instructions

 HACKING      |    6 ++++--
 configure.ac |    2 +-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit fd38010101411e6bc1ca9314657f418de660fa13
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Sep 27 12:03:10 2010 -0400

    update NEWS for release

 NEWS |   93
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 7072d56b6cba13da97a052c75d1ae0c2cc417fd1
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Sun Sep 26 08:37:31 2010 +0200

    Pre-release version bump 2.26.0

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a549f429d2ced7a78d5baa5e2f28f6750b4788f2
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Sep 24 22:44:03 2010 +1200

    Wrap g_get_system_{config,data}_dirs ()

	* Also tidy up g_get_{cache,config,data}_dir
	  to share common code

 glib/glibmodule.c |   68
 +++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 50 insertions(+), 18 deletions(-)

commit 328aca600714bdca89dfdb531c222ee561ede27e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 24 12:16:22 2010 -0400

    fixed make check and make dist

 tests/Makefile.am |   31 ++++++++++++++++++-------------
 1 file changed, 18 insertions(+), 13 deletions(-)

commit 27023fd56148dd17b5576c1e81e0fe851d9b8727
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Sep 24 21:20:53 2010 +1200

    Disable GI tests when introspection disabled

 tests/Makefile.am |	2 ++
 1 file changed, 2 insertions(+)

commit 7fe831081cdd2e26f5d948326b9f89ea0694e752
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Jul 18 19:35:08 2009 +0200

    Wrap g_uri_list_extract_uris. Fixes bug #584431

 glib/glibmodule.c   |	 38 ++++++++++++++++++++++++++++++++++++++
 gobject/__init__.py |	  2 +-
 tests/Makefile.am   |	  3 ++-
 tests/test_uris.py  |	 15 +++++++++++++++
 4 files changed, 56 insertions(+), 2 deletions(-)

commit d6721a59c294f2471142b8c32de2f647b7084bca
Author: Paul Bolle <pebolle@tiscali.nl>
Date:	Thu Sep 23 15:38:40 2010 -0400

    Fix a few uses of TRUE and FALSE in the docs

 docs/reference/pygio-mount.xml		|    5 +++--
 docs/reference/pyglib-functions.xml	|   18 +++++++++---------
 docs/reference/pyglib-maincontext.xml	|   12 ++++++------
 docs/reference/pyglib-mainloop.xml	|    6 +++---
 docs/reference/pygobject-functions.xml |    6 +++---
 docs/reference/pygobject.xml		|    4 ++--
 6 files changed, 26 insertions(+), 25 deletions(-)

commit a08c9fffb4262ae678e17f90bbfb2d5f880cfad0
Author: Damien Caliste <damien.caliste@cea.fr>
Date:	Tue Sep 21 17:52:14 2010 +0200

    pygi: always free the invocation_state struct

    In pygi-invoke.c, the invocation_state struct is never freed
    in case of success. Thus, always call _free_invocation_state()
    before leaving.
    Modify _free_invocation_state to avoid double free in case of
    caller-allocated GValue, once as a released argument in the
    _process routine and another time in the _free as the special
    case. So move all argument releasing code from the _process
    routine to the _free one.
    Modify the tests for the callback routines to return an integer
    value as specified in the GIR file.

    Make check is as successful as before (already existing error
    related to GVariant is still there).

    https://bugzilla.gnome.org/show_bug.cgi?id=630271

 gi/pygi-invoke.c	  |   83
 +++++++++++++++++++++-------------------------
 tests/test_everything.py |    4 ++-
 2 files changed, 40 insertions(+), 47 deletions(-)

commit 9714d765a34e246899f11b6792eea3aecce0b7ec
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Sep 13 16:36:47 2010 +0200

    Start implementing something equivalent to g_variant_new

    https://bugzilla.gnome.org/show_bug.cgi?id=629367

 gi/gimodule.c		    |	20 +++++++
 gi/overrides/GLib.py	    |  131
 +++++++++++++++++++++++++++++++++++++++++---
 gi/pygi-foreign-gvariant.c |	 2 +-
 tests/test_everything.py   |	16 ------
 tests/test_overrides.py    |	25 +++++++++
 5 files changed, 170 insertions(+), 24 deletions(-)

commit fc45abdd9b55ab63556798ab0f04715be79dba08
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 23 10:49:36 2010 -0400

    fixed typo - missing comma in glib.option module

    * https://bugzilla.gnome.org/show_bug.cgi?id=627449

 glib/option.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ed100f3183c6325dd04461484e877bb7d4131b1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 17 12:08:09 2010 -0400

    add checks so we can compile under python 3 by setting PYTHON=python3

    * compile for python 3
    * disables gio if compiling under python 3.x
    * runs only pertinant tests

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 configure.ac	   |   32 +++++++++++++++++++++++++++++---
 tests/Makefile.am |   35 ++++++++++++++++++++---------------
 tests/runtests.py |	4 ++++
 3 files changed, 53 insertions(+), 18 deletions(-)

commit 269ff8564eeb597dc06c27e293354b7ff7a71a82
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Sep 17 15:50:47 2010 +0200

    Rename static methods as functions

    In recent gobject-introspection releases, static methods have been
    removed and placed as functions in the namespace level. In a future
    releases it's planned to become static methods again but for now
    let's fix the tests.

 tests/test_gi.py |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 2da8da589644d6125101210712defb1272a8abb1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 13:52:14 2010 -0400

    fix a couple of compiler warnings

    https://bugzilla.gnome.org/show_bug.cgi?id=629199

 gi/pygi-argument.c	 |    4 ++--
 gi/pygi-struct.c	 |    2 +-
 gobject/gobjectmodule.c |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 6769a4704f0876ac3baacd4da03ff16d9f0906be
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 13:55:17 2010 -0400

    remove unused code

    * we use richcompare now

    https://bugzilla.gnome.org/show_bug.cgi?id=629198

 gobject/pygtype.c |	9 ---------
 1 file changed, 9 deletions(-)

commit 98f54f9d33996baeaa8c8c1240310f5396d03a1d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Sep 14 14:10:49 2010 -0400

    Check the type of the instance object

    * in python 2 methods were added to classes as unbound methods and
    they would
      check the instance type to make sure it was correct
    * in python 3 for perfomance reasons methods are added to classes
    as simple
      functions which treat the instance as an untyped argument so
      no checks
      are made.
    * this patch adds a type check so that the correct errors are
    thrown in
      python 3 (python 2 this just adds another layer of redundancy should
      something change with type checking in the future)
    * since GI handles regular args and the instance arg slightly
    differently
      we had to split out the interface checks in
      _pygi_g_type_info_check_object
      in order to not duplicate code

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-argument.c |  182
 +++++++++++++++++++++++++++-------------------------
 gi/pygi-argument.h |	 2 +
 gi/pygi-invoke.c   |	14 ++++
 3 files changed, 112 insertions(+), 86 deletions(-)

commit 5d79498d38b147b66ae72c1481e397160491e8d6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 15 10:26:20 2010 -0400

    include the correct pycairo version

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-foreign-cairo.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit b855562e5c0019cd7e4982fe00c467ede9e3926d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 22:16:58 2010 -0400

    Use PyMapping_Keys to determine if an object is a dict (py3k fix)

    * in Py3k PyMapping_Check returns true for sequences such as strings
      and lists.  Since we need to get the keys anyway, and it returns
      NULL if this is not a dict, this is a much better test, even in
      Py2

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-argument.c |	10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 0e72e28c6c5502c7db5103cf1299c9f0e6689fdd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 18:44:11 2010 -0400

    fix handling of UINT64 and INT64 arguments in py3k

    * decode to the right sized C long

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-argument.c |	20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit d5666d99a1c0396b7da0cb14f9f4ff8892da7e2e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 17:35:10 2010 -0400

    properly handle ulongs properties in py3k

    * If this is a PyLong object pull use AsUnsignedLong

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gobject/pygtype.c |   29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 3d431c7dd0de97db10cb0c00c39d9c1837bed2f2
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Sep 17 12:14:56 2010 +0200

    Specify encoding of tests/test_gi.py

 tests/test_gi.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a808bdabb9fa6f4a9b9ce42e1cce05fb37403f0f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 13:24:30 2010 -0400

    use actual unicode in the tests on py3k, not the byte representation

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 tests/test_gi.py |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 928f4485041d80d0c36ff2daeae4bcd09bd0bde4
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 12:45:21 2010 -0400

    s/METH_KEYWORDS/METH_VARARGS|METH_KEYWORDS/ when defining object
    methods

    * in Py3k the METH_KEYWORDS flag by itself is invalid.  A method
    must be defined
      with both the METH_VARARGS and METH_KEYWORDS flags.

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/pygiochannel.c |	 30 +++++++++++++++---------------
 glib/pygsource.c    |	  4 ++--
 gobject/pygobject.c |	  2 +-
 3 files changed, 18 insertions(+), 18 deletions(-)

commit b5ee20afa4399c7689fbec8939fa20b927eeb782
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 08:04:40 2010 -0400

    fix subclassing PyLong by calling __new__ correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/pygspawn.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a499b2f0d622b671bd154544f66b73f1278e66ed
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 07:56:44 2010 -0400

    minor py3k fixups for python modules

    * add _basestring and _bytes and _callable wrappers
    * use items instead of iteritems and range instead of xrange

    fix py3k modules

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/overrides/Gtk.py |	 24 ++++++++++++++++--------
 glib/option.py      |	 16 ++++++++++++----
 2 files changed, 28 insertions(+), 12 deletions(-)

commit dec9001d26c97949e7b3578086cb35e98075c047
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Sep 9 07:36:04 2010 -0400

    minor fixes in tests for py3k compat

    * add a _bytes wrapper for API that expects bytes in py3k but str
    in py2
    * fix some more exception handling using sys.exc_info()[:2]
    * use range instead of xrange, items instead of iteritems since py3k
      dropped support for the different ways of accessing iterators
      - this is less efficient in py2 but we plan to target py3k as the
	primary platform
    * use list(dict.items()) since py3k only returns iterables which
    are not
      indexable
    * missed some _long wrapping

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 tests/compathelper.py	  |   18 ++++++++++++++++++
 tests/test_everything.py |    5 +++--
 tests/test_mainloop.py   |    3 ++-
 tests/test_option.py	  |    6 ++++--
 tests/test_overrides.py  |    4 ++--
 tests/test_properties.py |    6 +++---
 6 files changed, 32 insertions(+), 10 deletions(-)

commit 09a0daeedf49eaf376c1288be5743b57fbc76d51
Author: Colin Walters <walters@verbum.org>
Date:	Thu Sep 9 16:25:51 2010 -0400

    compilation: Fix syntax error

 gi/pygi-info.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f7afd6d5afd8c1a5f36bf1295814757b71c8cbc
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Sep 9 22:17:00 2010 +0200

    Add missing file

 gi/overrides/GLib.py |   48
 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 306b792ac97a458ddee59fb86d66453495117f3e
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jul 22 13:48:51 2010 +0100

    Add override for GLib.Variant.new_tuple

    * gi/gimodule.c: Add _wrap_pyg_variant_new_tuple
    * gi/overrides/GLib.py: Override Variant.new_tuple and
    Variant.get_string
    * gi/pygi-type.[hc]: split _pygi_type_import_by_name out from
      _pygi_type_import_by_gi_info
    * gi/types.py: Never override gobject.TYPE_NONE
    * tests/test_everything.py: Add tests for GVariant tuples

    https://bugzilla.gnome.org/show_bug.cgi?id=625050

 gi/gimodule.c		  |   38 ++++++++++++++++++++++++++++++++++++++
 gi/overrides/Makefile.am |    1 +
 gi/pygi-type.c		  |   15 +++++++++------
 gi/pygi-type.h		  |    2 ++
 gi/types.py		  |    1 +
 tests/test_everything.py |    9 +++++++++
 6 files changed, 60 insertions(+), 6 deletions(-)

commit 22e53aa2ed9cf6173a877b0af6928d5ab8da2f4f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 8 13:08:48 2010 -0400

    fix for changes in the gi test libraries

 tests/test_everything.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 246877074617b0e9c3b2ba2a5395a73e0ed9cd5d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 8 13:08:07 2010 -0400

    Gtk.DialogFlags.NO_SEPARATOR has been removed in Gtk 3.0

 gi/overrides/Gtk.py |	 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit f92fc48e7e2ec50996e994ccb7d08a61e7374f22
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Sep 8 12:35:09 2010 -0400

    no need to offset arg positions when is_method is true

    * The old GI libraries required we offset arg positions for the
    missing
      self argument.  The new library fixes this so we don't have
      to offset
      anymore.

    https://bugzilla.gnome.org/show_bug.cgi?id=629087

 gi/pygi-callbacks.c |	  5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 8c517de2d278bdef641c72b8f2919a3924290ec1
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Aug 20 14:54:35 2010 +0200

    gi: Add support for more property types

    https://bugzilla.gnome.org/show_bug.cgi?id=627494

 gi/pygi-property.c	  |  156
 +++++++++++++++++++++++++++++++++++-----------
 tests/test_everything.py |   34 ++++++++++
 2 files changed, 154 insertions(+), 36 deletions(-)

commit 6d183d1fff55d54569ba3e1f90a10284df74fd40
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Sep 3 12:04:16 2010 -0400

    use PyObject_SetAttrString, not PyDict_SetItemString when setting
    __gtype__

    * When registering a gtype wrapper we used to set tp_dict
    directly. This works
      in python 2 but python 3 seems to handle attributes in a slightly
      different
      way where the tp_dict and attr get out of sync.  By setting the attr
      directly we avoid this issue.
    * Note that there are many more places where we set __gtype__
    using tp_dict
      however for objects which are not instantiated yet we have to
      set tp_dict
      directly.
    * Since this one change fixes a lot of failed tests, for now we
    ignore the
      other places where we set __gtype__.  If we run into more issues
      dealing
      with __gtype__ we can take a closer look later.

    https://bugzilla.gnome.org/show_bug.cgi?id=627878

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gobject/gobjectmodule.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b7bf4269682a3335f5e0a52b46fa721af134d09a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Sep 1 11:03:40 2010 +0200

    Rename GArgument to GIArgument

 gi/pygi-argument.c	    |	52
 ++++++++++++++++++++++----------------------
 gi/pygi-argument.h	    |	10 ++++-----
 gi/pygi-closure.c	    |	34 ++++++++++++++---------------
 gi/pygi-foreign-cairo.c    |	 8 +++----
 gi/pygi-foreign-gvariant.c |	 4 ++--
 gi/pygi-foreign-gvariant.h |	 4 ++--
 gi/pygi-foreign.c	    |	12 +++++-----
 gi/pygi-foreign.h	    |	 8 +++----
 gi/pygi-info.c		    |	 8 +++----
 gi/pygi-invoke.c	    |	28 ++++++++++++------------
 gi/pygi-property.c	    |	 4 ++--
 gi/pygi.h		    |	16 +++++++-------
 12 files changed, 94 insertions(+), 94 deletions(-)

commit 7197f85c9be2b03636639ac909ca2c3170653509
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Aug 18 10:29:19 2010 -0400

    fix up tests so they run in py3k

    * add a compat helper that should only be used by tests
    * fix long notation to use the compat helper instead
    * add parens to print statements
    * use compatable try/except pattern

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gobject/propertyhelper.py |   16 +++++++++++-----
 tests/compathelper.py	   |   32 ++++++++++++++++++++++++++++++++
 tests/test_option.py	   |	7 ++++++-
 tests/test_properties.py  |   24 ++++++++++++++----------
 tests/test_signal.py	   |   14 +++++++-------
 tests/test_source.py	   |	4 ++--
 6 files changed, 72 insertions(+), 25 deletions(-)

commit 720e614acdbcf734d4bcccc403e639b5a5bcae24
Author: Colin Walters <walters@verbum.org>
Date:	Fri Aug 20 10:58:48 2010 -0400

    tests: Port to new introspection tests

    Everything is renamed "Regress", and both it and GIMarshallingTests
    are now in source form, so we compile them.

    The scanner now adds "static methods" to objects, structs, and unions,
    so update the test code to use those.

    In the tests, remove broken (inout) cases - the person writing these
    tests misunderstood the semantics of (inout).  It's not acceptable for
    a C API to mutate e.g. a GSList* passed in, or unref an object.

    The invocation code needed to be updated for this - remove some
    broken hacks.

    https://bugzilla.gnome.org/show_bug.cgi?id=627878

 configure.ac		  |    5 +-
 gi/pygi-argument.c	  |    9 +--
 gi/pygi-invoke.c	  |  147
 +++++---------------------------------------
 tests/Makefile.am	  |   42 ++++++++++++-
 tests/test_everything.py |    6 +-
 tests/test_gi.py	  |  151
 +++++++++-------------------------------------
 6 files changed, 93 insertions(+), 267 deletions(-)

commit f6c4d9e58c8f05cb2d82e158c9eb8480308565bd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Aug 20 10:43:58 2010 -0400

    we need to specify tp_hash since we overide tp_richcompare

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gobject/pygenum.c  |	 1 +
 gobject/pygflags.c |	 1 +
 2 files changed, 2 insertions(+)

commit c03e6b482548aee99362356807c804f8834fad2b
Author: John Ehresman <jpe@wingware.com>
Date:	Thu Apr 15 17:11:30 2010 -0400

    working enum/flags/pid subclasses of long

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/pygspawn.c    |	 7 ++---
 gobject/pygenum.c  |	61 +++++++++++++++++++++++------------------
 gobject/pygflags.c |	76
 ++++++++++++++++++++++------------------------------
 3 files changed, 71 insertions(+), 73 deletions(-)

commit 0db676fd2296750a46ba0fb069e472da06ecc53a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Aug 18 11:03:32 2010 -0400

    make vfuncs work in py3k

    * methods now export __func__ instead of im_func for getting the
    function
      out of a method closure
    * however classes no longer return unbound methods in py3k and instead
      return the actual function
    * in python 2 we use im_func when getting the function from the
    vfunc closure
    * in py3k we simply assign vfunc to the function

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/types.py |	 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 286dcd0c6455961d818ac7f05f80f82435abc1dc
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Aug 17 15:43:42 2010 -0400

    make cairo module compile in py3k

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/Makefile.am		 |    2 +-
 gi/pygi-foreign-cairo.c |   17 +++++++----------
 2 files changed, 8 insertions(+), 11 deletions(-)

commit bda58ec34fc443fe1108afc8532bec50f6fd0b44
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Aug 17 02:33:45 2010 -0400

    fix exceptions so they work in python 3.x

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/module.py |    2 +-
 gi/types.py  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 427a3c8053feca35ccd746575760ac8a0ed50a12
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Aug 17 02:24:44 2010 -0400

    make the gi module compile under 3.x

    * include the compat macros
    * use GLIB_MODULE_START/END to define module
    * add PyInit__gi to the exported symbols

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/Makefile.am |    2 +-
 gi/gimodule.c	|   24 +++++++++---------------
 2 files changed, 10 insertions(+), 16 deletions(-)

commit 1dee5dcd2b1747b4a4af438c0443d7930e4802db
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Aug 17 02:14:14 2010 -0400

    fix up testshelper module so it compiles in python 3.x

    * include the compat header
    * fix up PyInts to be PYGLIB_Long
    * Use PYGLIB_DEFINE_TYPE macros to define module objects
    * Use PYGLIB_MODULE_START/END to define modules

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 tests/Makefile.am	  |    2 +-
 tests/testhelpermodule.c |  221
 ++++++----------------------------------------
 2 files changed, 28 insertions(+), 195 deletions(-)

commit 1ff83a2ccb7301c8f675913f1c4f6118ea50b9c7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Aug 16 21:14:27 2010 -0400

    convert to using PYGLIB_DEFINE_TYPE for module objects

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-boxed.c      |   43 ++-----------
 gi/pygi-info.c       |  171
 ++++++++++++++++++++------------------------------
 gi/pygi-repository.c |   39 +++---------
 gi/pygi-struct.c     |   45 +++----------
 4 files changed, 88 insertions(+), 210 deletions(-)

commit 1efa2b12913b194d433c17014bc1077271a6ca32
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Aug 16 13:51:05 2010 -0400

    some more p3k PyString and PyInt eradication in GI

    * add the glib dir to the includes list in the build
    * make sure we include the compat macros
    * add GLIB_PyBytes_FromString to compat macros
    * add GLIB_PyNumber_Long to compat macros
    * use RichCompare instead of Compare

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/Makefile.am		     |	  2 +-
 gi/pygi-argument.c	     |	 96
 ++++++++++++++++++++++++++-----------------
 gi/pygi-boxed.c	     |	  1 +
 gi/pygi-info.c		     |	 13 +++---
 gi/pygi-private.h	     |	 23 +++++++++++
 gi/pygi-repository.c	     |	  8 ++--
 gi/pygi-struct.c	     |	  1 +
 glib/pyglib-python-compat.h |	  6 +++
 8 files changed, 103 insertions(+), 47 deletions(-)

commit 6b902c66200c1684513a9ef31bdef3f2ff64e4fa
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Aug 20 09:28:57 2010 +0200

    pyglib: Fix typo (Leo Singer)

    https://bugzilla.gnome.org/show_bug.cgi?id=627408

 glib/option.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3cefffecc1317b6ad77a5ed936bfb990d16bf9d3
Author: Gustavo Noronha Silva <gustavo.noronha@collabora.co.uk>
Date:	Thu Aug 19 18:45:05 2010 -0300

    Add defines for size_t and ssize_t conversion functions

    These missing defines cause the resulting module to have unresolved
    symbols, rendering it unusable.

    https://bugzilla.gnome.org/show_bug.cgi?id=627440

 glib/pyglib-python-compat.h |	  2 ++
 1 file changed, 2 insertions(+)

commit d45c7031876f355e15409f00f3e50e77d18f8f4b
Author: Colin Walters <walters@verbum.org>
Date:	Thu Aug 19 17:50:35 2010 -0400

    pyglib: Fix a compiler warning

 glib/pyglib.c |    1 +
 1 file changed, 1 insertion(+)

commit 0fe6828ddce187ac1897a1f02ca1c5480796d5b9
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Aug 18 20:36:51 2010 +0200

    Don't force gtk 2.0

 pygi-convert.sh |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit ac59c18a4f2bfff47c862b763aaf1d1cf136a4f5
Author: Steve Frécinaux <code@istique.net>
Date:	Tue Aug 17 14:49:30 2010 +0200

    Fix some ref leaks in hook_up_vfunc_implementation()

    https://bugzilla.gnome.org/show_bug.cgi?id=627143

 gi/gimodule.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 18ee0db673c2fa42244ab85950bbf4840edb674b
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Aug 12 12:16:31 2010 -0400

    handle strings correctly in gio

 gio/gappinfo.override |    5 +++++
 gio/pygio-utils.c     |   42 +++++++++++++++++++++++++++++++++++-------
 2 files changed, 40 insertions(+), 7 deletions(-)

commit 45ab0c03110c911b47519941dfd753326891b5e0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Aug 11 16:13:59 2010 -0400

    make giomodule compile under py3k

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gio/giomodule.c |  153
 ++++++++++++++++++++++++++++---------------------------
 1 file changed, 78 insertions(+), 75 deletions(-)

commit c52f8ed3ae8cb66a03b5695e980770c3f467f755
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Aug 11 16:04:48 2010 -0400

    for py3k we need to do some more processing to get bytes from a
    unicode string

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 gi/pygi-argument.c |	31 +++++++++++++++++++++++++++----
 1 file changed, 27 insertions(+), 4 deletions(-)

commit de9eae4dfcce856a42cc5c569a5b9683c28d0eeb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Aug 11 15:03:55 2010 -0400

    use Bytes instead of Unicode when reading io

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/pygiochannel.c |	 30 ++++++++++++++++++++++++------
 1 file changed, 24 insertions(+), 6 deletions(-)

commit 5824ff98175b749dbcfa72d24b994230b6e05377
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Aug 9 15:16:51 2010 -0400

    prefix compat macros with PYGLIB

    * refactor from John Ehresman <jpe@wingware.com> py3k branch
    * fix up some extranious PyString calls
    * remove duplicate macros from pyglib.h that are in
    pyglib-python-compat.h
    * pygobject.h can't import pyglib-python-compat.h so add codepaths
      for both Py3k and legacy code instead of using macros

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/glibmodule.c	     |	 48 +++++-----
 glib/pygiochannel.c	     |	 46 ++++-----
 glib/pyglib-python-compat.h |	153 ++++++++++++++++++++++--------
 glib/pyglib.c		     |	 22 ++---
 glib/pyglib.h		     |	 14 ---
 glib/pygoptioncontext.c     |	  4 +-
 glib/pygsource.c	     |	 16 ++--
 glib/pygspawn.c	     |	 32 +++----
 gobject/gobjectmodule.c     |	216
 +++++++++++++++++++++----------------------
 gobject/pygboxed.c	     |	  2 +-
 gobject/pygenum.c	     |	 84 ++++++++---------
 gobject/pygflags.c	     |	122 ++++++++++++------------
 gobject/pygobject-private.h |	 12 +--
 gobject/pygobject.c	     |	 46 ++++-----
 gobject/pygobject.h	     |	 23 +++++
 gobject/pygparamspec.c      |	 24 ++---
 gobject/pygpointer.c	     |	  2 +-
 gobject/pygtype.c	     |	170 +++++++++++++++++-----------------
 18 files changed, 563 insertions(+), 473 deletions(-)

commit 231e934cc01d061e81bb60d35127a133cd0e1793
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Aug 16 10:14:04 2010 +0200

    Gtk.Button unit tests

    https://bugzilla.gnome.org/show_bug.cgi?id=622606

 tests/test_overrides.py |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit f07cfde377e42686c6b80f56cac62338ee333e61
Author: Johan Dahlin <johan@gnome.org>
Date:	Mon Aug 16 10:08:38 2010 +0200

    [Gtk] Add overrides for Button

    https://bugzilla.gnome.org/show_bug.cgi?id=622606

 gi/overrides/Gtk.py |	 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 65a06a7216163c7e65b32c5b5f3388faa7fda5d6
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Aug 12 16:18:58 2010 +0200

    Make Cairo an optional dependency

    Add the --enable-cairo configure argument.

    https://bugzilla.gnome.org/show_bug.cgi?id=616732

 configure.ac	|   15 ++++++++++++---
 gi/Makefile.am |   20 ++++++++++++--------
 2 files changed, 24 insertions(+), 11 deletions(-)

commit b83507263231d9bf47f6c8450583e3d03f0a3b5b
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Aug 16 09:55:35 2010 +0200

    Don't import again PyGObject (John Ralls)

    https://bugzilla.gnome.org/show_bug.cgi?id=626996

 gi/pygi.h |	1 +
 1 file changed, 1 insertion(+)

commit 0dc3656070f496431829c6e8441ca17129c569f8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Aug 9 16:11:55 2010 -0400

    move to using richcompare slot instead of compare

    https://bugzilla.gnome.org/show_bug.cgi?id=615872

 glib/pygiochannel.c	 |   18 ++++++----
 glib/pyglib.c		 |   85
 +++++++++++++++++++++++++++++++++++++++++++++++
 glib/pyglib.h		 |    3 ++
 glib/pygmaincontext.c	 |   17 ++++++----
 glib/pygmainloop.c	 |   17 ++++++----
 glib/pygoptioncontext.c |   18 ++++++----
 glib/pygoptiongroup.c	 |   22 ++++++------
 gobject/pygboxed.c	 |   18 ++++++----
 gobject/pygobject.c	 |   44 +++++++++++++++++-------
 gobject/pygparamspec.c  |   19 +++++++----
 gobject/pygpointer.c	 |   17 ++++++----
 gobject/pygtype.c	 |   26 +++++++++++----
 12 files changed, 233 insertions(+), 71 deletions(-)

commit b426e531dc53d4b50e572a2da19733479635e662
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Aug 12 18:09:33 2010 +0200

    Replace autogen.sh by a newer version

    It pulls automake 1.10 or 1.11.
    Greatly inspired from GLib's.

    https://bugzilla.gnome.org/show_bug.cgi?id=625661

 autogen.sh |  506
 +++++++-----------------------------------------------------
 1 file changed, 58 insertions(+), 448 deletions(-)

commit 769645e00d6d055a4cd802454dbfc1bbfcbee691
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Aug 12 14:11:55 2010 +0200

    Fix some warnings

    pyglib.c: In function ‘pyglib_gerror_exception_check’:
    pyglib.c:362: warning: format not a string literal and no format
    arguments
    pyglib.c:371: warning: format not a string literal and no format
    arguments

    gio.override: In function 'pygio_notify_allocate_buffer':
    gio.override:144:13: warning: format '%d' expects type 'int', but
    argument 3
    has type 'gsize'

    https://bugzilla.gnome.org/show_bug.cgi?id=625437

 gio/gio.override |    2 +-
 glib/pyglib.c	  |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e4c4cccb588b258dbcd21702e6cddcfe9ebe4ffc
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Aug 12 11:09:37 2010 +0200

    Fix caller-allocates emergency free.

    In the state, args, args[i], arg_infos[i], and arg_type_infos[i]
    must not be
    NULL in order to be able caller-allocates. This patch adds those
    conditions.

    Moreover, the interface info needs to be freed afterwards.

    https://bugzilla.gnome.org/show_bug.cgi?id=626684

 gi/pygi-invoke.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 0ab967ca40ddcffc2834d4e656bb2010c6b9bdda
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Thu Aug 12 10:46:17 2010 +0200

    Remove useless checks.

    No need to check for state->arg_infos, state->arg_type_infos, and
    state->args_is_auxiliary to be NULL, they are always allocated.

    https://bugzilla.gnome.org/show_bug.cgi?id=626684

 gi/pygi-invoke.c |   14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit e17be9cd288fee5d7cb174d9d577eb9279044c67
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Aug 10 17:40:16 2010 +0200

    Call valgrind with G_SLICE=always-malloc G_DEBUG=gc-friendly

 tests/Makefile.am |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8be59c37dd57acc51875c7189ca09d728b729013
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Aug 4 13:43:17 2010 +0200

    Fix some warnings.

 gi/pygi-argument.c |	 2 --
 gi/pygi-invoke.c   |	 2 +-
 gi/pygi-struct.c   |	 1 -
 3 files changed, 1 insertion(+), 4 deletions(-)

commit 529eca6054e9a7e2267f1529e317c2373932762f
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Fri Jul 30 22:39:40 2010 +0200

    Add myself as a maintainer

 MAINTAINERS |	  4 ++++
 1 file changed, 4 insertions(+)

commit caac75a6ed6f671b37e38a78e71b87906a00ac1b
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jul 30 14:14:16 2010 +0200

    Properly allocate boxed structs that are (caller-allocates)

    * gi/pygi-boxed.[hc]: Refactor out the allocation of boxed structs
    * gi/pygi-invoke.c: Don't use g_malloc0 for boxed structs that
      are (caller-allocates)
    * tests/test_overrides.py: Split the TreeView tests

    https://bugzilla.gnome.org/show_bug.cgi?id=625653

 gi/pygi-boxed.c	 |   50
 +++++++++++++++++++++++++++++++----------------
 gi/pygi-boxed.h	 |   10 ++++++----
 gi/pygi-invoke.c	 |   16 ++++++---------
 tests/test_overrides.py |   39 ++++++++++++++++++------------------
 4 files changed, 64 insertions(+), 51 deletions(-)

commit 99c7322898c00a576c7319ea0a7c808446253133
Author: Toms Baugis <toms.baugis@gmail.com>
Date:	Fri Jul 30 15:44:21 2010 +0200

    override gdk.Event to return attribute from the proper event object

    https://bugzilla.gnome.org/show_bug.cgi?id=620593

 gi/overrides/Gdk.py	 |   48
 +++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-invoke.c	 |    4 ----
 tests/test_overrides.py |   10 ++++++++++
 3 files changed, 58 insertions(+), 4 deletions(-)

commit 55814e722c2ae11310f346790c9221e4fad92b50
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 30 06:30:48 2010 -0400

    check if z# needs an int or Py_ssize_t

    https://bugzilla.gnome.org/show_bug.cgi?id=625438

 gio/gio.override |    5 +++++
 1 file changed, 5 insertions(+)

commit 477315465d0a6d84b51e146e86e254873bc564ff
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 30 06:43:06 2010 -0400

    make sure we parse parameters to python object vars not glib vars

    * py_flags was already set up but due to a typo &flags was being
    passed
      instead

    https://bugzilla.gnome.org/show_bug.cgi?id=625438

 gio/gfile.override |	 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit faa7d4eece7ddb698725098970c2478a3b45c4d5
Author: Paul Bolle <pebolle@tiscali.nl>
Date:	Fri Jul 30 10:56:01 2010 +0200

    Make an example and a demo work out of the box

    cairo-demo.py and gtk-demo.py need the two (kind of) magic lines
    regarding pygtk to work out of the box. So add those.

    Signed-off-by: Paul Bolle <pebolle@tiscali.nl>

    https://bugzilla.gnome.org/show_bug.cgi?id=625638

 demos/gtk-demo/gtk-demo.py |	 2 ++
 examples/cairo-demo.py     |	 2 ++
 2 files changed, 4 insertions(+)

commit c9da5782e6c633d9af43ee85075e9ee65db09780
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jul 9 13:14:42 2010 -0400

    make sure caller allocated structs are freed when they go out of scope

    * Move struct transfer checks from pygi-arguments to pygi-invoke
    * add better warning if an unknown struct is fully transfered
    * only free GValues we create in the invoke cleanup.  All other
    structs
      get cleaned up when they go out of scope in python
    * Fixes issues with caller allocated treeiters getting freed to early
    * this is a fix to crashes in the current test suite when API's
    returning
      TreeIters were annotated as out caller-allocates so no new tests
      are needed

    https://bugzilla.gnome.org/show_bug.cgi?id=623969

 gi/pygi-argument.c |	13 +++++--------
 gi/pygi-invoke.c   |	46 ++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 45 insertions(+), 14 deletions(-)

commit e0a85305cd107aae5902e524afd074cd8c329927
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jul 30 10:35:33 2010 +0200

    Revert "override gdk.Event to return attribute from the proper
    event object."

    Pushed by mistake, we still need testcases

    This reverts commit e7bb3954880568884ca66e7751ede689dc2f24f6.

 gi/overrides/Gdk.py |	 44 --------------------------------------------
 1 file changed, 44 deletions(-)

commit 61ffb8d6d08fcfe638f71ea97ceac3a366e5536d
Author: Paul Bolle <pebolle@tiscali.nl>
Date:	Thu Jul 29 22:55:28 2010 +0200

    PyGI: properly quit cairo-demo

    Signed-off-by: Paul Bolle <pebolle@tiscali.nl>

    https://bugzilla.gnome.org/show_bug.cgi?id=625619

 examples/cairo-demo.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7bb3954880568884ca66e7751ede689dc2f24f6
Author: Toms Baugis <toms.baugis@gmail.com>
Date:	Tue Jul 27 21:37:16 2010 +0200

    override gdk.Event to return attribute from the proper event object.

    https://bugzilla.gnome.org/show_bug.cgi?id=620593

 gi/overrides/Gdk.py |	 44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit 0a9f1da052fd33dcef81d0e267fc7972f02c7888
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Wed Jul 28 14:56:00 2010 +0200

    Clean and improve the test infrastructure

    To run select tests, use for instance:
    % make check TEST_NAMES='test_everything test_gi.TestConstant'

    It works with check.gdb and check.valgrind too.

    https://bugzilla.gnome.org/show_bug.cgi?id=625488

 Makefile.am		    |	 5 ----
 tests/Makefile.am	    |	65
 ++++++++++++++++++++------------------------
 tests/common.py	    |	47 --------------------------------
 tests/runtests.py	    |	43 +++++++++++------------------
 tests/test_gcancellable.py |	 4 +--
 tests/test_gi.py	    |	 3 --
 tests/test_gicon.py	    |	 3 +-
 tests/test_gio.py	    |	 3 +-
 tests/test_gobject.py	    |	 3 +-
 tests/test_gresolver.py    |	 4 +--
 tests/test_gsocket.py	    |	 4 ++-
 tests/test_interface.py    |	 6 +++-
 tests/test_mainloop.py     |	11 +++-----
 tests/test_signal.py	    |	 4 ++-
 tests/test_source.py	    |	 4 +--
 tests/test_subprocess.py   |	 5 +---
 tests/test_thread.py	    |	 5 +++-
 tests/test_unknown.py	    |	 5 +++-
 18 files changed, 82 insertions(+), 142 deletions(-)

commit 82f4cb5ebf5d992493b7a2f74cfd5f175e19eb76
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jul 29 12:34:19 2010 +0200

    Add some more transformations to pygi-convert.sh

 pygi-convert.sh |   37 +++++++++++++++++++++++++++++--------
 1 file changed, 29 insertions(+), 8 deletions(-)

commit de519adcd21947a0aef7932cdecb78cef200c85e
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jul 28 14:42:36 2010 +0200

    Adapt to API changes: g_irepository_enumerate_versions

 gi/importer.py       |    2 +-
 gi/pygi-repository.c |   12 ++++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 01cd9abb43f93f9a57a5a05b6dc9560614e666e3
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jul 28 12:26:48 2010 +0200

    Add GValue<->GArgument marshalling for some more types

 gi/pygi-property.c |	37 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 36 insertions(+), 1 deletion(-)

commit ddffa70c3ee0e837070f390632bc692430f79171
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jul 28 11:10:42 2010 +0200

    Chain up with the non-introspection implementation for properties
    if needed

 gobject/pygobject.c |	  7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 045433a1f8167205dc8eae613dcb8835d02c8916
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jul 28 10:59:49 2010 +0200

    Improve error reporting for missing attributes in introspection
    modules

 gi/module.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6655a79b2f13fe417aefdf6aebab0f2d6162ba00
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jul 27 21:52:49 2010 +0200

    Implement getting and setting properties using introspection
    information.

    This allows us to use information not present in GObject such as
    transfer and element types.

    https://bugzilla.gnome.org/show_bug.cgi?id=620808

 gi/Makefile.am		  |    2 +
 gi/gimodule.c		  |    2 +
 gi/pygi-argument.c	  |    2 +
 gi/pygi-private.h	  |    1 +
 gi/pygi-property.c	  |  226
 ++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-property.h	  |   39 ++++++++
 gi/pygi.h		  |   41 +++++++++
 gobject/pygobject.c	  |    9 ++
 tests/test_everything.py |   19 ++++
 9 files changed, 341 insertions(+)

commit 85f4572b3ffbfa364ebb2e470eab759edc557b36
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jul 27 21:32:41 2010 +0200

    Readd Gdk.Rectangle override for Gtk-2.0

 gi/overrides/Gdk.py |	 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 2082ee35e2a33f52bf1e8ec49cb4a43398e91989
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jul 27 18:25:27 2010 +0200

    Allow specifying a version when loading a typelib

    * gi/importer.py: Defer loading the typelib until first usage.
    * gi/module.py: Load the typelib in IntrospectionModule().
    * gi/overrides/*.py: Adapt to API change.
    * gi/pygi-repository.c: Add wrappers for g_irepository_enumerate and
      g_irepository_get_version.

 gi/importer.py			    |	26 ++++++----------
 gi/module.py			    |	58
 +++++++++++++++++++++++-------------
 gi/overrides/GIMarshallingTests.py |	 2 +-
 gi/overrides/Gdk.py		    |	 2 +-
 gi/overrides/Gtk.py		    |	 2 +-
 gi/pygi-repository.c		    |	56
 +++++++++++++++++++++++++++++++++-
 6 files changed, 105 insertions(+), 41 deletions(-)

commit 6d7ed6c322234c240b1063a1dfaadd17157432a9
Author: Jonathan Matthew <jonathan@d14n.org>
Date:	Tue Jul 13 20:27:28 2010 +1000

    treat GFreeFunc as equivalent to GDestroyNotify when scanning
    callbacks

    https://bugzilla.gnome.org/show_bug.cgi?id=624232

 gi/pygi-callbacks.c |	  3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7e9cbd5601ad548b78d106bac1a1576d33b91c65
Author: Simon van der Linden <svdlinden@gnome.org>
Date:	Mon Jul 26 17:00:23 2010 +0200

    Don't use == to compare doubles, use <= and =>.

    This avoids inequality due to small precisions difference.

    https://bugzilla.gnome.org/show_bug.cgi?id=625326

 tests/testhelpermodule.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ca2a41f16f4a5fcc3ab4d00bec46b077c7eb384
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jul 8 11:36:12 2010 +0200

    Allow passing ints as enum args

    https://bugzilla.gnome.org/show_bug.cgi?id=622584

 gi/pygi-argument.c |	23 +++++++++++++++++++++--
 tests/test_gi.py   |	 6 ++++--
 2 files changed, 25 insertions(+), 4 deletions(-)

commit 890c3233f8a9f884b045a294bf0122bb3afcd54a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Sun Jul 25 17:30:40 2010 +0100

    Make error message less ambiguous

    https://bugzilla.gnome.org/show_bug.cgi?id=625095

 gi/pygi-callbacks.c |	  3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1162e436273ff8e9e4e24bd8ba74615fd4624753
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jun 24 10:07:12 2010 -0400

    fix passing in type names as a GType and add gtype unit tests

    * a simple call to pyg_type_from_object covers all the bases
    * added unit tests to check for correct GType value passing
    * fixed up tree override tests to also check different ways of
    passing GTypes

    https://bugzilla.gnome.org/show_bug.cgi?id=622605

 gi/pygi-argument.c	  |    8 +-------
 tests/test_everything.py |   27 +++++++++++++++++++++++++++
 tests/test_overrides.py  |    6 ++----
 3 files changed, 30 insertions(+), 11 deletions(-)

commit 8becd32fc042445d62b885bac12dac326b2dc1fa
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 26 11:54:47 2010 +0200

    Increase a bit verbosity of tests so people know which test failed

 tests/runtests.py |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b3c63514f311592e6769a373d37a2bde7ea6b38
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jul 15 15:17:53 2010 +0200

    Actually add the files for GVariant foreign structs

 gi/pygi-foreign-gvariant.c |	63
 ++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-foreign-gvariant.h |	41 ++++++++++++++++++++++++++++
 2 files changed, 104 insertions(+)

commit e65275bc57f345c111eb12a6b4476ff1ddc3bc24
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jul 15 13:31:33 2010 +0200

    Add foreign struct support for GVariant

     * gi/pygi-invoke.c: Wrap foreign structs returned by constructors
     * gi/pygi-foreign.c: Register foreign support for GVariant
     * gi/pygi-struct.c: properly release foreign structs
     * gi/pygi-argument.c, gi/pygi-foreign-cairo.c, gi/pygi.h: Adapt to
     API changes
     * tests/test_everything.py: Add basic tests for GVariant

    https://bugzilla.gnome.org/show_bug.cgi?id=619501

 gi/Makefile.am		  |    2 +
 gi/pygi-argument.c	  |    2 +-
 gi/pygi-foreign-cairo.c  |   16 +++----
 gi/pygi-foreign.c	  |  107
 ++++++++++++++++++++++++++++------------------
 gi/pygi-foreign.h	  |    7 ++-
 gi/pygi-invoke.c	  |   18 ++++----
 gi/pygi-struct.c	  |   10 ++++-
 gi/pygi.h		  |    9 ++--
 tests/test_everything.py |    8 ++++
 9 files changed, 110 insertions(+), 69 deletions(-)

commit 3b3bd4da3fbc993fa7f7cfb46ed4e67671c94cc0
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 12 11:19:06 2010 +0200

    Add HACKING to MANIFEST.in

 MANIFEST.in |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 40bf08ff001b119c7daf709197005ef6480216c5
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 12 11:18:04 2010 +0200

    Add HACKING file with instructions for releasing

 HACKING |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 3b9dffe7cc3820dfb84fd968fc604899601c5dc4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 12 11:09:58 2010 +0200

    Post release version bump to 2.21.6

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42a5a0897b38156ae010c396ea254abf502f35de
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 12 11:00:29 2010 +0200

    Update NEWS and release PyGObject-2.21.5

 NEWS |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 5857f25c1c6e25b79e6134558bd7151bc6c30ef7
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jul 12 11:00:20 2010 +0200

    Pre-release version bump to 2.21.5

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e500adc3ac19ef6f436809e5a8828ac7e8db28f6
Author: Florian Müllner <florian.muellner@gmail.com>
Date:	Sat Jul 10 22:35:13 2010 +0200

    Shut up some compiler warnings

    Remove unused variables, make sure variables are properly initialized.

    https://bugzilla.gnome.org/show_bug.cgi?id=624066

 gi/pygi-callbacks.c |	  1 -
 gi/pygi-closure.c   |	  2 +-
 gi/pygi-invoke.c    |	  1 -
 3 files changed, 1 insertion(+), 3 deletions(-)

commit 2efa18afbcc2fac1c90958535b2f80e6e730ee56
Author: =?UTF-8?q?Florian=20M=C3=BCllner?= <florian.muellner@gmail.com>
Date:	Mon Jul 12 10:31:42 2010 +0200

    Adjust to API break in GObject-Introspection

    As of commit 5cb925b20, many type_tags for standard C types have
    been removed - namely machine-dependent integer types and derived
    types (size_t, time_t).

    Most removals are just synonyms of other types, so their removal
    should not have too much impact, with the exception of time_t,
    which was translated to a native datetime object before.

    Also remove time_t tests (Tomeu Vizoso).

    https://bugzilla.gnome.org/show_bug.cgi?id=624065

 configure.ac	    |	 2 +-
 gi/importer.py     |	 7 +--
 gi/pygi-argument.c |  146
 ----------------------------------------------------
 gi/pygi-closure.c  |	10 ----
 gi/pygi-info.c     |	37 -------------
 tests/test_gi.py   |	21 --------
 6 files changed, 5 insertions(+), 218 deletions(-)

commit 27a417c71f8c122e46c7472663bb25c17413f103
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jul 8 16:01:25 2010 -0400

    pass in the demo app so demos can use utility methods like requesting
    file paths

 demos/gtk-demo/demos/Entry/entry_buffer.py	|    2 +-
 demos/gtk-demo/demos/Entry/entry_completion.py |    2 +-
 demos/gtk-demo/demos/appwindow.py		|   13 +++++++++++--
 demos/gtk-demo/demos/assistant.py		|    2 +-
 demos/gtk-demo/demos/builder.py		|   14 ++++++++++----
 demos/gtk-demo/demos/button_box.py		|    2 +-
 demos/gtk-demo/demos/clipboard.py		|    8 +-------
 demos/gtk-demo/demos/colorselector.py		|    2 +-
 demos/gtk-demo/demos/combobox.py		|    8 +++++---
 demos/gtk-demo/demos/drawingarea.py		|    2 +-
 demos/gtk-demo/demos/test.py			|    2 +-
 demos/gtk-demo/gtk-demo.py			|    6 +++---
 12 files changed, 37 insertions(+), 26 deletions(-)

commit e7daae919c2c6ae35d3927f0006252aacd49ea86
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jul 8 15:38:07 2010 -0400

    demo fixes to keep up with Gtk+

    * treeiter changes to reflect caller-allocate annotations
    * fix some flag handling
    * use get_indicies_with_depth instead of get_indices for paths

 demos/gtk-demo/demos/appwindow.py |   10 +++++++---
 demos/gtk-demo/demos/combobox.py  |   24 ++++++++++++------------
 demos/gtk-demo/gtk-demo.py	   |   13 +++++--------
 3 files changed, 24 insertions(+), 23 deletions(-)

commit 3d9fd6391710cc33058394d6821e4d4e11f09b22
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jul 8 12:54:43 2010 -0400

    override test fixes for new GTK+ annotations

 tests/test_overrides.py |   23 +++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit 7a400f8139b70ddfe7c949035e0851689951c647
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Thu Jul 8 12:42:25 2010 +0200

    Fix warning.

 gi/pygi-argument.c |	 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 39fd0a85a3de06b1b877d1125f91036409886373
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jul 7 15:48:36 2010 -0400

    fix up treeiter usage due to caller-allocates annotations in gtk+

    * we still don't pass tests because the caller-allocates code path
    does not
      handle the case where the parameter is followed by a regular
      in parameter

 gi/overrides/Gtk.py	 |    7 +++----
 tests/test_overrides.py |   21 +++++++++++----------
 2 files changed, 14 insertions(+), 14 deletions(-)

commit 4d970b75dc5c75c1bec04cb2954c9985b476070c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 6 17:50:10 2010 -0400

    add entry completion demo

 demos/gtk-demo/demos/Entry/entry_completion.py |   87
 ++++++++++++++++++++++++
 1 file changed, 87 insertions(+)

commit f3531eaa1bfa4e01651d35cd587384d30a398ba8
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 6 17:49:18 2010 -0400

    string changes

 demos/gtk-demo/demos/Entry/entry_buffer.py |	 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit baf1e9bb550c7bf45e2ac0b70ba29c434ef1ccc6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 6 17:27:04 2010 -0400

    add the Entry demo directory and the entry_buffer demo

 demos/gtk-demo/demos/Entry/entry_buffer.py |	73
 ++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit f2b1d222120f055bec9339cca55c9cc90f538c00
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 6 17:26:03 2010 -0400

    fix loading of demo modules to support sub modules

 demos/gtk-demo/gtk-demo.py |	 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 4f9390fb1892b13ab2ea00ed66c5000a40f09029
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jul 6 15:56:34 2010 -0400

    add the ability to have demos in sub catagories

 demos/gtk-demo/gtk-demo.py |	76
 +++++++++++++++++++++++++++++++-------------
 1 file changed, 54 insertions(+), 22 deletions(-)

commit dc2249a3ecf339008351316217191d0551ccc588
Author: Jose Aliste <jaliste@src.gnome.org>
Date:	Mon Jul 5 14:36:59 2010 -0400

    Add  __name__ to DynamicModule class.

    Fixes bug #623486.

 gi/module.py |    1 +
 1 file changed, 1 insertion(+)

commit 2357bca8d14539894b6bd0acfdc18d30b4bb4db6
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Mon Jul 5 16:11:07 2010 +0200

    Do not override GdkRectangle.

    This class was lately removed from gtk+ 3, so there is no need
    to override
    it anymore.

 gi/overrides/Gdk.py |	 19 -------------------
 1 file changed, 19 deletions(-)

commit daca09dc2c2306d4fa82a68bbdd147d4b170a1e7
Author: Philip Withnall <philip.withnall@collabora.co.uk>
Date:	Tue Jun 29 16:37:36 2010 +0100

    Add override for TreeModel implementing __len__()

    Closes: bgo#622882

 gi/overrides/Gtk.py	 |   11 +++++++++--
 tests/test_overrides.py |    5 +++++
 2 files changed, 14 insertions(+), 2 deletions(-)

commit bb8adb7f02f0c5494df2cb6e535e44d23902e8f5
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 29 11:27:13 2010 +0200

    Update NEWS and release PyGObject-2.21.4

 NEWS |   27 +++++++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit 2d473ee17be4671244bb4a2a0953a21ccf2a0df6
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 29 10:55:03 2010 +0200

    Remove files from the makefiles

 gi/Makefile.am      |	  4 +---
 gobject/Makefile.am |	  3 +--
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 89827314fd183eac07443c8e9d275ca9d4ce59df
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 29 10:27:39 2010 +0200

    Build the cairo shim as a python module so the _gi module stops
    linking to it

    https://bugzilla.gnome.org/show_bug.cgi?id=623021

 configure.ac		 |    2 +
 gi/Makefile.am		 |   38 +++++++++-----
 gi/gimodule.c		 |    8 +--
 gi/pygi-argument.c	 |   10 +---
 gi/pygi-foreign-cairo.c |   56 +++++++++++++++------
 gi/pygi-foreign-cairo.h |   55 ---------------------
 gi/pygi-foreign.c	 |  125
 ++++++++++++++++++++++++++++-------------------
 gi/pygi-foreign.h	 |   31 ++++++------
 gi/pygi.h		 |   40 +++++++++++++--
 9 files changed, 196 insertions(+), 169 deletions(-)

commit a6a90551311bc64f037cbd442e13f70c30060871
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 28 14:20:43 2010 +0200

    Remove pygi-external.h

    https://bugzilla.gnome.org/show_bug.cgi?id=623021

 gi/gimodule.c		 |    8 +++---
 gi/pygi-type.c		 |    4 +--
 gi/pygi-type.h		 |    2 +-
 gi/pygi.h		 |   54 ++++++++++++++++----------------------
 gobject/Makefile.am	 |    6 +++++
 gobject/pygboxed.c	 |    2 +-
 gobject/pygenum.c	 |    2 +-
 gobject/pygflags.c	 |    2 +-
 gobject/pygi-external.h |   67
 -----------------------------------------------
 gobject/pygobject.c	 |    2 +-
 gobject/pygpointer.c	 |    2 +-
 11 files changed, 40 insertions(+), 111 deletions(-)

commit 8b3a3baacb45cb3f9112f7597607602fa89c6634
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jun 25 13:54:57 2010 +0200

    Revert "correctly handle floating objects in gtk"

    This reverts commit 60fdf4b8f738dd0f5c190bc18ddf010032d3c5ca.

    Conflicts:

	gi/gimodule.c
	tests/test_everything.py

 gi/gimodule.c		  |   13 -------------
 tests/test_everything.py |    3 ++-
 2 files changed, 2 insertions(+), 14 deletions(-)

commit 0f2a09d7eae63abb71723b7cd8fb290dcba33426
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jun 25 13:49:04 2010 +0200

    Make valgrind happy again

    * gi/pygi-argument.c, gi/pygi-info.c: Zero two GArgument instances.
    * gi/pygi-invoke.c: workaround bgo#622711 and zero invocation_state.

 gi/pygi-argument.c |	 1 +
 gi/pygi-info.c     |	 2 ++
 gi/pygi-invoke.c   |	 8 ++++++--
 3 files changed, 9 insertions(+), 2 deletions(-)

commit 63afe55906c8637e913783e65b82b540b81bed65
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jun 24 16:13:37 2010 -0400

    add drawing area demo

 demos/gtk-demo/demos/drawingarea.py |	249
 +++++++++++++++++++++++++++++++++++
 1 file changed, 249 insertions(+)

commit 8bba5f842393a284367cdd15f3d32a8c7745516a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jun 24 14:11:00 2010 -0400

    sort the demo list

 demos/gtk-demo/gtk-demo.py |	 2 ++
 1 file changed, 2 insertions(+)

commit b9da82742701ed276b01dee39626cd71cbef8556
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jun 24 13:56:18 2010 -0400

    rename iter to treeiter so we aren't using a python reserved word

 demos/gtk-demo/gtk-demo.py |	12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit c93935621f2fb1ff5e8c424ae884bd684ea68e50
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Jun 24 13:47:54 2010 -0400

    Fixup for change in buffer API

    * Part of buffer API dealing with TextIter now marked (out
    caller-allocates)

 demos/gtk-demo/gtk-demo.py |	10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 8d9516a593a515290109401a9db7aa259b5aa35c
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 23 17:04:33 2010 -0400

    add ListStore, TreeStore and TreeViewColumn APIs

    * this is enough to support the gtk-demo.py shell
    * TreeStore and ListStore allow passing in as an argument list
      of either python or GLib types to the constructor as a description
      of the columns in the model
    * TreeStore and ListStore override the append method, allowing
      the application developer to send in a list of column values
      for one row in the model.  Unlike the append in C which
      just returns an iter that you can then add data to,
      this append actualy appends data in one step
    * TreeViewColumn overrides the constructor to allow the adding
      of attributes and a cell renderer when constructing the
      column

    https://bugzilla.gnome.org/show_bug.cgi?id=620405

 gi/overrides/Gtk.py	 |   59 ++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   69
 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 128 insertions(+)

commit c305fbeb7bdb44623d5198f4a8f0a374d529fdf4
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Jun 23 14:34:28 2010 -0300

    [gi] Add -I../gobject to cflags

    Since we're no longer pulling in pygobject cflags,
    add this to be able to include pygobject.h

 gi/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit 53a093198851e3ba5abd1f6c3314737decd401d8
Author: Ignacio Casal Quinteiro <icq@gnome.org>
Date:	Wed Jun 23 18:09:19 2010 +0200

    Add unit test for add_actions user data.

 tests/test_overrides.py |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 7f829af620cba768de619dd9f228d5d2ebf7fee4
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Wed Jun 23 18:06:46 2010 +0200

    Pass user_data param when adding actions

 gi/overrides/Gtk.py |	 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 8f537ccd62f41ebe0db3853e2ae08080666f598f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 23 12:02:04 2010 -0400

    add an exception type to the try/except block

    * we should always specify what exception types we are expecting

 gi/overrides/Gtk.py |	  6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f140a8ebf59347162b67b550bd6f62d2eafad29a
Author: Johan Dahlin <johan@gnome.org>
Date:	Wed Jun 23 12:31:51 2010 -0300

    Avoid duplicating required versions

    Avoid duplicating the version of all required packages.
    Also remove cyclic dependency of pygobject

    https://bugzilla.gnome.org/show_bug.cgi?id=622503

 configure.ac |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit e8bd25355fbe7de38a28b7a0583167a2c0ffc31f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 22 15:03:08 2010 -0400

    return PyList instead of PyTuple for array, return empty list for
    NULL arrays

    * returns an empty list when a NULL array (empty array) is encountered
    * fix tests to check for lists instead of tuples or None
    * test the ability to send in both None and empty list for arrays
    and lists

 gi/pygi-argument.c	  |    7 ++--
 tests/test_everything.py |    5 ++-
 tests/test_gi.py	  |   84
 +++++++++++++++++++++++-----------------------
 3 files changed, 49 insertions(+), 47 deletions(-)

commit f312e6a49505eca07815146cfbdb0e48e5b3b8a8
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 23 15:42:29 2010 +0200

    Fix 'make distcheck'

     * Makefile.am: put the tests dir to the end
     * g*/Makefile.am: build the .so when running make check
     * tests/Makefile.am: Don't pass the src dir to runtests.py and
       remove (hopefully) unneeded cruft.
     * tests/common.py: Don't add the src dir to the python path
     * tests/runtests.py: Don't pass the src dir to common.py

 Makefile.am	     |	  4 +++-
 gi/Makefile.am      |	  1 +
 gio/Makefile.am     |	  1 +
 glib/Makefile.am    |	  2 +-
 gobject/Makefile.am |	  1 +
 tests/Makefile.am   |	 17 ++---------------
 tests/common.py     |	  3 +--
 tests/runtests.py   |	 12 +++++-------
 8 files changed, 15 insertions(+), 26 deletions(-)

commit 5f82e7d2909cbbbecbf5dbee2342f516c0d1f371
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 23 13:59:14 2010 +0200

    Allow building pygobject without introspection support by providing
    --disable-introspection to configure.

 Makefile.am		 |    6 +++++-
 configure.ac		 |   15 ++++++++-------
 gobject/pygi-external.h |    4 ++--
 tests/Makefile.am	 |    8 ++++++--
 tests/runtests.py	 |   21 +++++++--------------
 5 files changed, 28 insertions(+), 26 deletions(-)

commit cc3ea77318ee572673d2a044deca9001366b0f08
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 23 12:26:51 2010 +0200

    Make sure that sys.argv is a list and not a sequence.

    Because Python's optparse will try to do things on it that can
    only be done with list.

 gi/overrides/Gtk.py |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3d72b8248cc534a689dee5679a729b2fba56c528
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 23 12:26:02 2010 +0200

    Force loading the GObject typelib so we have available the wrappers
    for base classes such as GInitiallyUnowned.

 gi/__init__.py |    3 +++
 1 file changed, 3 insertions(+)

commit c7c94ef349c30597f2f10d90f74718d678ec7add
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 22 14:45:48 2010 -0400

    we shouldn't g_array_free NULL pointers

    https://bugzilla.gnome.org/show_bug.cgi?id=622425

 gi/pygi-info.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fb1ee243493616d7a7e4f6924c574db39f5a423d
Merge: acf7b43 5f9cb91
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed Jun 23 12:53:05 2010 +0200

    Merge branch 'pygi'

commit 5f9cb91c2b3851056d5e2d7ff1401d4ce2be7c1f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 22 15:39:46 2010 -0400

    remove unneeded TextIter creation in the tests

 tests/test_overrides.py |    3 ---
 1 file changed, 3 deletions(-)

commit 53c355d2cc0894e7f551e9b4eb719b89188a978e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 21 11:42:12 2010 -0400

    add override for TextBuffer

    * TextBuffer.create_tag takes vargs which we can't bind yet so
    change it
      to except a keyword list of properties
    * override the insert* methods so the developer does not have to
    enter a length
      - lengths are already encapsulated by a string in Python

    https://bugzilla.gnome.org/show_bug.cgi?id=620583

 gi/overrides/Gtk.py	 |   51
 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_overrides.py |   25 +++++++++++++++++++++++
 2 files changed, 76 insertions(+)

commit 1d89a88b212c7411ad28e74eda80ae751de92e50
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 22 12:46:39 2010 -0400

    fix up some build issues

    * configure.ac: moved AM_PROG_CC_C_O below AM_PROG_CC_STDC because
    autoconf
      was complaining that AM_PROG_CC_STDC can't come after AM_PROC_CC_C_0
    * tests/Makefile.am: fix check-local target to use EXEC_NAME so
    targets like
      make check.gdb work

 configure.ac	   |	2 +-
 tests/Makefile.am |	2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4fe0d94c219deb69a2309693202309c53a0e5e69
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 22 11:50:30 2010 -0400

    make the overrides file git friendly by appending to __all__ after
    each override

    * modifying the __all__ line for each override would confuse git as
      each override needs to get seperate approval before comitting.
      Because of
      this commits would not always go in in the same order as they
      are created.
      Also different people working on the same file would start from
      different
      commit states.  This caused conflicts when patches were merged.
    * instead of modifying a single hard coded list we now append to
    the list
      after each override.  This creates distinct blocks of changed text
      which will not conflict

 gi/overrides/GIMarshallingTests.py |	10 ++++------
 gi/overrides/Gdk.py		    |	 8 ++++----
 gi/overrides/Gtk.py		    |	 7 +++++--
 3 files changed, 13 insertions(+), 12 deletions(-)

commit 49321b934603e1ec69fb04082c63902970907d2b
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Sun Jun 20 13:27:34 2010 +0200

    Override Dialog constructor and add_buttons method

 gi/overrides/Gtk.py	 |   46
 +++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_overrides.py |   16 ++++++++++++++++
 2 files changed, 61 insertions(+), 1 deletion(-)

commit acf7b43a41ce814f0c57ce609a090826f04771db
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 21 18:17:38 2010 +0200

    Post release version bump to 2.21.4

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7fa8b80406227a06cf18f8675dbc1f471283829
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 21 18:10:32 2010 +0200

    Update NEWS and release PyGObject-2.21.3

 NEWS |    7 +++++++
 1 file changed, 7 insertions(+)

commit 79acac7b86ec52cd3681d94d7f116314c3f00167
Author: Ludovic L'Hours <ludovic.lhours@gmail.com>
Date:	Tue Jul 21 16:28:34 2009 +0200

    Proper handling of null-ok in virtual methods

    https://bugzilla.gnome.org/show_bug.cgi?id=589253

 codegen/codegen.py	   |	2 ++
 codegen/reversewrapper.py |   18 +++++++++++++++---
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 259a4b08f009aa01451caed20dbb6e68b402da2a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 21 17:34:54 2010 +0200

    Add *~ and *.orig to .gitignore

 .gitignore |	 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 00a85f6a844714d1715e2f67431747d1a4cdacb1
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 21 17:33:56 2010 +0200

    Fall back to use the floating references API in glib if there isn't
    a sinkfunc defined.

    * tests/*: Add ref counting tests for floating objects
    * gobject/gobjectmodule.c, gobject/pygobject.c: Fall back to
    g_object_ref_sink
      or g_object_ref if there isn't a sinkfunc defined. Make sure that
      pygobject_sink gets called only once per GObject instance.

    https://bugzilla.gnome.org/show_bug.cgi?id=583909

 gobject/gobjectmodule.c  |    2 -
 gobject/pygobject.c	  |   50 ++++++++++++---------
 gobject/pygobject.h	  |    1 +
 tests/Makefile.am	  |    2 +
 tests/test-floating.c	  |   95 ++++++++++++++++++++++++++++++++++++++++
 tests/test-floating.h	  |   60 +++++++++++++++++++++++++
 tests/test_gobject.py	  |   19 +++++++-
 tests/testhelpermodule.c |  109
 ++++++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 315 insertions(+), 23 deletions(-)

commit e71238a699ae783fd1a59c8a76e3555d8066cf82
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon Jun 21 13:06:13 2010 +0200

    Revert "Drop sinkfuncs."

    This reverts commit 04627488220b4f2a16e11f8982af7866fea9f7eb.

 gobject/gobjectmodule.c |    3 ++-
 gobject/pygobject.c	 |   42 ++++++++++++++++++++++++++++++++++--------
 gobject/pygobject.h	 |    1 -
 3 files changed, 36 insertions(+), 10 deletions(-)

commit b2661054d6bde673484eab472e69ca021124528d
Author: Johan Dahlin <johan@gnome.org>
Date:	Sun Jun 20 11:09:57 2010 -0300

    Merge back pygi

    For reasons outlined at:
    http://mail.gnome.org/archives/python-hackers-list/2010-June/msg00009.html

 Makefile.am					    |	14 +-
 configure.ac					    |	29 +-
 demos/gtk-demo/demos/appwindow.py		    |  411 +++++
 demos/gtk-demo/demos/assistant.py		    |  134 ++
 demos/gtk-demo/demos/builder.py		    |	57 +
 demos/gtk-demo/demos/button_box.py		    |  121 ++
 demos/gtk-demo/demos/clipboard.py		    |  238 +++
 demos/gtk-demo/demos/colorselector.py		    |  121 ++
 demos/gtk-demo/demos/combobox.py		    |  282 ++++
 demos/gtk-demo/demos/data/alphatest.png	    |  Bin 0 ->
 26529 bytes
 demos/gtk-demo/demos/data/apple-red.png	    |  Bin 0 -> 3545 bytes
 demos/gtk-demo/demos/data/background.jpg	    |  Bin 0 ->
 22219 bytes
 demos/gtk-demo/demos/data/demo.ui		    |  258 ++++
 demos/gtk-demo/demos/data/floppybuddy.gif	    |  Bin 0 -> 5216 bytes
 demos/gtk-demo/demos/data/gnome-applets.png	    |  Bin 0 -> 3090 bytes
 demos/gtk-demo/demos/data/gnome-calendar.png	    |  Bin 0 -> 2755 bytes
 demos/gtk-demo/demos/data/gnome-foot.png	    |  Bin 0 -> 2916 bytes
 demos/gtk-demo/demos/data/gnome-fs-directory.png   |  Bin 0 -> 2044 bytes
 demos/gtk-demo/demos/data/gnome-fs-regular.png     |  Bin 0 -> 1795 bytes
 demos/gtk-demo/demos/data/gnome-gimp.png	    |  Bin 0 -> 3410 bytes
 demos/gtk-demo/demos/data/gnome-gmush.png	    |  Bin 0 -> 3244 bytes
 demos/gtk-demo/demos/data/gnome-gsame.png	    |  Bin 0 -> 4263 bytes
 demos/gtk-demo/demos/data/gnu-keys.png		    |  Bin 0 -> 3852 bytes
 demos/gtk-demo/demos/data/gtk-logo-rgb.gif	    |  Bin 0 -> 6427 bytes
 demos/gtk-demo/demos/test.py			    |	14 +
 demos/gtk-demo/gtk-demo.py			    |  266 ++++
 examples/Makefile.am				    |	 2 +-
 examples/cairo-demo.py				    |  121 ++
 gi/Makefile.am					    |	 4 +-
 gi/demos/gtk-demo/demos/appwindow.py		    |  411 -----
 gi/demos/gtk-demo/demos/assistant.py		    |  134 --
 gi/demos/gtk-demo/demos/builder.py		    |	57 -
 gi/demos/gtk-demo/demos/button_box.py		    |  121 --
 gi/demos/gtk-demo/demos/clipboard.py		    |  238 ---
 gi/demos/gtk-demo/demos/colorselector.py	    |  121 --
 gi/demos/gtk-demo/demos/combobox.py		    |  282 ----
 gi/demos/gtk-demo/demos/data/alphatest.png	    |  Bin 26529 ->
 0 bytes
 gi/demos/gtk-demo/demos/data/apple-red.png	    |  Bin 3545 -> 0 bytes
 gi/demos/gtk-demo/demos/data/background.jpg	    |  Bin 22219 ->
 0 bytes
 gi/demos/gtk-demo/demos/data/demo.ui		    |  258 ----
 gi/demos/gtk-demo/demos/data/floppybuddy.gif	    |  Bin 5216 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-applets.png     |  Bin 3090 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-calendar.png    |  Bin 2755 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-foot.png	    |  Bin 2916 -> 0 bytes
 .../gtk-demo/demos/data/gnome-fs-directory.png     |  Bin 2044 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-fs-regular.png  |  Bin 1795 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-gimp.png	    |  Bin 3410 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-gmush.png	    |  Bin 3244 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnome-gsame.png	    |  Bin 4263 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gnu-keys.png	    |  Bin 3852 -> 0 bytes
 gi/demos/gtk-demo/demos/data/gtk-logo-rgb.gif	    |  Bin 6427 -> 0 bytes
 gi/demos/gtk-demo/demos/test.py		    |	14 -
 gi/demos/gtk-demo/gtk-demo.py			    |  266 ----
 gi/examples/Makefile.am			    |	 2 -
 gi/examples/cairo-demo.py			    |  121 --
 gi/tests/test_everything.py			    |  270 ----
 gi/tests/test_gi.py				    | 1624
 --------------------
 gi/tests/test_overrides.py			    |  132 --
 pygi-Makefile.am				    |	28 -
 pygi-configure.ac				    |	60 -
 pygi.doap					    |	34 -
 pygobject.doap					    |	16 +-
 tests/Makefile.am				    |	23 +-
 tests/test_everything.py			    |  270 ++++
 tests/test_gi.py				    | 1624
 ++++++++++++++++++++
 tests/test_overrides.py			    |  132 ++
 66 files changed, 4124 insertions(+), 4186 deletions(-)

commit 597bd64319d7966045b5b8613ca6fc85668c3f56
Merge: ec8d148 fa91dfd
Author: Johan Dahlin <johan@gnome.org>
Date:	Sun Jun 20 10:53:46 2010 -0300

    Merge branch 'pygi-merge'

commit fa91dfd3ec79ecd03c9fb59b9363eab4a5b3ff2b
Author: Johan Dahlin <johan@gnome.org>
Date:	Sun Jun 20 10:53:36 2010 -0300

    Prepare pygi move

 .gitignore					    |	40 -
 HACKING					    |	26 -
 Makefile.am					    |	28 -
 autogen.sh					    |  166 --
 configure.ac					    |	60 -
 demos/gtk-demo/demos/appwindow.py		    |  411 -----
 demos/gtk-demo/demos/assistant.py		    |  134 --
 demos/gtk-demo/demos/builder.py		    |	57 -
 demos/gtk-demo/demos/button_box.py		    |  121 --
 demos/gtk-demo/demos/clipboard.py		    |  238 ---
 demos/gtk-demo/demos/colorselector.py		    |  121 --
 demos/gtk-demo/demos/combobox.py		    |  282 ----
 demos/gtk-demo/demos/data/alphatest.png	    |  Bin 26529 ->
 0 bytes
 demos/gtk-demo/demos/data/apple-red.png	    |  Bin 3545 -> 0 bytes
 demos/gtk-demo/demos/data/background.jpg	    |  Bin 22219 ->
 0 bytes
 demos/gtk-demo/demos/data/demo.ui		    |  258 ----
 demos/gtk-demo/demos/data/floppybuddy.gif	    |  Bin 5216 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-applets.png	    |  Bin 3090 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-calendar.png	    |  Bin 2755 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-foot.png	    |  Bin 2916 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-fs-directory.png   |  Bin 2044 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-fs-regular.png     |  Bin 1795 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-gimp.png	    |  Bin 3410 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-gmush.png	    |  Bin 3244 -> 0 bytes
 demos/gtk-demo/demos/data/gnome-gsame.png	    |  Bin 4263 -> 0 bytes
 demos/gtk-demo/demos/data/gnu-keys.png		    |  Bin 3852 -> 0 bytes
 demos/gtk-demo/demos/data/gtk-logo-rgb.gif	    |  Bin 6427 -> 0 bytes
 demos/gtk-demo/demos/test.py			    |	14 -
 demos/gtk-demo/gtk-demo.py			    |  266 ----
 examples/Makefile.am				    |	 2 -
 examples/cairo-demo.py				    |  121 --
 gi/.gitignore					    |	40 +
 gi/HACKING					    |	26 +
 gi/demos/gtk-demo/demos/appwindow.py		    |  411 +++++
 gi/demos/gtk-demo/demos/assistant.py		    |  134 ++
 gi/demos/gtk-demo/demos/builder.py		    |	57 +
 gi/demos/gtk-demo/demos/button_box.py		    |  121 ++
 gi/demos/gtk-demo/demos/clipboard.py		    |  238 +++
 gi/demos/gtk-demo/demos/colorselector.py	    |  121 ++
 gi/demos/gtk-demo/demos/combobox.py		    |  282 ++++
 gi/demos/gtk-demo/demos/data/alphatest.png	    |  Bin 0 ->
 26529 bytes
 gi/demos/gtk-demo/demos/data/apple-red.png	    |  Bin 0 -> 3545 bytes
 gi/demos/gtk-demo/demos/data/background.jpg	    |  Bin 0 ->
 22219 bytes
 gi/demos/gtk-demo/demos/data/demo.ui		    |  258 ++++
 gi/demos/gtk-demo/demos/data/floppybuddy.gif	    |  Bin 0 -> 5216 bytes
 gi/demos/gtk-demo/demos/data/gnome-applets.png     |  Bin 0 -> 3090 bytes
 gi/demos/gtk-demo/demos/data/gnome-calendar.png    |  Bin 0 -> 2755 bytes
 gi/demos/gtk-demo/demos/data/gnome-foot.png	    |  Bin 0 -> 2916 bytes
 .../gtk-demo/demos/data/gnome-fs-directory.png     |  Bin 0 -> 2044 bytes
 gi/demos/gtk-demo/demos/data/gnome-fs-regular.png  |  Bin 0 -> 1795 bytes
 gi/demos/gtk-demo/demos/data/gnome-gimp.png	    |  Bin 0 -> 3410 bytes
 gi/demos/gtk-demo/demos/data/gnome-gmush.png	    |  Bin 0 -> 3244 bytes
 gi/demos/gtk-demo/demos/data/gnome-gsame.png	    |  Bin 0 -> 4263 bytes
 gi/demos/gtk-demo/demos/data/gnu-keys.png	    |  Bin 0 -> 3852 bytes
 gi/demos/gtk-demo/demos/data/gtk-logo-rgb.gif	    |  Bin 0 -> 6427 bytes
 gi/demos/gtk-demo/demos/test.py		    |	14 +
 gi/demos/gtk-demo/gtk-demo.py			    |  266 ++++
 gi/examples/Makefile.am			    |	 2 +
 gi/examples/cairo-demo.py			    |  121 ++
 gi/tests/Makefile.am				    |	22 +
 gi/tests/runtests.py				    |	21 +
 gi/tests/test_everything.py			    |  270 ++++
 gi/tests/test_gi.py				    | 1624
 ++++++++++++++++++++
 gi/tests/test_overrides.py			    |  132 ++
 pygi-Makefile.am				    |	28 +
 pygi-configure.ac				    |	60 +
 tests/Makefile.am				    |	22 -
 tests/runtests.py				    |	21 -
 tests/test_everything.py			    |  270 ----
 tests/test_gi.py				    | 1624
 --------------------
 tests/test_overrides.py			    |  132 --
 71 files changed, 4248 insertions(+), 4414 deletions(-)

commit ec8d148eccbb3714093f21b595ea77ae4c7c3bce
Author: Johan Dahlin <johan@gnome.org>
Date:	Sun Jun 20 10:49:55 2010 -0300

    [giounix] Make it possible to compile on glib 2.20

 gio/unix.override |	2 ++
 1 file changed, 2 insertions(+)

commit 606018a2c551d890fc2bb987d99683f777598bda
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 7 16:32:29 2010 -0400

    Don't free transfer full struct pointers because we can't do it safely

    * Most libraries which are sending back structs as transfer-full
      are either annotated incorrectly or should be sending boxed types
    * It is much better to throw a warning and leak memory than it is to
      call free on an unknown struct pointer.  Doing so may cause
      a double free
    * Specific case is gdk_atom_intern where a GdkAtom is not actually
    a pointer
      but an integer stuffed into a pointer type

    https://bugzilla.gnome.org/show_bug.cgi?id=620898

 gi/pygi-argument.c |	 9 ++++++++-
 gi/pygi-invoke.c   |	11 +++++++++--
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 433ee2aa029a1482961f478252a06492bd3498e6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:	Tue Jun 15 11:42:28 2010 +0200

    Release the lock when potentially invoking Python code.

    * gobject/pygobject.c: Release GIL lock when retrieving properties
    and when clearing a PyGObject.

    https://bugzilla.gnome.org/show_bug.cgi?id=530935

 gobject/pygobject.c |	 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit aa1e82c7eb87620bd73e1edb486f5b9e0d49aa96
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 14 18:36:57 2010 -0400

    add combobox example

 demos/gtk-demo/demos/combobox.py |  282
 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 282 insertions(+)

commit a8668694da59c2dd959c875f13337e64ca22f7e9
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 14 13:43:53 2010 -0400

    fix leak in the allow None callbacks patch

 gi/pygi-callbacks.c |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 729072e73d65e7fd5b5197ebe5a8c53a449d0ec0
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 7 17:12:09 2010 -0400

    Allow passing None for callbacks which are annotated allow-none

    * Many callbacks are optional parameters yet we were asserting on
      Py_None
    * We now check to see if allow_none is set when setting up callbacks,
      if it is set and py_function == Py_None, we set the closure to NULL
      and return
    * pygi-invoke.c now checks to see if the closure == NULL when setting
      arguments
    * if it is NULL there is no reason to set the the destroy notify
    handler
      so we skip that too

    https://bugzilla.gnome.org/show_bug.cgi?id=620906

 gi/pygi-callbacks.c	  |    7 +++++++
 gi/pygi-invoke.c	  |   14 +++++++++++---
 tests/test_everything.py |    4 ++++
 3 files changed, 22 insertions(+), 3 deletions(-)

commit a3eb5c7de5836c37aa7ae01dbe98996ec2632c17
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Mon Jun 14 19:06:45 2010 +0200

    Fix to match latest gtk annotations

 demos/gtk-demo/demos/appwindow.py |	3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 6306dd73cc74aa9202569eac0eaaa5f825c8dc59
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 8 15:03:49 2010 -0400

    fix variable member names in Gdk.Color override

    * override was using r, g, and b for the red, green, blue components
    but
      the struct specifies red, green, blue so we need to use those names

    https://bugzilla.gnome.org/show_bug.cgi?id=621007

 gi/overrides/Gdk.py	 |   10 +++++-----
 tests/test_overrides.py |    6 +++---
 2 files changed, 8 insertions(+), 8 deletions(-)

commit d182630e1128fef6f1c2aea28ccd8da4bddd2c8f
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jun 10 20:23:13 2010 +0200

    Post release version bump to 2.21.3

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4e64d5d264593051b9a3131e4985a58e8e76f8b
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jun 10 20:21:13 2010 +0200

    Update NEWS and release PyGObject-2.21.2

 NEWS |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit e0fe844d5fe8f7e26316f197444fd4143ed36adf
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jun 10 20:09:07 2010 +0200

    Remove deleted files from the Makefile.

	   test_conversion.py
	   test_enum.py
	   test_gtype.py
	   test_subtype.py

 tests/Makefile.am |	4 ----
 1 file changed, 4 deletions(-)

commit 495a301cb81c5e914bcef905999265604faa27fc
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jun 10 19:39:09 2010 +0200

    Add myself to the maintainers list in the README

 README |    1 +
 1 file changed, 1 insertion(+)

commit 04627488220b4f2a16e11f8982af7866fea9f7eb
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Thu Jun 10 19:24:31 2010 +0200

    Drop sinkfuncs.

	* use g_object methods to sink floating refs instead of allowing
	  custom sink functions to be registered
	* we now sink inside of pygobject_new_full to handle cases where
	  a library creates its own gobject via g_object_new and just
	  needs a python wrapper
	  - a previous patch had done the sink when creating the gobject,
	    since it needs to call pygobject_new_full to wrap the object,
	    this patch handles both cases (e.g. pygobject created object
	    and externally created gobject)

    https://bugzilla.gnome.org/show_bug.cgi?id=583909

 gobject/gobjectmodule.c |    3 +--
 gobject/pygobject.c	 |   42 ++++++++----------------------------------
 gobject/pygobject.h	 |    1 +
 3 files changed, 10 insertions(+), 36 deletions(-)

commit 07df124dc06cf506634e95d08397f50a2d07fce2
Author: Steve Frécinaux <code@istique.net>
Date:	Mon Jun 7 09:47:23 2010 +0200

    Make the "wrong argument count" exception more explicit.

    Previously we had messages like this one:
    TypeError: takes exactly 2 argument(s) (1 given)

    With this patch, they become like this:
    TypeError: get_end_iter() takes exactly 2 argument(s) (1 given)

    It makes things much easier to debug when there are several pygi calls
    on the same line.

    https://bugzilla.gnome.org/show_bug.cgi?id=620804

 gi/pygi-invoke.c	  |    3 ++-
 tests/test_everything.py |    6 ++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit b435319fe830a909cc4d414533b3b66574931e24
Author: Steve Frécinaux <code@istique.net>
Date:	Mon Jun 7 09:54:06 2010 +0200

    Use bash explicitely in the pre-commit hook.

    The "builtin" command is not available in all sh flavours, so the
    pre-commit hook is going to fail if you use dash or others instead of
    bash as your default 'sh' alias.

    https://bugzilla.gnome.org/show_bug.cgi?id=620805

 pre-commit.hook |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9ee2916494eb7654004925c1ee1e94f99b14f1a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Jun 8 16:55:26 2010 -0400

    colorselector demo

 demos/gtk-demo/demos/colorselector.py |  121
 +++++++++++++++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit ec598128de9e90dccab662ed2f5511c8d659e156
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 8 15:48:33 2010 +0200

    Update PyGObject dependency to 2.21.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87774a17bd607724a56e18c2eb1ac71b04b7079d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 8 10:40:39 2010 +0200

    Add myself to maintainers

 MAINTAINERS	|    4 ++++
 pygobject.doap |    7 +++++++
 2 files changed, 11 insertions(+)

commit 46c91a11d448e5e11d142d3362aff1483226bca4
Author: Colin Walters <walters@verbum.org>
Date:	Wed May 5 13:54:27 2010 -0400

    Clear error if we failed the import

    Otherwise we leave the exception set which causes bizarre problems
    later in unrelated code.

    https://bugzilla.redhat.com/show_bug.cgi?id=569885

    https://bugzilla.gnome.org/show_bug.cgi?id=617796

 gobject/pygi-external.h |    2 ++
 1 file changed, 2 insertions(+)

commit c1c41576d053cc1cdd8366d8cd1e59fff1c3a9c6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 7 17:19:30 2010 -0400

    fix some typos and add a link to a patch which fixes a FIXME

 demos/gtk-demo/demos/clipboard.py |	7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e7fabb5024d94a3166766e5fca740741bc50380a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon Jun 7 16:21:42 2010 -0400

    clipboard demo

 demos/gtk-demo/demos/clipboard.py |  235
 +++++++++++++++++++++++++++++++++++++
 1 file changed, 235 insertions(+)

commit e0f1dce5ec58d071759f886697501da6eeea549d
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sun Jun 6 13:27:46 2010 -0400

    set is_fully_bound to false

 demos/gtk-demo/demos/button_box.py |	 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 986db1c73746d3a8ad7d8d5141c7eed194e7b948
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jun 5 23:53:36 2010 -0400

    new button box demo

 demos/gtk-demo/demos/button_box.py |  121
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit e9f5f8a829121e59367bae690442150f144946ad
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jun 5 23:26:03 2010 -0400

    set is_fully_bound to True fro builder example

 demos/gtk-demo/demos/builder.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d9968c3a4dea1d4a73a9376009cf486c80ea3da6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jun 5 23:24:36 2010 -0400

    fix up formatting in demos

 demos/gtk-demo/demos/appwindow.py |   16 ++++++++--------
 demos/gtk-demo/demos/assistant.py |   24 ++++++++++++------------
 demos/gtk-demo/demos/builder.py   |	2 +-
 3 files changed, 21 insertions(+), 21 deletions(-)

commit ffca02536bafb55e8c3bce31cd992365207429f6
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat Jun 5 14:54:47 2010 -0400

    add the builder demo

 demos/gtk-demo/demos/builder.py |   57
 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 57 insertions(+)

commit a96dbafdf562a2ac6bde4df27919d3628689dbdb
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 4 17:48:24 2010 -0400

    add assistant demo

 demos/gtk-demo/demos/assistant.py |  134
 +++++++++++++++++++++++++++++++++++++
 1 file changed, 134 insertions(+)

commit 7e1b8cf32f33d45603aaec76afb0d14be84ffd94
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 4 16:56:46 2010 -0400

    add formatting rules and copyright notice

 demos/gtk-demo/demos/appwindow.py |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 03b99692b81631d397ab62dcd263341465bcee88
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Jun 4 16:26:54 2010 -0400

    add the gtk-demo app along with a couple of demos

    * note there are still a couple of patches in bugzilla that are
    needed for this
      to run correctly:
	- http://bugzilla-attachments.gnome.org/attachment.cgi?id=162682
	- http://bugzilla-attachments.gnome.org/attachment.cgi?id=162764

 demos/gtk-demo/demos/appwindow.py		  |  393
 ++++++++++++++++++++++
 demos/gtk-demo/demos/data/alphatest.png	  |  Bin 0 -> 26529 bytes
 demos/gtk-demo/demos/data/apple-red.png	  |  Bin 0 -> 3545 bytes
 demos/gtk-demo/demos/data/background.jpg	  |  Bin 0 -> 22219 bytes
 demos/gtk-demo/demos/data/demo.ui		  |  258 ++++++++++++++
 demos/gtk-demo/demos/data/floppybuddy.gif	  |  Bin 0 -> 5216 bytes
 demos/gtk-demo/demos/data/gnome-applets.png	  |  Bin 0 -> 3090 bytes
 demos/gtk-demo/demos/data/gnome-calendar.png	  |  Bin 0 -> 2755 bytes
 demos/gtk-demo/demos/data/gnome-foot.png	  |  Bin 0 -> 2916 bytes
 demos/gtk-demo/demos/data/gnome-fs-directory.png |  Bin 0 -> 2044 bytes
 demos/gtk-demo/demos/data/gnome-fs-regular.png   |  Bin 0 -> 1795 bytes
 demos/gtk-demo/demos/data/gnome-gimp.png	  |  Bin 0 -> 3410 bytes
 demos/gtk-demo/demos/data/gnome-gmush.png	  |  Bin 0 -> 3244 bytes
 demos/gtk-demo/demos/data/gnome-gsame.png	  |  Bin 0 -> 4263 bytes
 demos/gtk-demo/demos/data/gnu-keys.png		  |  Bin 0 -> 3852 bytes
 demos/gtk-demo/demos/data/gtk-logo-rgb.gif	  |  Bin 0 -> 6427 bytes
 demos/gtk-demo/demos/test.py			  |   14 +
 demos/gtk-demo/gtk-demo.py			  |  266 +++++++++++++++
 18 files changed, 931 insertions(+)

commit b3b1f029d8d16cf9bd74160009808147d07e3b3f
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jun 4 11:25:08 2010 +0200

    Update gobject-introspection dependency to 0.6.14

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 45c4e46ae93bd83a0e3f3550df6c64ce96bbedb4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jun 4 11:23:41 2010 +0200

    Post-release version bump to 0.6.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a94270dac48b67aabc7dbad156cf1180db9cb5e
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Fri Jun 4 08:29:42 2010 +0200

    Pre-release version bump 0.6.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e42ee6eb25a07a5201f24ffeac18d298a98477e
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri May 28 10:03:11 2010 -0400

    support for caller-allocates annotations for structs

    * out caller-allocates parameters expect an already constructed
    structure
      to be passed in by reference.  It is then modified and the caller
      uses the
      modified value.  We support this by using only one level of pointer
      indirection.
    * Only structs are considered to be caller-allocates parameters
    even if
      they are marked as such by GI.  This is because the GI scanner
      isn't smart
      enough to correctly guess 100% of the time
    * GValues are a special case of a caller-allocates parameter when
    cleaning
      up (e.g. g_value_unset is called).  GValues make no sense in
      a scripting
      language.  Developers should never deal with them.

    https://bugzilla.gnome.org/show_bug.cgi?id=620406

 gi/pygi-invoke.c	  |   73
 +++++++++++++++++++++++++++++++++++++++++++---
 tests/test_everything.py |   28 ++++++++++++++++++
 2 files changed, 97 insertions(+), 4 deletions(-)

commit c3f467e0ae99aa78c2fdb91b973a272d2fe970bd
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Jun 2 14:14:16 2010 -0400

    don't import gobject directly in the tests

    * use from gi.repository import GObject

 tests/test_overrides.py |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 46b5133fea4cd5db57a360b3cbe9ee923e27560c
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue Jun 1 14:28:57 2010 +0200

    Wrap C arrays in structs as GArrays before converting to Python

    https://bugzilla.gnome.org/show_bug.cgi?id=620247

 gi/pygi-info.c   |   11 +++++++++++
 tests/test_gi.py |   17 +++++++++++++++++
 2 files changed, 28 insertions(+)

commit 5f0f9a9c9145a129a063b041424c3109a24d9ead
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed May 26 13:20:27 2010 +0200

    Install pre-commit hook that checks the code changes for style
    conformance

 autogen.sh	 |    7 +++++++
 pre-commit.hook |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 46 insertions(+)

commit 1319da5b7f483e48a90b0b7489f77236ba26f479
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Wed May 26 12:19:17 2010 +0200

    Apply consistent whitespace formatting with:

    astyle -p -d -c -S -U -M60

    This won't affect git blame nor git diff if the switch -w is used.

 gi/gimodule.c		 |  138 +++----
 gi/pygi-argument.c	 |  960
 +++++++++++++++++++++++------------------------
 gi/pygi-boxed.c	 |  108 +++---
 gi/pygi-callbacks.c	 |  154 ++++----
 gi/pygi-callbacks.h	 |    8 +-
 gi/pygi-closure.c	 |  270 ++++++-------
 gi/pygi-closure.h	 |   18 +-
 gi/pygi-foreign-cairo.c |   36 +-
 gi/pygi-foreign-cairo.h |   36 +-
 gi/pygi-foreign.c	 |   54 +--
 gi/pygi-foreign.h	 |   10 +-
 gi/pygi-info.c		 |  646 +++++++++++++++----------------
 gi/pygi-invoke.c	 |  380 +++++++++----------
 gi/pygi-repository.c	 |  114 +++---
 gi/pygi-struct.c	 |   88 ++---
 gi/pygi-type.c		 |   32 +-
 gi/pygi.h		 |   20 +-
 gi/pygobject-external.h |   14 +-
 18 files changed, 1544 insertions(+), 1542 deletions(-)

commit 6156f15cb15b4c20e975527227135d49207c520a
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue May 25 14:08:51 2010 +0200

    Prepend gi.repository to the __module__ attribute of wrapper classes.

    https://bugzilla.gnome.org/show_bug.cgi?id=619597

 gi/module.py	  |    4 ++--
 tests/test_gi.py |    4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 097b92983b7a322c58fecb1e691ba6ddf5035548
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Tue May 25 14:17:13 2010 +0200

    Correctly identify at creation time:

    * if the class is defined in python -> hook up vfuncs
    * if the class wraps a type from a .typelib -> set atributes
    * else (GLocalFile) -> do nothing

    https://bugzilla.gnome.org/show_bug.cgi?id=619604

 gi/types.py |	 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 686e10fcdb108af9758eb025a3447813c3513a93
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 29 10:55:13 2010 +0200

    Dont complain if another base has implemented the method

    https://bugzilla.gnome.org/show_bug.cgi?id=617153

 gi/types.py |	  3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9f34d120845d936b04546a5cea599ec67e9181a7
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon May 24 16:16:50 2010 -0400

    fix up Builder override, add new override methods, and add unit tests

    * check for flags when connecting signals now that we get gi
    GObject types
    * override the add_from_string and add_objects_from string overrides
    so
      that you don't have to pass in the length of the buffer
    * add test that loads objects from strings and connects them to
    signals

 gi/overrides/Gtk.py	 |   19 +++++++++++--
 tests/test_overrides.py |   72
 +++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 86 insertions(+), 5 deletions(-)

commit 1561d2977691f1cb8684f183a2e274c47960d931
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Mon May 24 18:48:10 2010 +0200

    Improve handling of subclasses without __gtype_name__

    Gives a better message at type registration.

    https://bugzilla.gnome.org/show_bug.cgi?id=616849

 gi/gimodule.c	  |    9 +++++++++
 tests/test_gi.py |   13 ++++++++++++-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit c9d44d4d46c3da3a445000b1db592baa9c378a92
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Apr 30 18:17:50 2010 +0200

    Add support for GArray args

    https://bugzilla.gnome.org/show_bug.cgi?id=617054

 gi/pygi-invoke.c |   11 +++++++----
 tests/test_gi.py |   50
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 57 insertions(+), 4 deletions(-)

commit c171579ee22681e1ee4ad33441c89f1053bdc3d1
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon May 24 11:48:16 2010 -0400

    check refcounting of callback userdata in unit tests

 tests/test_everything.py |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 8eb809468fe3e1f8e4f92bd7f25d96f9cf802cd4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Sat May 22 15:12:37 2010 +0200

    Add support for out args in callbacks

    This patch refactors argument marshalling for closures in
    preparation for more complete support.

    Also fixes a bug in the memory management of user_data args.

    https://bugzilla.gnome.org/show_bug.cgi?id=617780

 gi/pygi-closure.c |  335
 +++++++++++++++++++++++++++++++++++++++++------------
 tests/test_gi.py  |	4 +
 2 files changed, 263 insertions(+), 76 deletions(-)

commit 0df0c956bb2476392c9d81f0a243a7e84c067166
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:	Sun May 23 10:59:27 2010 +0200

    If None is passed to an interface which takes an object, convert it to
    NULL

     * without this patch PyGI treats the None object as a PyGObject
     and ends up
    extracting garbage data causing a crash
     * None's equivalent in C is NULL so we must provide a special case
     where we
    marshal the None as NULL

    https://bugzilla.gnome.org/show_bug.cgi?id=617880

 gi/pygi-argument.c	  |    5 +++++
 tests/test_everything.py |    6 ++++++
 2 files changed, 11 insertions(+)

commit 60fdf4b8f738dd0f5c190bc18ddf010032d3c5ca
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat May 22 14:06:37 2010 +0200

    correctly handle floating objects in gtk

    * this is a stopgap so we work with older pygobject libraries
    * there is a patch at
    https://bugzilla.gnome.org/show_bug.cgi?id=583909
      which adds the correct fix to pygobject
    * once pygobject accepts the above patch this patch does not need to
      be reverted because pygobject_register_sinkfunc becomes a noop
    * add tests (Tomeu)

    https://bugzilla.gnome.org/show_bug.cgi?id=619007

 gi/gimodule.c		  |   12 ++++++++++++
 tests/test_everything.py |    3 +++
 2 files changed, 15 insertions(+)

commit 4b369f8aca980fc6a582094d6648f40fe4af5e9f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat May 22 13:21:30 2010 +0200

    Return an empty list when a NULL GList and GSList is returned

    * In GTK a GList * and GSList set to NULL is equivilant to empty
    list. All
      GTK list methods can take a NULL and treat it as an empty list. e.g.
      g_list_length(NULL) returns 0
    * PyGtk consitently returns empty list when a NULL is returned for
    GList or
      GSList return
    * Many PyGtk apps do this:
	for i in range(len(obj.get_list())):
	    ...
    * If we were to continue to return None, they would have to add
    a check
      which is needlessly verbose and isn't very "pythonic"

    https://bugzilla.gnome.org/show_bug.cgi?id=619232

 gi/pygi-argument.c	  |    6 ------
 tests/test_everything.py |    4 ++--
 2 files changed, 2 insertions(+), 8 deletions(-)

commit 71a2148b00dfdda99e0d961ae39b901608724e59
Author: Steve Frécinaux <code@istique.net>
Date:	Fri May 21 19:05:03 2010 +0200

    Fix warning in configure.

    The warning is caused by the use of the construction 'CFLAGS+=' in a
    sh version that doesn't understand it (in this case, 'dash').

    https://bugzilla.gnome.org/show_bug.cgi?id=619311

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa0357e468eb91e0f3707346e9b32f312fbf51d3
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 29 13:06:15 2010 +0200

    GTypeInterface cannot be unrefed

    https://bugzilla.gnome.org/show_bug.cgi?id=617159

 gi/gimodule.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ab1aaff108d23aabd28c3634edfb67236eb55460
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Sat May 22 13:09:48 2010 +0200

    fix NULL array unit tests and fix crasher when sending None as
    an array

    * Unit tests were wrong given the annotation for
    test_array_int_null_in and
      test_array_int_null_out:

      /**
       * test_array_int_null_in:
       * @arr: (array length=len) (allow-none):
       * @len: length
       */

     -- and --

      /**
       * test_array_int_null_out:
       * @arr: (out) (array length=len) (allow-none):
       * @len: (out) : length
       */

      The (array length=len) annotation meant we don't pass in or
      receive the len argument as this is handled under the hood
      (Python's representation of an array, the list type, encapsulates
       the length inside the type)

    * Fixing up the tests revealed a latent crasher bug when passing
    None to an
      interface that accepts an array.	The fix was to check for NULL
      and set
      the length argument to 0 when invoking the bound method.

    https://bugzilla.gnome.org/show_bug.cgi?id=619235

 gi/pygi-invoke.c	  |    6 +++++-
 tests/test_everything.py |    4 ++--
 2 files changed, 7 insertions(+), 3 deletions(-)

commit e928ea9b1df9d87314ff8e93479530e26be9bd87
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri May 14 14:57:27 2010 -0400

    don't error out on methods with callbacks as return type

    * Right now we just throw an error which means API's like
      gtk_about_dialog_set_url_hook aren't able to be called,
    * this allows us to call such APIs while printing a warning, in
    most cases
      API such as this doesn't need to be used anymore and is a result of
      early GTK development

 gi/pygi-argument.c |	14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit d963007aab123f4e53a944a66a935db2d22907c2
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Mon May 17 11:54:34 2010 -0400

    reset sys.argv to the return value of Gtk.init_check

    * applications which check command line arguments will error out if it
      encounters a GTK command line switch such as --g-fatal-warnings.
    * The Gtk.init* API reads these switches and returns a new argv with
    the GTK
      switches stripped out
    * In C argv is modified in place but in Python we must set sys.argv
    to the
      new modified argument list
    * fixes https://bugzilla.gnome.org/show_bug.cgi?id=618889

 gi/overrides/Gtk.py |	  1 +
 1 file changed, 1 insertion(+)

commit 897420ed97cc4a7b8a806894df5e76ed72617614
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed May 12 14:25:32 2010 -0400

    add GtkUIManager and GtkActionGroup overrides

    * fixes bug https://bugzilla.gnome.org/show_bug.cgi?id=618476

 gi/overrides/Gtk.py	 |  167
 ++++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_overrides.py |   45 +++++++++++++
 2 files changed, 211 insertions(+), 1 deletion(-)

commit 865939d29c1e9d69dbe6b9cf89477b5516dbff1f
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Thu May 13 01:02:24 2010 -0400

    Bump version for development to 0.5.2 (hopefully 0.6)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2674a9546b0246d4a75d71cf1708df77dc0173f9
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Wed May 5 15:54:39 2010 +0200

    Fix overrides.Gdk.Color.__new__ args

    https://bugzilla.gnome.org/show_bug.cgi?id=617757

 gi/overrides/Gdk.py	 |    2 +-
 tests/Makefile.am	 |    3 ++-
 tests/test_overrides.py |   22 ++++++++++++++++++++++
 3 files changed, 25 insertions(+), 2 deletions(-)

commit c20b9f632a35bada1320ccc10fb7d5b2c06b9a88
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Thu Apr 29 14:55:33 2010 -0400

    wrap GObject module so we can go through GI when requesting attrs

    * This gives us the best of both worlds.
      - We remain backwards compatable with pygobject by checking for
      existing
	attrs in the gobject module
      - If an attr does not exist we use the GI mechanism to look it up
      so that
	things like flags look the same whether exported from GObject, Gtk
	or any GI managed library

    * add DynamicGObjectModule tests and make tests use the new module
      - change import gobject to from gi.repository import GObject

 gi/importer.py		  |    6 +--
 gi/module.py		  |   30 +++++++++++++++
 tests/test_everything.py |    6 +--
 tests/test_gi.py	  |   93
 +++++++++++++++++++++++++---------------------
 4 files changed, 87 insertions(+), 48 deletions(-)

commit 64324a4c629432b2e688299b6edbfd5da4439a2a
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Fri Apr 30 14:11:55 2010 -0400

    override Gdk.Drawable to add cairo_create convinience method

 gi/overrides/Gdk.py |	  7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 17fa1289b1e2ed841dd5de09a2ec7c25d401886e
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon May 3 19:13:46 2010 +0200

    Fix passing callbacks as constructor args

    https://bugzilla.gnome.org/show_bug.cgi?id=617551

 gi/pygi-callbacks.c	  |    3 ++-
 gi/pygi-callbacks.h	  |    1 +
 gi/pygi-invoke.c	  |    7 +++++--
 tests/test_everything.py |   21 +++++++++++++++++++++
 4 files changed, 29 insertions(+), 3 deletions(-)

commit f9fff978d56ddf2c012b906169ae16abb7fdc2a5
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Wed May 5 08:06:03 2010 +0200

    Avoid freeing garbage

 gi/pygi-invoke.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5e20c018ae09a936f5ff140df5d1c133c98e98ba
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 29 13:09:03 2010 +0200

    Only hookup vfunc implementations for locally-defined methods

    https://bugzilla.gnome.org/show_bug.cgi?id=617160

 gi/types.py	  |   10 +++++++++-
 tests/test_gi.py |   10 ++++++++++
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 3e61e7d4450a2bb133c7f3862e0962a35339ce8d
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon May 3 18:35:13 2010 +0200

    Fix passing GDestroyNotify

    https://bugzilla.gnome.org/show_bug.cgi?id=617542

 gi/pygi-invoke.c	  |    3 ++-
 tests/test_everything.py |   10 ++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 9669acd0fad193013ef3505ae231588307f9834c
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon May 3 12:23:58 2010 +0200

    Move invocation code to its own file

    https://bugzilla.gnome.org/show_bug.cgi?id=617107

 gi/Makefile.am    |	2 +
 gi/pygi-info.c    |  884
 ---------------------------------------------------
 gi/pygi-invoke.c  |  909
 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-invoke.h  |   37 +++
 gi/pygi-private.h |	1 +
 5 files changed, 949 insertions(+), 884 deletions(-)

commit 9b923a68dfde06fc2df6321b3f1e53f1c57b3666
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Tue Apr 27 19:13:08 2010 -0400

    Add the Gtk.Builder override

 gi/overrides/Gtk.py |	 37 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 36 insertions(+), 1 deletion(-)

commit 9fc6783406b8263ebd67ceae2730b4e86689b43e
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Apr 30 15:00:52 2010 +0200

    Fix GAsyncReadyCallback

    https://bugzilla.gnome.org/show_bug.cgi?id=616236

 gi/pygi-closure.c	  |    8 +++++++-
 tests/test_everything.py |   16 ++++++++++++++++
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 5657ccaaec09e2a3194ea2e9a923724bcc66759e
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 29 18:32:50 2010 +0200

    Add override for Gdk.Color

    https://bugzilla.gnome.org/show_bug.cgi?id=617162

 gi/overrides/Gdk.py |	 20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit 4410abd589a2f64cfbd7bbcb4013fae9e4aa734f
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Apr 28 13:19:48 2010 -0400

    make __all__ be a list of strings, fix override mechanism to use
    it correctly

    * before we were adding classes to the __all__ module property but
      the convention is to use the name of the class
    * simplified the check to just check the name against __all__
      instead of trying to get the class and then checking the class
      against None as well as in __all__
    * went through all the overrides and made __all__ be a list of strings

 gi/module.py			    |	 9 ++++-----
 gi/overrides/GIMarshallingTests.py |	 2 +-
 gi/overrides/Gdk.py		    |	 2 +-
 3 files changed, 6 insertions(+), 7 deletions(-)

commit 64fa8f936bad9a90628df446e690d67d947a0a22
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon Apr 26 11:41:06 2010 +0200

    One more step at refactoring _wrap_g_function_info_invoke

    https://bugzilla.gnome.org/show_bug.cgi?id=616357

 gi/pygi-callbacks.c |	 22 +-
 gi/pygi-callbacks.h |	  4 +-
 gi/pygi-info.c      |	582
 +++++++++++++++++++++++++++++----------------------
 3 files changed, 346 insertions(+), 262 deletions(-)

commit 7fc5528273edae5ecdd5d8bdf0e5b898eec7a624
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 23:23:38 2010 -0400

    Step 1 of refactoring _wrap_g_function_info_invoke

    Original patch by David Malcom <dmalcolm@redhat.com>

    This patch bitrots *REALLY* fast.

    https://bugzilla.gnome.org/show_bug.cgi?id=616357

 gi/pygi-info.c |  417
 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 214 insertions(+), 203 deletions(-)

commit 1d9c6b6d76a3e27f66e6f0cfc7b16c5191e4fc22
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Apr 27 10:24:35 2010 +0200

    Dont force subclasses to implement all virtual methods of their bases

    https://bugzilla.gnome.org/show_bug.cgi?id=616674

 gi/types.py	  |    4 ++--
 tests/test_gi.py |   15 +++++++++++++++
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 8a0c48f4dd512797e5cf132f8ec6fb6d4d1e7aaa
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sun Apr 25 15:09:08 2010 -0400

    Correct the reference counting of userdata in closure handling

    Without this we lose references on every call and eventually end up
    free'ing objects
    while they are still in use.

    https://bugzilla.gnome.org/show_bug.cgi?id=616786

 gi/pygi-closure.c	  |    3 +++
 tests/test_everything.py |   13 +++++++++++++
 2 files changed, 16 insertions(+)

commit 2b12049306bf57513c43d08017185468bf897a4a
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 22:57:14 2010 -0400

    Change SCOPE_TYPE_INVALID handling to be a more verbose error.

    (Previous commit did not include the proper error message.	I blame
    git-bz)

    https://bugzilla.gnome.org/show_bug.cgi?id=616356

 gi/pygi-closure.c |	4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8240320d0b67074ce91bdf7aadcf5951c5a8c45a
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 23:53:57 2010 -0400

    Force out arguments to be initialized as NULL.  Comes with a test.

    This fix was motivated by a real world library which had a transfer
    full
    utf8 out argument which sometimes was not set.  We would leave
    the pointer
    dangling and try and free it at the end of invoke() and crash.
    Library refused
    to change their behavior so we're forced to take care of it on
    our end.

    https://bugzilla.gnome.org/show_bug.cgi?id=616043

 gi/pygi-info.c   |    1 +
 tests/test_gi.py |    3 +++
 2 files changed, 4 insertions(+)

commit 10e558ca283cdd06725bb0d24b5071ccbecc7d13
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 22:57:14 2010 -0400

    Change SCOPE_TYPE_INVALID handling to be a warning and not an error

    Be slightly nicer to library maintainers.  It really isn't a fatal
    condition
    if we don't have a proper scope type, better to leave a good code
    comment
    and a warning than to cause their code to segv.

    https://bugzilla.gnome.org/show_bug.cgi?id=616356

 gi/pygi-closure.c |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d3b5fae9d609dbcd83deb0fa9102b24faf76787c
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 22:43:20 2010 -0400

    Refactor implementation of scope call to allow for multiple calls
    during lifetime of function invocation.

    https://bugzilla.gnome.org/show_bug.cgi?id=616343

 gi/pygi-closure.c	  |   10 +++++-----
 gi/pygi-info.c		  |    9 +++++++--
 tests/test_everything.py |    9 +++++++++
 3 files changed, 21 insertions(+), 7 deletions(-)

commit 3ba666b7ab9c393963922c272e7d87bff50a93f9
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Jan 2 16:31:55 2010 +0100

    Add basic support for unions

    https://bugzilla.gnome.org/show_bug.cgi?id=603598

 gi/module.py	    |	 3 +-
 gi/pygi-argument.c |	24 +++-----------
 gi/pygi-boxed.c    |	18 ++++++++--
 gi/pygi-info.c     |	94
 +++++++++++++++++++++++++++++++++++++++++++++++-----
 gi/pygi-info.h     |	 1 +
 tests/test_gi.py   |	56 +++++++++++++++++++++++++++++++
 6 files changed, 165 insertions(+), 31 deletions(-)

commit af9e4e086d160fe7fb24758ed81753e784b198a8
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Jan 22 22:16:32 2010 +0100

    Bump required GLib version to 2.22

    Since PyGObject now depends on GLib 2.22.4, there is no need to
    keep PyGI
    backward-compatible.

 configure.ac	   |	2 +-
 gi/pygi-private.h |   20 --------------------
 2 files changed, 1 insertion(+), 21 deletions(-)

commit c0f40de5648e2ebc556c449342a0025ffce2e33b
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 11:50:14 2010 -0400

    Refactor get_* methods in the *Info wrappers

    https://bugzilla.gnome.org/show_bug.cgi?id=616108

 gi/pygi-info.c |  360
 ++++++++++++++++++++++++++------------------------------
 1 file changed, 168 insertions(+), 192 deletions(-)

commit 24bb89f1310dc2fc8ee6ddaf945342ebf80055cd
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Apr 20 15:12:47 2010 +0200

    Print any error messages raised inside _pygi_closure_handle

    https://bugzilla.gnome.org/show_bug.cgi?id=616279

 gi/pygi-closure.c |	9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit d1ba23cdd05686ea721425f233371d573a2e9cce
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 22 19:57:17 2010 +0200

    Rename variable with a very generic name

 gi/module.py |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 391640b30ede50af3667b1019edb72bd79f2c68c
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 22 19:53:06 2010 +0200

    Add support for enums without GType

    https://bugzilla.gnome.org/show_bug.cgi?id=616520

 gi/module.py	    |	 6 +++++-
 gi/pygi-argument.c |	22 +++++++++++++++++++++-
 gi/types.py	    |	14 ++++++++++++++
 tests/test_gi.py   |	30 ++++++++++++++++++++++++++++--
 4 files changed, 68 insertions(+), 4 deletions(-)

commit 89704f60ddae0c81f1383d86491ef2785590a353
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Tue Apr 20 22:20:42 2010 -0400

    Bump version during development to 0.5.1

    This follows what is, according to Colin Walters,
    standard versioning practice.  During development the
    version in your config is the *next* version you will release,
    not the version after.  Thus after a release you make a new commit
    bumping to the next development version.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e203dc7c8f524c16aa52e15758dc3a2b09fbac75
Author: John Ehresman <jpe@wingware.com>
Date:	Tue Apr 20 20:40:02 2010 -0400

    Added missing , to keyword list of gio.GFile.set_attribute

 gio/gresolver.override |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b222f01ac9ceea1d127083623ad532ecc75bf7e
Author: John Ehresman <jpe@wingware.com>
Date:	Tue Apr 20 20:37:12 2010 -0400

    Fix arg conversion in gio.GFile.set_attribute

 gio/gfile.override |  232
 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 227 insertions(+), 5 deletions(-)

commit a579ccc8bea90937bf970be3d461e2b650b0c7d6
Author: John Ehresman <jpe@wingware.com>
Date:	Tue Apr 20 20:01:53 2010 -0400

    Set constants under python 2.5 or before

 gobject/gobjectmodule.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 11fa39a861abf679e01b5f0da97be93ae0adf0f0
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Sun Apr 18 20:22:21 2010 -0400

	Doc Extractor: Use replacements that make sense for &...;
	expressions.

	* codegen/docextract_to_xml.py: Use &#35; and &#160; respectively
	for
	&num; (#) and &nbsp;.  These are interpreted correctly in XML
	and will
	not make the parsing crash.

 codegen/docextract_to_xml.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8dbc2cb016acef7b364804cd9bc8f0b1da37e84b
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sun Apr 18 14:32:06 2010 -0400

    Bump version for release 0.5.0

 HACKING      |    7 +++++++
 configure.ac |    4 ++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 3293c91d90c5c497b45e42a527d7f79f7435823e
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 14:28:13 2010 -0400

    One more missing file...

 examples/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 1dc575af19fe985cc3fa3ec0cf18aeab1f43c16d
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 14:18:44 2010 -0400

    Add more stuff to the tarballs

 Makefile.am  |    8 +++++++-
 configure.ac |    1 +
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 8a9bb04755057e934b7f46c917af6ef281a2fedd
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 13:48:45 2010 -0400

    Add one more missing file to tarballs

 gi/overrides/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 979e01852fc7f830ee91093accdc387fa535075f
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 13:45:29 2010 -0400

    Add missing file to tarballs

 tests/Makefile.am |	1 +
 1 file changed, 1 insertion(+)

commit 8b70faa7a9a32b9ea8862f28a503e38f496cfd89
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 13:11:11 2010 -0400

    Implement vfuncs.

    https://bugzilla.gnome.org/show_bug.cgi?id=602736

 gi/gimodule.c	     |	 89
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-argument.c  |	  1 +
 gi/pygi-callbacks.c |	  3 +-
 gi/pygi-closure.c   |	  4 +--
 gi/pygi-closure.h   |	  2 +-
 gi/pygi-info.c      |	 86
 +++++++++++++++++++++++++++++++++++++++++++++++--
 gi/pygi-info.h      |	  1 +
 gi/types.py	     |	 44 +++++++++++++++++--------
 tests/test_gi.py    |	 18 +++++++++++
 9 files changed, 227 insertions(+), 21 deletions(-)

commit e239faacb4798fe2d166233ca1a19a843a6225e3
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sun Apr 18 11:59:06 2010 -0400

    Fix a typo in pygi-callbacks.c header

 gi/pygi-callbacks.c |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79aa416ae8632b123da61d79fb820d9e2704209c
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sat Apr 17 12:00:05 2010 -0400

    Implement nullable argument support, including tests

    https://bugzilla.gnome.org/show_bug.cgi?id=616035

 gi/pygi-argument.c	  |   43
 +++++++++++++++++++++++++++++++++++++------
 gi/pygi-argument.h	  |    3 ++-
 gi/pygi-info.c		  |   19 +++++++++++++------
 tests/test_everything.py |   28 ++++++++++++++++++++++++++++
 4 files changed, 80 insertions(+), 13 deletions(-)

commit 7d533b8893bc4a8a82fd9708278fa1dce5d3551e
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sat Apr 17 12:56:19 2010 -0400

    Move some tests from test_gi to test_everything

 tests/test_everything.py |   60
 ++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gi.py	  |   62
 +---------------------------------------------
 2 files changed, 61 insertions(+), 61 deletions(-)

commit a90298cc9e6c0f336f887a71d80b1efd07ec2811
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Apr 18 10:44:35 2010 -0400

    Update to latest version of the pygi-convert.sh script

 pygi-convert.sh |  193
 +++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 137 insertions(+), 56 deletions(-)

commit 34a39318c674737c6d64f2430456daef86ba1626
Author: Colin Walters <walters@verbum.org>
Date:	Sun Apr 18 10:40:44 2010 -0400

    Add Tomeu's prototype script for converting pygtk to pygi

 pygi-convert.sh |   71
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit a3afdb5fd33de0bf11d63857a245a8f5edec242c
Author: Olav Vitters <olav@vitters.nl>
Date:	Sun Apr 18 13:01:58 2010 +0200

    Fix doap file

 pygi.doap |	4 ++++
 1 file changed, 4 insertions(+)

commit 0de73d0bba79f92af22f43693f3575c596712416
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sat Apr 17 16:01:31 2010 -0400

    Add Zach Goldberg as a pygi maintainer

 pygi.doap |	5 +++++
 1 file changed, 5 insertions(+)

commit a0e22e36e8cf0c1e0da3c0ec48c821fdb5a07ccd
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Apr 17 11:47:54 2010 -0400

    Require PyCairo

 configure.ac |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 2778f8a1bf6379a46beec6546c8efcb0fec2d7ad
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Apr 17 11:40:14 2010 -0400

    Add examples/cairo-demo.py

 examples/cairo-demo.py |  121
 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit 610dd1eec87fab5c8c3badb4d104cba74477c745
Author: Zach Goldberg <zach@zachgoldberg.com>
Date:	Sat Apr 17 09:17:14 2010 -0400

    Implementation callback support with scoping and basic argument
    support.

    This patch was originally written by
    Zach Goldberg <zach@zachgoldberg.com> with modifications and
    review by Simon van der Linden <svdlinden@src.gnome.org> and
    Colin Walters <walters@verbum.org>.

    This impementation enforces the assumption that any one function
    signature can only have one (callback, userdata, destronotify) tuple.
    This allows us to move callback creation into the actual function
    invoke pipeline and also to keep just one destroy notify callback
    around, vastly simplifying the code.

    https://bugzilla.gnome.org/show_bug.cgi?id=603095

 configure.ac	     |	  2 +
 gi/Makefile.am      |	  4 +
 gi/pygi-argument.c  |	 12 ++-
 gi/pygi-callbacks.c |	216
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-callbacks.h |	 47 +++++++++++
 gi/pygi-closure.c   |	205
 ++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-closure.h   |	 57 ++++++++++++++
 gi/pygi-info.c      |	 49 ++++++++++--
 gi/pygi-private.h   |	  2 +
 tests/test_gi.py    |	 64 ++++++++++++++-
 10 files changed, 648 insertions(+), 10 deletions(-)

commit a34cb9f0038a6c89e5e6c5f7761d48a5a833044f
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Apr 17 10:54:45 2010 -0400

    Add support for foreign structs

    https://bugzilla.gnome.org/show_bug.cgi?id=603712

 configure.ac		  |    6 +++
 gi/Makefile.am		  |   10 +++-
 gi/gimodule.c		  |    7 +++
 gi/pygi-argument.c	  |   27 +++++++++-
 gi/pygi-foreign-cairo.c  |  103 ++++++++++++++++++++++++++++++++++++++
 gi/pygi-foreign-cairo.h  |   55 +++++++++++++++++++++
 gi/pygi-foreign.c	  |  123
 ++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-foreign.h	  |   52 ++++++++++++++++++++
 gi/pygi-private.h	  |    1 +
 tests/test_everything.py |   48 ++++++++++++++++++
 10 files changed, 428 insertions(+), 4 deletions(-)

commit e73b6f6fe8b5f23a2a390ae0a6bbced593ded155
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Apr 16 14:35:13 2010 -0400

    Allow creating structs with pointers

    https://bugzilla.gnome.org/show_bug.cgi?id=603537

 gi/pygi-struct.c |    6 ------
 tests/test_gi.py |    3 ++-
 2 files changed, 2 insertions(+), 7 deletions(-)

commit fc9ff02e53aacf9e77625c70985e99813544912a
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Apr 16 10:40:40 2010 -0400

    Add gdb and valgrind variants for the tests

 HACKING	   |   19 +++++++++++++++++++
 Makefile.am	   |   12 ++++++++++++
 tests/Makefile.am |   14 +++++++++++++-
 3 files changed, 44 insertions(+), 1 deletion(-)

commit 695ac7bc5c60371a32538d690c7a15509f3c9637
Author: John Stowers <john.stowers@gmail.com>
Date:	Fri Apr 16 14:36:11 2010 +1200

    Add build docs for windows

 Makefile.am  |    1 +
 README.win32 |   24 ++++++++++++++++++++++++
 2 files changed, 25 insertions(+)

commit e580da87f0b2fd36cb5d8008fb2fb0c3b01f456a
Author: John Stowers <john.stowers@gmail.com>
Date:	Thu Apr 15 13:40:39 2010 +1200

    Setup.py cosmetic tidy

     * Remove local doc install, point to website instead
     * link to versioned docs

 pygobject_postinstall.py |   43
 ++++++++++++++++++++++++++-----------------
 setup.py		  |   39 ++++++++++++++-------------------------
 2 files changed, 40 insertions(+), 42 deletions(-)

commit 69ecd506c83ddf180c6cc9a2a8dc753a02543959
Author: John Stowers <john.stowers@gmail.com>
Date:	Sat Jul 25 14:12:30 2009 +1200

    Fix crash when importing gio

    Only seems to be necessary on windows, but
    no harm on linux as multiple calls to init
    are OK

 gio/giomodule.c |    3 +++
 1 file changed, 3 insertions(+)

commit 5d159a13d89587cba189a0ca3203ac003e2f1f2b
Author: John Stowers <john.stowers@gmail.com>
Date:	Thu Apr 15 22:52:48 2010 +1200

    Bug 589671 - Dont use generate-constants

    This breaks the build using distutils, and it is
    largely unneeded. Just add the G_XXX constants
    to the module directly

 gobject/Makefile.am	      |   16 +-------
 gobject/constants.py	      |   83
 ++++++++++++++++++++++++++++++++++++++++++
 gobject/constants.py.in      |   50 -------------------------
 gobject/generate-constants.c |   44 ----------------------
 gobject/gobjectmodule.c      |   35 ++++++++++++++++++
 setup.py		      |    2 +-
 tests/runtests.py	      |    3 +-
 7 files changed, 121 insertions(+), 112 deletions(-)

commit 6d7a3ab9ce352692d0faccbf106974d264fa953d
Author: John Stowers <john.stowers@gmail.com>
Date:	Thu Apr 15 22:49:17 2010 +1200

    Bug 589671 - Fix setup.py for windows build

    * Building pyglib as a static private library
    * Update to include new defs
    * Modernise setup.py and add more util functions
      to dsextras

 dsextras.py |	 32 ++++++++++++++++---
 setup.py    |	102
 +++++++++++++++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 116 insertions(+), 18 deletions(-)

commit d11ef47072acae5801ce25c68d1289e425eb9fc2
Author: John Stowers <john.stowers@gmail.com>
Date:	Thu Apr 15 22:48:28 2010 +1200

    Include pygsource.h

 glib/pygiochannel.c |	  1 +
 1 file changed, 1 insertion(+)

commit c5f6af4844c74354abc508d17969d9d45153acf2
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Thu Apr 15 14:25:59 2010 -0400

    Add metadata to the .doap file

 pygi.doap |	3 +++
 1 file changed, 3 insertions(+)

commit 81796cb77cbe6b9598a652bd63c047af93e747ee
Author: John (J5) Palmieri <johnp@redhat.com>
Date:	Wed Apr 14 12:01:43 2010 -0400

    override that wasn't checked in - fixes some test cases

 gi/overrides/GIMarshallingTests.py |	69
 ++++++++++++++++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit de5d2ea1584b01af809346316c7fbd4955a9db1d
Author: Colin Walters <walters@verbum.org>
Date:	Wed Apr 14 10:06:07 2010 -0400

    [Makefile.am] Clean up CFLAGS handling, don't override all: target

    First, we should move the CFLAGS into AM_CFLAGS, otherwise the
    per-target CFLAGS forces Automake to prefix object files, which
    is unnecessary since we only have one target.

    More importantly, avoid overriding the all: target here; that's
    owned by Automake.	Use all-local instead to append things to
    the end of the normal build.

 gi/Makefile.am |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 5a47e96e3f580c973e6880dafa747f54c144c760
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Apr 13 19:15:49 2010 -0400

    Use GIMarshallingTests (old TestGI) in gobject-introspection

 gi/overrides/TestGI.py |   69 --
 tests/Makefile.am	|   40 -
 tests/libtestgi.c	| 2924
 ------------------------------------------------
 tests/libtestgi.h	|  628 -----------
 tests/test_gi.py	|  832 +++++++-------
 5 files changed, 416 insertions(+), 4077 deletions(-)

commit 681832c3cd040433a488a400693b68f213bf7078
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Tue Apr 13 13:33:12 2010 -0400

	codegen/docextract_to_xml.py: One more &...; replacement (&nbsp;).

	* codegen/docextract_to_xml.py: Replace &nbsp; which also causes
	errors with a regular space.

 codegen/docextract_to_xml.py |    1 +
 1 file changed, 1 insertion(+)

commit bd4e7f2459e34957aaae59b9be807d6dff5ec1eb
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Tue Apr 13 12:28:10 2010 -0400

	codegen/docextract_to_xml.py: Replace some &..; that cause errors.

	* codegen/docextract_to_xml.py (escape_text): Replace some &..;
	expressions that cause errors with more appropriate output.

 codegen/docextract_to_xml.py |    4 ++++
 1 file changed, 4 insertions(+)

commit f00b9ce91fc9c3aabd4af4132fc112d9e415e12e
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Sun Apr 11 17:46:40 2010 -0400

	codegen/docextract_to_xml.py: Handle C++ multi-line comments.

	* codegen/docextract_to_xml.py (escape_text): Translate '/*'
	and '*/'
	in text to '/ *' and '* /' respectively so that comment errors
	don't
	show up when the descriptions that include C++ code with C++
	multi-line comments are used in Doxygen blocks.

 codegen/docextract_to_xml.py |    9 +++++++++
 1 file changed, 9 insertions(+)

commit a2fcdecbb5e109da5568084d7acb2332af83b6f5
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Sun Apr 11 16:15:01 2010 -0400

	codegen/docextract.py: Stop final section processing on first
	match.

	* codegen/docextract.py (process_final_sections): Modify the final
	section pattern matching for loop to stop on first match so
	that it
	doesn't match both a colon return ('Returns: ...') and a no colon
	return ('Returns ...') which leads to annotation extraction
	errors.

 codegen/docextract.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 825fd305f03b726665edca34963978ce27448182
Author: José Alburquerque <jaalburqu@svn.gnome.org>
Date:	Sun Apr 11 15:45:09 2010 -0400

	Update doc extraction tool to handle GObjectIntrospection
	annotations.

	* codegen/docextract.py (FunctionDoc): Renamed class to GtkDoc.
	(GtkDoc::annotations): Added a list field to store annotations
	which
	are 2-tuples of (name, value).
	(GtkDoc::ret): Modified field to store the return description
	along
	with a list of annotations as described above.
	(GtkDoc::params): Now holds a list of 3-tupples: name,
	description and
	annotations (as described above).
	(GtkDoc::block_type): Add a field to tell if the comment block
	is a
	function block, signal block or property block.
	(GtkDoc::set_type):
	(GtkDoc::get_type): Add methods for setting/getting the block
	type.
	(GtkDoc::add_param): Modified to also accept a list of
	annotations to
	be added with the parameter.
	(GtkDoc::add_annotation):
	(GtkDoc::get_annotations): Added methods to add/get annotations
	for
	the comment block.
	(GtkDoc::append_description): Renamed to append_to_description().
	(GtkDoc::get_param_description): Removed unused method.
	(GtkDoc::get_description): Added method to get block description.
	(GtkDoc::add_return): Added method to add a return accepting
	the first
	line of the description and its annotations.
	(GtkDoc::append_return): Renamed to append_to_return().
	(Regular expressions):
	 - Made the names of the variables un-abbreviated.

	 - Added 'since', 'deprecated' and 'rename to' regular
	 expressions.

	 - Modified the return matching regular expression so that
	 it doesn't
	   match descriptions that begin with 'Returns ...'.
	   This improves
	   the docs of many function.

	 - Added signal and property comment block identifier matching
	 regular
	   expressions in case those are useful.

	- Modified existing identifier matching regular expressions
	(function,
	  signal, and property regular expressions) to properly parse
	  annotations.	Also added a regular expression for extracting
	  annotations from the parameter and return descriptions.

	- Refined the function name matching regular expression to
	only accept
	  identifiers that begin with a lowercase letter.  This eliminates
	  'SECTION:' matches.

	- Finally, grouped commonly related expressions like
	return_pattern,
	  since_pattern, etc.  into groups (in lists) so that matching
	  those
	  sections can be done using loops.

	(Parsing algorithm): Modified the algorithm to use a functional
	approach to parsing.  Extra methods like skip_to_comment() and
	processs_params() have been added and used in the parse_file()
	function to now process the comment blocks.
	(parse_dir): Added file processing output to stderr.
	* codegen/docextract_to_xml.py (usage): Added function to
	print out
	the usage.
	(print_annotations): Added function to print the given list of
	annotations.
	(options): Added --with-signals (-i), with-properties (-p) and
	--with-annotation (-a) to the existing --source-dir (-s) option.

	(algorithm): Now prints annotations, if specified.  Also, prints
	signals and properties correctly (using names like
	Class::signal-one
	for signals and Classs:property) with xml such as <signal
	name="...">...</signal>.  The return xml is slightly modified with
	annotations but this would only be exhibited if annotation xml is
	requested.

 codegen/docextract.py	      |  439
 +++++++++++++++++++++++++++++++++---------
 codegen/docextract_to_xml.py |   87 ++++++---
 2 files changed, 414 insertions(+), 112 deletions(-)

commit 9fef1acb42cd900d4a814a7378f60bc189121785
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Apr 9 13:47:03 2010 +0200

    Always create the .so link

 gi/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9f7fd414e94595e40eb1ba0fc471ca69136d82f
Author: Paul Bolle <pebolle@tiscali.nl>
Date:	Thu Apr 8 11:52:25 2010 +0200

    Docs: replace gio.IO_ERROR_* with gio.ERROR_*

    Signed-off-by: Paul Bolle <pebolle@tiscali.nl>

 docs/reference/pygio-file.xml	      |   58
 +++++++++++++++++-----------------
 docs/reference/pygio-inputstream.xml |   22 ++++++-------
 docs/reference/pygio-mount.xml       |   10 +++---
 3 files changed, 45 insertions(+), 45 deletions(-)

commit 4cbd9941c5705970a9f7a429e236e1203d3155a1
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Apr 5 18:10:42 2010 +0200

    Bug 613341 - pygobject tests seem to require pygtk causing a circular
    dependencies problem

    move tests that require pygtk to pygtk itself

 tests/test_conversion.py |   83 -------------
 tests/test_enum.py	  |  234 -------------------------------------
 tests/test_gtype.py	  |  112 ------------------
 tests/test_subtype.py	  |  289
 ----------------------------------------------
 4 files changed, 718 deletions(-)

commit ef0ceb266a45715ece58642fb0042e3376416755
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Wed Feb 3 20:33:03 2010 +0100

    Add modelines and copyright information to overrides modules

 gi/overrides/Gdk.py	|   21 +++++++++++++++++++++
 gi/overrides/Gtk.py	|   21 +++++++++++++++++++++
 gi/overrides/TestGI.py |   20 ++++++++++++++++++++
 3 files changed, 62 insertions(+)

commit 5106523a4b8378997a1e6cb0488398aa73e7d9d5
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Wed Feb 3 20:29:55 2010 +0100

    Fix and complete overrides tests

    Those tests were missing in the last commit

    https://bugzilla.gnome.org/show_bug.cgi?id=602830

 gi/overrides/TestGI.py |   49
 ++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gi.py	|    8 +++++++-
 2 files changed, 56 insertions(+), 1 deletion(-)

commit 23fc0f615d87994acafd9d39e92dd92b587fc2eb
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Thu Jan 21 17:30:51 2010 +0100

    Don't raise an error in _pygi_import if pygi support is disabled

    http://bugzilla.gnome.org/show_bug.cgi?id=607674

 gobject/pygboxed.c	 |    6 +-----
 gobject/pygi-external.h |    1 -
 gobject/pygobject.c	 |    6 +-----
 gobject/pygpointer.c	 |    6 +-----
 4 files changed, 3 insertions(+), 16 deletions(-)

commit aefac8c5f64bf059dd6652f8a843d17b34fa0854
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Jan 22 22:22:37 2010 +0100

    Remove support for pointers to basic types as input-only argument
    and return value

    There is no reason for an API to use such things, and
    g_function_info_invoke
    broke such features.

    https://bugzilla.gnome.org/show_bug.cgi?id=607759

 gi/pygi-argument.c |  586 ++++------------------------------------------
 gi/pygi-argument.h |	 1 -
 gi/pygi-info.c     |	 8 +-
 tests/libtestgi.c  |  660
 ----------------------------------------------------
 tests/libtestgi.h  |	86 -------
 tests/test_gi.py   |  144 ------------
 6 files changed, 47 insertions(+), 1438 deletions(-)

commit eaf7cb8ebb7e34f9493ac83b2f04af4dcf45f40f
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Jan 22 13:41:21 2010 +0100

    Restore the overrides support

    Add a ModuleProxy in front of the DynamicModule when an overrides
    module is
    present. There is no need for an overrides module to be a class;
    it can just be a module.

    Add an override decorator to override the wrapper of a registered
    type.

    Adapt Gdk and Gtk accordingly.

    Add tests.

    https://bugzilla.gnome.org/show_bug.cgi?id=602830

 gi/importer.py      |	 40 +++++++-------------
 gi/module.py	     |	 43 ++++++++++++++-------
 gi/overrides/Gdk.py |	 42 +++++++++++++--------
 gi/overrides/Gtk.py |	 16 ++++----
 gi/types.py	     |	  6 +++
 tests/libtestgi.c   |	105
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 tests/libtestgi.h   |	 49 ++++++++++++++++++++++++
 tests/test_gi.py    |	 36 ++++++++++++++++++
 8 files changed, 273 insertions(+), 64 deletions(-)

commit 289d641775d1ea52d2a5379126b70b7fcee46683
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Jan 10 21:01:59 2010 +0100

    Initialize PyGPollFD_Type.fd_obj to NULL

    https://bugzilla.gnome.org/show_bug.cgi?id=606582

 gio/gcancellable.override |	1 +
 1 file changed, 1 insertion(+)

commit b11cf2595987c1f0fc4ffd834f07c98b92aa2355
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Jan 8 21:10:28 2010 +0100

    Initialize struct fields to 0 when allocating

 gi/pygi-struct.c |    2 +-
 tests/test_gi.py |    5 +++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit b4189be2b2d3c350fdf33e27309bee5a72e4f72a
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Jan 8 20:33:44 2010 +0100

    Don't set a default constructor for structures.

    Update tests accordingly.

    The reason for this change is that setting __new__ in the metaclass
    doesn't let
    one overrides it afterwards, in a subclass (in my experience, at
    least, even
    though it seems weird).

    https://bugzilla.gnome.org/show_bug.cgi?id=603536

 gi/types.py	   |   35 +++++++----------------------------
 tests/libtestgi.c |   33 ---------------------------------
 tests/libtestgi.h |	7 -------
 tests/test_gi.py  |   21 ++++++++++-----------
 4 files changed, 17 insertions(+), 79 deletions(-)

commit 4db68b958ea11bd2c3a88067cae03fd6bdd1d24b
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Tue Jan 5 13:36:44 2010 +0100

    Suppress compilation warnings

 gi/pygi-argument.c	 |    3 ++-
 gi/pygi-boxed.c	 |    2 --
 gi/pygobject-external.h |    2 +-
 3 files changed, 3 insertions(+), 4 deletions(-)

commit 4e2efa91d101bf755739e1cca8eee41eb0ad20fd
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jan 4 08:35:14 2010 +0100

    Bug 605937 - pygobject: Makefile.am sets $TMPDIR, disrupting distcc

    Committed a patch from Kevin Pyle

 Makefile.am |	 27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 8ddcbca0e98e0b0c082170a2b2b6cfcbd7864b40
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Dec 11 22:24:30 2009 +0100

    sys.path must be modified after pygtk is imported

    Otherwise, sys.path is overridden by pygtk and gi.repository is
    loaded from the
    system's default site-package directory.

 tests/runtests.py |	1 -
 tests/test_gi.py  |	3 +++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 284a1e1c0143c95d3007cf58e6c248b5d11fb4d1
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun Jan 3 11:02:57 2010 +0100

    Wrap gio.Cancellable.make_pollfd() and add a test

 gio/Makefile.am	    |	 1 +
 gio/gcancellable.override  |	37 +++++++++++++++++++++++++++++++++++++
 gio/gio.override	    |	 3 +++
 tests/test_gcancellable.py |	15 +++++++++++++++
 4 files changed, 56 insertions(+)

commit 82d7bcbf37200ee2ef5892dd12bebd2f39965c56
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jan 2 23:15:56 2010 +0100

    Make cancellable an optional parameter in many methods

 gio/gio.defs |  102
 +++++++++++++++++++++++++++++-----------------------------
 1 file changed, 51 insertions(+), 51 deletions(-)

commit 49a078cd22d55dc33a03ecfda235d63955edc741
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jan 2 23:15:21 2010 +0100

    Post release version bump to 2.21.2

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f9f1f43ab4e2cfb204ffa0e257a34cfd95d84e2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jan 2 22:58:36 2010 +0100

    Update NEWS and release PyGObject-2.21.1

 NEWS |   55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit c1f34be73bd186d7b4682dfef133da2c4229d213
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 20:25:35 2010 +0100

    Wrap gio.Volume.eject_with_operation()

 gio/gvolume.override |   54
 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 9b76fbff6f6897aaf26ed4644c1f19efc2826917
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 20:22:21 2010 +0100

    gio.Mount.unmount_with_operation() fix a copy/paste leftover

 gio/gmount.override |	  4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6f459786dd641cd49d81eba403d940620f961cab
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 20:21:05 2010 +0100

    Wrap gio.Mount.eject_with_operation()

 gio/gmount.override |	 54
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit d4b5d1b4839364e5676eb2da28f1d21db7e2552d
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 20:15:38 2010 +0100

    Wrap gio.Mount.unmount_mountable_with_operation()

 gio/gmount.override |	 54
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit e919d47c2430451b436cec955e9b99237f97028c
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 18:22:46 2010 +0100

    Wrap File.unmount_mountable_with_operation()

 gio/gfile.override |	54
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 5a614df9c5507d67f240462f7bf71b4cd411addf
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 18:14:11 2010 +0100

    Wrap gio.File.stop_mountable()

 gio/gfile.override |	52
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 52 insertions(+)

commit 6af506647f36f2b825bc6556df5ee57fa7721906
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 18:10:49 2010 +0100

    Wrap gio.File.start_mountable()

 gio/gfile.override |	52
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 52 insertions(+)

commit e700efc839fc0b651fc9794a1611190bffa80263
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 18:02:46 2010 +0100

    Wrap gio.File.replace_readwrite_async()

 gio/gfile.override |	55
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 92662f129fc728258fd5e34f53dcb081e3715017
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 17:00:26 2010 +0100

    Wrap gio.File.poll_mountable()

 gio/gfile.override |	41 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 99902b786500948c3278779841e4db54223b9256
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 16:56:26 2010 +0100

    Wrap gio.File.open_readwrite_async()

 gio/gfile.override |	44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit 8cff5d53183ae81364ac74a34a1d52e55e082eb4
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 16:50:15 2010 +0100

    Wrap gio.File.eject_mountable_with_operation()

 gio/gfile.override |	54
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit ca436fe7785fd24b0f0e65f2f8c9fa6478277682
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 13:30:24 2010 +0100

    Wrap gio.File.create_readwrite_async() and add a test

 gio/gfile.override |	51
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gio.py  |	24 ++++++++++++++++++++++++
 2 files changed, 75 insertions(+)

commit f72c5e451dfaeb01b3c3d9243fed2732d3620462
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 13:20:11 2010 +0100

    Wrap gio.Drive.stop()

 gio/gdrive.override |	 52
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 52 insertions(+)

commit 29043bade408338cefa13fb4b0c875aabd3ef05e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 13:00:42 2010 +0100

    Wrap gio.Drive.start()

 gio/gdrive.override |	 52
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 52 insertions(+)

commit dff374287bbecc8af782bbc726fad86c6c867754
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 12:45:29 2010 +0100

    Add more remainders on missing methods of gio.Socket and related types

 gio/gsocket.override |    3 +++
 1 file changed, 3 insertions(+)

commit b8c7e996498bd72df551011af85ff05ef7335b4f
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 12:41:08 2010 +0100

    Wrap gio.SocketListener.accept_socket_async|finish() and add a test

 gio/gsocket.override  |   86
 +++++++++++++++++++++++++++++++++++++++++++++++--
 tests/test_gsocket.py |   24 ++++++++++++++
 2 files changed, 108 insertions(+), 2 deletions(-)

commit a5ae2d5ba3db34967fe07a3cc97b75df2793988c
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 12:28:53 2010 +0100

    Wrap gio.SocketListener.accept_finish() and add a test

 gio/gsocket.override  |   44 ++++++++++++++++++++++++++++++++++++++++++--
 tests/test_gsocket.py |   24 ++++++++++++++++++++++++
 2 files changed, 66 insertions(+), 2 deletions(-)

commit a5ab26cc1bb3e9dd57e2fdb26ef5c02e8066d097
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 11:19:34 2010 +0100

    Wrap gio.SocketListener.accept_async()

 gio/gsocket.override |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit c9496b29ef9ef232020a4044577d2947353953a5
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jan 1 11:14:35 2010 +0100

    Wrap gio.SocketListener.accept_socket() and add a test

 gio/gsocket.override  |   48
 +++++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gsocket.py |   13 +++++++++++++
 2 files changed, 60 insertions(+), 1 deletion(-)

commit 1aa5e301c49f11e1c5ef58de44b4b03f714d1a70
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 16:35:18 2009 +0100

    Wrap gio.SocketListener.accept() and add a test

 gio/gsocket.override  |   46
 +++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gsocket.py |   13 +++++++++++++
 2 files changed, 58 insertions(+), 1 deletion(-)

commit aaedcf166c78baf5449ef59d0ade4a29077fedc7
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 16:25:33 2009 +0100

    Make cancellable optional in gio.SocketClient.connect_to_host()

 gio/gio.defs |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3829d7667b19126fb74562b28d271e616b154c99
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 15:25:10 2009 +0100

    Wrap gio.SocketListener.add_address() and add a test

 gio/gsocket.override  |   57
 ++++++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gsocket.py |    9 ++++++++
 2 files changed, 65 insertions(+), 1 deletion(-)

commit 5bec72f34ea75bc56158cae5c39d61a2a4e7e601
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 10:19:47 2009 +0100

    Add more remainders on missing methods of gio.Socket and related types

 gio/gsocket.override |    8 ++++++++
 1 file changed, 8 insertions(+)

commit b08b20f2b1a57bcbf400d6fe8e87cf052bdb719d
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 10:16:18 2009 +0100

    Wrap gio.SocketClient.connect_to_service_async()

 gio/gsocket.override |   47
 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit 116ea1bfe32946e67aa54eb8dc7b977e57f254c2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 10:10:43 2009 +0100

    Wrap gio.SocketClient.connect_to_host_async()

 gio/gsocket.override |   48
 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 9c930910505d5b9001b8cec17ff98fadeaa799e2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 31 09:59:46 2009 +0100

    Wrap gio.SocketClient.connect_async()

 gio/gsocket.override |   45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit dff024256295c15e49888ad9d5fef74a7746edd7
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 23:44:25 2009 +0100

    Wrap gio.SocketAddressEnumerator.next_async() and add a test

 gio/gsocket.override  |   42 ++++++++++++++++++++++++++++++++++++++++++
 tests/test_gsocket.py |   16 ++++++++++++++++
 2 files changed, 58 insertions(+)

commit e2330bd0d6cbc49b0ecb27b30e3b0593935ce229
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 23:43:14 2009 +0100

    Add a missing object gio.InetSocketAddress new in GIO 2.22

 gio/gio-types.defs |	 7 +++++++
 gio/gio.defs	    |	31 +++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit 6040b33467ea381c6cb02f6a5efc0745fa8fa47b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 22:54:47 2009 +0100

    Make cancellable optional for gio.SocketAddressEnumerator.next()

 gio/gio.defs |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b19f59790b9de943d69b6c5e483928e0443c3d20
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 22:17:44 2009 +0100

    Add a remainder of the Socket methods that needs manual wrapping still

 gio/gsocket.override |    5 +++++
 1 file changed, 5 insertions(+)

commit 771a7c3fdef7b2e98e509293a8376a81c1282286
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 17:20:35 2009 +0100

    Wrap gio.Socket.condition_wait() and add a test

 gio/gsocket.override  |   27 +++++++++++++++++++++++++++
 tests/test_gsocket.py |    6 +++++-
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 50960656815b0897a5ebe5f011537b8dcbdc857e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 16:21:49 2009 +0100

    Wrap gio.Socket.condition_check() and add a test

 gio/Makefile.am       |    1 +
 gio/gio.override      |    1 +
 gio/gsocket.override  |   41 +++++++++++++++++++++++++++++++++++++++++
 tests/test_gsocket.py |   21 +++++++++++++++++++++
 4 files changed, 64 insertions(+)

commit de7a359e81792ae8573ac944455ea289985449ed
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 14:07:52 2009 +0100

    Wrap gio.Resolver.lookup_service_finish() and add a test

 gio/gresolver.override  |   37 +++++++++++++++++++++++++++++++++++++
 tests/test_gresolver.py |   13 +++++++++++++
 2 files changed, 50 insertions(+)

commit 308421789ce849040d645077c41c80b6e2e65e83
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 14:00:22 2009 +0100

    Wrap gio.Resolver.lookup_service_async()

 gio/gresolver.override |   48
 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 9d56ce775f56fff1b1ef3c75843c0583e39f75c3
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Dec 30 11:11:32 2009 +0100

    Wrap gio.Resolver.lookup_service() and add a test

 gio/gresolver.override  |   42 ++++++++++++++++++++++++++++++++++++++++++
 tests/test_gresolver.py |    5 +++++
 2 files changed, 47 insertions(+)

commit 7fc71f490494dae73a5264869a97a9d30814930e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 22:12:50 2009 +0100

    Wrap gio.Resolver.lookup_by_address_async() and add a test

 gio/gresolver.override  |   46
 ++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gresolver.py |   14 ++++++++++++++
 2 files changed, 60 insertions(+)

commit c91656dbe56f07d3ebbad5113467c22427cf212a
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 21:41:30 2009 +0100

    Wrap gio.Resolver.lookup_by_name_finish() and add a test

 gio/gresolver.override  |   82
 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gresolver.py |   16 +++++++--
 2 files changed, 96 insertions(+), 2 deletions(-)

commit 45b477342fa1c2435917c6d97745ad57665c4734
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 17:15:44 2009 +0100

    Wrap gio.Drive.eject_with_data()

 gio/gdrive.override |	 54
 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 635227480f9659a1f91ab1ec12536d3ed012a976
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 17:06:52 2009 +0100

    Deprecate old gio.Drive methods

 gio/gdrive.override |	  7 ++++++-
 gio/gio.defs	     |	  1 +
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 3c0cbc95af29b1e192ed4b5963e96e39c70b349c
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 13:51:54 2009 +0100

    Small fix in the header

 gio/gdrive.override |	  2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7589128515b79d836365247dc876538c6352da23
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 12:40:50 2009 +0100

    Wrap gio.Resolver.lookup_by_name() and add a couple of tests

 gio/Makefile.am	 |    1 +
 gio/gio.override	 |    1 +
 gio/gresolver.override  |   57
 +++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gresolver.py |   21 +++++++++++++++++
 4 files changed, 80 insertions(+)

commit 604d2bf220b1fefa415baaedbdb2882dbaf9e07e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 12:39:13 2009 +0100

    Make cancellable an optional parameter in
    gio.Resolver.lookup_by_address()

 gio/gio.defs |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00029145f4cd10759b37b38fb9f72435bf26b28b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 10:15:14 2009 +0100

    Strip g_ prefix for many other functions

 gio/gio.defs |   94
 +++++++++++++++++++++++++++++-----------------------------
 1 file changed, 47 insertions(+), 47 deletions(-)

commit 56d5dfc4fd862e32c19f944a0feb7a00a9154f06
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 10:12:53 2009 +0100

    Strip g_prefix from InetAddress functions

 gio/gio.defs |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1d360301d51a587a36a59f5d62e354484bbd2b31
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 10:03:59 2009 +0100

    Fix function name gio.resolver_get_default()

    Strip the g_ prefix from function name

 gio/gio.defs |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0fe00109c4f6fc27cbaae9b0a24ecfac71355d2f
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Dec 29 09:54:05 2009 +0100

    Wrap gio.FileIOStream.query_info_async() and add a test

 gio/Makefile.am	    |	 1 +
 gio/gfileiostream.override |	68
 ++++++++++++++++++++++++++++++++++++++++++++
 gio/gio.override	    |	 1 +
 tests/test_gio.py	    |	18 ++++++++++++
 4 files changed, 88 insertions(+)

commit 86783c695f3641b9491962e8f95a4dcb91f4017c
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Dec 29 13:08:29 2009 +0100

    Register enums and flags in PyGI if needed

    https://bugzilla.gnome.org/show_bug.cgi?id=603534

 gobject/pygenum.c  |	20 ++++++++++++++------
 gobject/pygflags.c |	19 +++++++++++++------
 2 files changed, 27 insertions(+), 12 deletions(-)

commit b90c01cff5ff5cb2796182f2ffd7b5248eaeed6a
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Dec 28 22:41:54 2009 +0100

    Wrap GIOStream.close_async() and add a test

 gio/Makefile.am	|    1 +
 gio/gio.override	|    1 +
 gio/giostream.override |   68
 ++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test_gio.py	|   21 +++++++++++++++
 4 files changed, 91 insertions(+)

commit 0bff01bcee73a0e0d18342331136119c4e8bf151
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Dec 28 22:39:09 2009 +0100

    Make cancellable an optional parameter in GFile.create_readwrite()

 gio/gio.defs |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1cabd733cde269ce3164834933f4a226673ecb0b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Dec 28 21:39:50 2009 +0100

    Remove a duplicate entry in gio.defs

 gio/gio.defs |    9 ---------
 1 file changed, 9 deletions(-)

commit 9ac372ad0bcfdec4bb1c96bc152246542a59a9b1
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Dec 28 21:37:49 2009 +0100

    Wrap gio.FileInfo.set_modification_time and add a test

 gio/gfileinfo.override |   33 ++++++++++++++++++++++++++++++++-
 tests/test_gio.py	|    7 ++++++-
 2 files changed, 38 insertions(+), 2 deletions(-)

commit 7bc2673f92138b1804d8eba091942d14d8884f90
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Dec 28 18:28:03 2009 +0100

    Wrap gio.EmblemedIcon.get_emblems() and add a test

 gio/gicon.override  |	 14 ++++++++++++++
 tests/test_gicon.py |	  7 +++++++
 2 files changed, 21 insertions(+)

commit 3d5056ad766d6856d8d6459fe9b377de2f0fd172
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Dec 26 22:27:48 2009 +0100

    Update Enums and Flags with new API

 gio/gio-types.defs |  153
 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 149 insertions(+), 4 deletions(-)

commit 62a9d660a4a2d5fab1d57c6c96c984ff02d25ccd
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Dec 25 18:06:39 2009 +0100

    Post release version bump to 2.21.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bd92cba5b028f0f78c35ecb34e648e95248f9d3
Author: Bastian Winkler <buz@netbuz.org>
Date:	Fri Aug 14 15:10:26 2009 +0200

    Fix handling of uchar in pyg_value_from_pyobject

    Set the value by g_value_set_uchar and allow to use integer types
    from python.

 gobject/pygtype.c |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 828d0f042b59ea0319f33a23803c179af34ef2f1
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Dec 22 18:05:47 2009 +0100

    Add Gtk.keysyms to overrides

 gi/overrides/Gtk.py	  |    2 +
 gi/overrides/Makefile.am |    1 +
 gi/overrides/keysyms.py  | 1499
 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1502 insertions(+)

commit 24fa1224ff00b9da177e0bfaa1e14e1b899e4976
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Wed Nov 25 10:33:56 2009 +0100

    The array field 'length' starts to count from the C arg list, so
    need to decrement when it's a method

    https://bugzilla.gnome.org/show_bug.cgi?id=602640

 gi/pygi-argument.c |	11 +++++++++-
 gi/pygi-argument.h |	 3 ++-
 gi/pygi-info.c     |	14 ++++++++++--
 tests/libtestgi.c  |	60
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 tests/libtestgi.h  |	 4 ++++
 tests/test_gi.py   |	15 +++++++++++++
 6 files changed, 103 insertions(+), 4 deletions(-)

commit 867536c6734e606d045760837ed22583da06566e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Dec 18 10:50:09 2009 +0100

    Update NEWS and README, release pygobject 2.21.0

 NEWS	|   18 ++++++++++++++++++
 README |    6 +++---
 2 files changed, 21 insertions(+), 3 deletions(-)

commit f50fbd24fa61863aaefa4ae1e12e0b314ecd43ae
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Dec 18 10:31:48 2009 +0100

    Add pygi-external.h into Makefile SOURCES

 gobject/Makefile.am |	  3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 108c03b78f04b4bcfe066a6cb4d941e172bd32fe
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Dec 18 01:20:34 2009 +0100

    Bug 598435 - No wrapping for g_find_program_in_path ()

 glib/glibmodule.c |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit d3d5cb3a4a2c2cb2bd0c2571304d59e19bc08452
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 17 21:54:36 2009 +0100

    Wrap new API added in GIO-UNIX 2.22

 gio/unix-types.defs |	 22 ++++++++++
 gio/unix.defs	     |	115
 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 gio/unix.override   |	  8 ++++
 3 files changed, 144 insertions(+), 1 deletion(-)

commit c87c8a81947a68507e8f3bcaf8e0e969b3e5331b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 17 21:52:11 2009 +0100

    Bump required glib version to 2.22.4

    I've committed a patch to glib which will be released in the stable
    branch.
    Without the patch the unix module will fail, so I'm forced to bump.

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b630c8d4b1e55938dac89729768c4a877b305215
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Dec 17 02:24:45 2009 +0100

    Properly define Connectable as interface type and not object type

 gio/gio-types.defs |	12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit e955b931b07113c7432f7a85f882f69f12d263ad
Author: Anderson Lizardo <anderson.lizardo@openbossa.org>
Date:	Mon Nov 30 22:01:25 2009 +0100

    Depend on GLib 2.20 rather than 2.22

    Backport g_array_get_element_size.

    https://bugzilla.gnome.org/show_bug.cgi?id=603411

 configure.ac	   |	2 +-
 gi/pygi-private.h |   19 +++++++++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 542fdf6da4ad8f2d28d0d50152bd93cb4d8ee39a
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Nov 28 18:48:19 2009 +0000

    Use the limit constants from glib and interpret G_MAXUINT32 as
    PyLong_FromLongLong

    https://bugzilla.gnome.org/show_bug.cgi?id=602384

 gi/pygi-argument.c |	14 +++++++-------
 tests/test_gi.py   |	18 +++++++++---------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit 38e89942d29f2a1dba47ab4a8d5edc84322707cd
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Mon Nov 30 00:10:56 2009 +0100

    Suppress warnings about format conversion

    https://bugzilla.gnome.org/show_bug.cgi?id=603355

 gobject/generate-constants.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit cfa7d005487e17e8f7c1ceb14282d3a5baadb736
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 28 00:22:21 2009 +0100

    Remove global checks for pointers and move them in type cases that
    need them

 gi/pygi-argument.c |  516
 ++++++++++++++++++++++++++++++++++++++++++----------
 gi/pygi-info.c     |  333 +++++++++++++++++----------------
 2 files changed, 596 insertions(+), 253 deletions(-)

commit d1ae73f3cf7cebdb74c9ec56b08928a2a53b9de6
Author: Johan Dahlin <johan@gnome.org>
Date:	Mon Nov 23 15:58:17 2009 -0200

    Pythonify. Avoid ; and () around if statements

    https://bugzilla.gnome.org/show_bug.cgi?id=602830

 gi/types.py |	  8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a8660621679c629fc81320a8ddf5bf2c7ee1f177
Author: Johan Dahlin <johan@gnome.org>
Date:	Tue Nov 24 10:36:18 2009 -0200

    Remove trailing whitespace

    https://bugzilla.gnome.org/show_bug.cgi?id=602830

 gi/module.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 66c34805223af9e63c7d61f21a3dbd7505a8f256
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon Nov 30 10:03:34 2009 +0000

    Set a default constructor for boxed structs that don't have one

    https://bugzilla.gnome.org/show_bug.cgi?id=602735

 gi/Makefile.am     |	 2 +
 gi/gimodule.c	    |	 1 +
 gi/module.py	    |	 2 +-
 gi/pygi-argument.c |	14 +++-
 gi/pygi-boxed.c    |  184
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 gi/pygi-boxed.h    |	40 ++++++++++++
 gi/pygi-info.c     |	 2 +-
 gi/pygi-private.h  |	 1 +
 gi/pygi.h	    |	 6 ++
 gi/types.py	    |	18 -----
 tests/libtestgi.c  |	72 ++++++++++----------
 tests/libtestgi.h  |	18 ++---
 tests/test_gi.py   |	47 ++++++++------
 13 files changed, 321 insertions(+), 86 deletions(-)

commit e7e2fccae36c28c7e9f288fcd4c90a001140e307
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon Nov 30 10:53:57 2009 +0000

    Revert "Use the limit constants from glib and interpret G_MAXUINT32
    as PyLong_FromLongLong"

    This reverts commit 05a2ed55f3e5d2620de8b3b6b0d99e928ef3b041.

 gi/pygi-argument.c |	14 +++++++-------
 tests/test_gi.py   |	18 +++++++++---------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit 05a2ed55f3e5d2620de8b3b6b0d99e928ef3b041
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Nov 28 18:48:19 2009 +0000

    Use the limit constants from glib and interpret G_MAXUINT32 as
    PyLong_FromLongLong

    https://bugzilla.gnome.org/show_bug.cgi?id=602384

 gi/pygi-argument.c |	14 +++++++-------
 tests/test_gi.py   |	18 +++++++++---------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit e24d155dd7b4a5b9c25c054137d1370c369d3192
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Nov 28 18:45:54 2009 +0000

    Add the missing limit constants from glibconfig.h

    https://bugzilla.gnome.org/show_bug.cgi?id=603244

 gobject/generate-constants.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 3a295cb7ffaaaf29c71b8833cf0ee5ec7ceaa909
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Nov 28 18:48:49 2009 +0100

    Fix bad name when rebuilding the unix source module

 gio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8cbb6fb72dbe6630d1265b18095c9a96f496b86
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Nov 28 18:47:26 2009 +0100

    Wrap new API added in GIO 2.22

 gio/gio-types.defs |  138 +++
 gio/gio.defs	    | 2444
 +++++++++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 2360 insertions(+), 222 deletions(-)

commit 96f6c638709636d7e2ddf560b877879691da3314
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sat Nov 28 11:03:51 2009 +0000

    A few tests about interfaces

    https://bugzilla.gnome.org/show_bug.cgi?id=601181

 tests/libtestgi.c |   23 +++++++++++++++++++++++
 tests/libtestgi.h |   16 ++++++++++++++++
 tests/test_gi.py  |   21 +++++++++++++++++++++
 3 files changed, 60 insertions(+)

commit 076ba3156c13375a75983cef7a409c8c8afea119
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Thu Nov 26 23:50:54 2009 +0100

    Fix members initialization in metaclasses

    In metaclasses, the test for the name of the class was wrong, since it
    prevented one to create a subclass with the same name (especially
    annoying for
    overrides). Now, if a GType is available from the info, the fact
    that it
    doesn't have any wrapper yet means that the metaclass is creating
    the base
    class, which will be registerd just after its creation. This is
    true for
    objects, and for structures registered as boxed or pointer too.

    This patch includes a test for basic subclassing in Python. It
    notably tests
    that methods don't get overridden by the metaclass.

 gi/types.py	  |    5 +++--
 tests/test_gi.py |   19 +++++++++++++++++++
 2 files changed, 22 insertions(+), 2 deletions(-)

commit ac80e64c9f7d257865aa820753e52d56cf2871c8
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Fri Nov 27 12:06:59 2009 +0000

    Structs in arrays are not marshalled correctly

    https://bugzilla.gnome.org/show_bug.cgi?id=602709

 gi/pygi-argument.c |	29 ++++++++++++++++++++++++-----
 tests/libtestgi.c  |	23 ++++++++++++++++++++++-
 tests/libtestgi.h  |	 7 +++++--
 tests/test_gi.py   |	 8 ++++++++
 4 files changed, 59 insertions(+), 8 deletions(-)

commit 4a373b8ad6ec137e911b92a3e745e0fd76541292
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Wed Nov 25 16:53:55 2009 +0100

    Use the right variable when looking up in sys.modules

 gi/importer.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc3dca018e85aee34ade79d104ebd8cdd1dd5968
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Nov 24 15:52:47 2009 +0100

    Accept 0 as a valid value for flag and enum arguments

    https://bugzilla.gnome.org/show_bug.cgi?id=602638

 gi/pygi-argument.c |	19 ++++++++++++++++++-
 tests/libtestgi.c  |	 6 ++++++
 tests/libtestgi.h  |	 1 +
 tests/test_gi.py   |	 1 +
 4 files changed, 26 insertions(+), 1 deletion(-)

commit 33081c29a1c2fdec2b8bfe17ae0a72b8db7a8d84
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Tue Nov 24 13:10:11 2009 +0100

    Add stuff to .gitignore

 .gitignore |	 7 +++++++
 1 file changed, 7 insertions(+)

commit 5c010fe673d9bd01c27c8d7d312064665275888c
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Mon Nov 23 22:39:12 2009 +0100

    Remove the girepository module

 Makefile.am			|    2 +-
 configure.ac			|   17 -
 girepository/Makefile.am	|   54 --
 girepository/__init__.py	|   24 -
 girepository/bank-argument.c	|  379 -------------
 girepository/bank-info.c	| 1194
 ----------------------------------------
 girepository/bank-repository.c |  236 --------
 girepository/bank.c		|  155 ------
 girepository/bank.h		|   80 ---
 girepository/btypes.py		|  300 ----------
 girepository/importer.py	|   51 --
 girepository/module.py		|  224 --------
 girepository/overrides/Gdk.py	|   14 -
 girepository/overrides/Gtk.py	|    8 -
 girepository/repository.py	|   51 --
 tests/test_girepository.py	|  386 -------------
 16 files changed, 1 insertion(+), 3174 deletions(-)

commit a644edf0515c26ed027522891ccf02aceac764e8
Author: Johan Dahlin <johan@gnome.org>
Date:	Mon Nov 23 15:32:16 2009 -0200

    Create overridden modules in two passes

    This patch splits overridden module creation into two passes. The
    first pass
    creates the auto-generated module normally before the overridden
    module is
    attempted to be imported. The second pass imports the overridden
    module and
    replaces the auto-generated module with the overridden. This is
    necessary
    for the overridden modules to be able to access the auto-generated
    ones.

 gi/importer.py |   34 +++++++++++++++++++++-------------
 1 file changed, 21 insertions(+), 13 deletions(-)

commit fad89e12a744b57e6348968f351d25d167de8248
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Nov 22 17:56:20 2009 +0100

    Add support for Any arguments

    https://bugzilla.gnome.org/show_bug.cgi?id=601253

 gi/pygi-argument.c |	20 ++++++++++++--------
 tests/libtestgi.c  |	 5 +++++
 tests/libtestgi.h  |	 5 +++++
 tests/test_gi.py   |	 5 +++++
 4 files changed, 27 insertions(+), 8 deletions(-)

commit 1dc62a998dd8d2a0a397f8309011a8d79cb56034
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Nov 22 17:25:04 2009 +0100

    Register interfaces

    https://bugzilla.gnome.org/show_bug.cgi?id=601181

 gi/gimodule.c |   33 +++++++++++++++++++++++++++++++++
 gi/types.py   |    5 ++++-
 2 files changed, 37 insertions(+), 1 deletion(-)

commit d67d5afb5115c1d8294415b2e1a82af2c737ba17
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun Nov 22 18:23:02 2009 +0200

    Ignore one more file.

 .gitignore |	 1 +
 1 file changed, 1 insertion(+)

commit 408b2186aea58a41ec26b9d0ca29ecd42df5ef7e
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun Nov 22 18:22:23 2009 +0200

    Fix wrong minimum checking in float properties

    Bug #587637.  Test the fix.

 gobject/propertyhelper.py |	5 +++--
 tests/test_properties.py  |	6 ++++++
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 6ccf58afcf58e118903ced0135f0fe69b00e09ad
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Mon Oct 26 18:06:06 2009 +0000

    Treat GI_INFO_TYPE_INTERFACE same as GI_INFO_TYPE_OBJECT

 gi/pygi-argument.c |	 3 +++
 1 file changed, 3 insertions(+)

commit e6f730d6e1431e36bd5f6b503a1038617f8d1e7d
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 14 21:42:43 2009 +0100

    Import pygtk properly to avoid failure on some setups

 tests/test_gi.py |    3 +++
 1 file changed, 3 insertions(+)

commit e604a89e9dc1a79687ef5fb94af7a2182be07dfb
Author: Alex Dedul <rotmer@gmail.com>
Date:	Sat Nov 14 21:39:15 2009 +0100

    Search for python-config-${VERSION} when python${VERSION}-config is
    not found

    On Gentoo, notably, the config tool is named python-config-${VERSION},
    while on
    Fedora and Ubuntu, it is named python${VERSION}-config.

    Signed-off-by: Simon van der Linden <svdlinden@src.gnome.org>

 configure.ac |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 4a887cfabb326cb99dc65073d592c03f59e2f141
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 14 21:36:19 2009 +0100

    Fix silent rules setup

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 602afea88c338a38327cd84e08703c5daa384ec6
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Tue Nov 10 22:32:33 2009 +0200

    Move threads_init() function from 'gobject' to 'glib'

    Retain in original place for backward compatibility, but remove it
    from the docs.

 docs/reference/pygobject-functions.xml |   36
 +++++++-------------------------
 glib/glibmodule.c			|   16 ++++++++++++++
 2 files changed, 23 insertions(+), 29 deletions(-)

commit 734755912fff11332dc0e96317b7d6b7c4014e6a
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Mon Nov 9 22:44:12 2009 +0100

    Remove PyGObject patches since they've been merged to master

 ...pytype-aware-of-the-interface-enum-flags-.patch |	78 --------
 patches/0002-Fix-girpository-build-setup.patch     |  186
 ------------------
 ...capabilities-to-import-wrappers-from-pygi.patch |  200
 --------------------
 ...ances-by-calling-tp_alloc-rather-than-PyO.patch |	29 ---
 4 files changed, 493 deletions(-)

commit 6a69288941e65312fe82649ec72d2f21b2dc618f
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 7 23:42:07 2009 +0100

    Create instances by calling tp_alloc rather than PyObject_NEW

    PyObject_NEW calls a generic allocator and should only be called by
    tp_new, knowing
    that the type's free function agrees. In pyg_boxed_new, we may
    allocate
    PyGBoxed subtypes, so the subtype's allocation function must be
    called instead.

 gobject/pygboxed.c |	 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 000f7c36e667c6e078e3370769ea868e56a1b4ee
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 7 16:43:35 2009 +0100

    Add capabilities to import wrappers from pygi

    At instance creation for boxed and pointers, at lookup for objects,
    when the gtype has no wrapper yet, a wrapper may be imported from
    pygi.

    The feature is turned on at configure time by --enable-pygi.

    Because we couldn't create a circular build dependency, PyGI's import
    function and
    API definition had to be copied in this tree.

 configure.ac		 |    8 ++++++
 gobject/pygboxed.c	 |   10 +++++++
 gobject/pygi-external.h |   66
 +++++++++++++++++++++++++++++++++++++++++++++++
 gobject/pygobject.c	 |   10 +++++++
 gobject/pygpointer.c	 |   11 ++++++++
 5 files changed, 105 insertions(+)

commit fdfbc90dbc9e305646b62d73de506b5e0e99cc91
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sun Nov 8 20:03:58 2009 +0100

    Update PyGObject patches

    A file, pygi-external.h, was missing in patch #3.

 ...capabilities-to-import-wrappers-from-pygi.patch |	74
 ++++++++++++++++++--
 ...ances-by-calling-tp_alloc-rather-than-PyO.patch |	 2 +-
 2 files changed, 69 insertions(+), 7 deletions(-)

commit 8f53ca8a72f9958711765281dd5c5bdfb7042d7d
Author: Tomeu Vizoso <tomeu@sugarlabs.org>
Date:	Sun Nov 8 16:52:18 2009 +0100

    Add myself to pygi.doap

 pygi.doap |	5 +++++
 1 file changed, 5 insertions(+)

commit 6f50d5102aec9288e1851f12e9d232b9c141d524
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sun Nov 8 15:40:51 2009 +0100

    Add a doap file

 pygi.doap |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit ce673b9027868e6add4eeb438bc707eb40bfd046
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sun Nov 8 13:06:54 2009 +0100

    Add PyGObject patches

 ...pytype-aware-of-the-interface-enum-flags-.patch |	78 ++++++++
 patches/0002-Fix-girpository-build-setup.patch     |  186
 ++++++++++++++++++++
 ...capabilities-to-import-wrappers-from-pygi.patch |  138 +++++++++++++++
 ...ances-by-calling-tp_alloc-rather-than-PyO.patch |	29 +++
 4 files changed, 431 insertions(+)

commit b24fd9633cabe1d95cde173a04e9a49833b06a26
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sun Nov 8 12:35:08 2009 +0100

    Initial import

 .gitignore		   |   33 +
 Makefile.am		   |   10 +
 autogen.sh		   |  159 +++
 configure.ac		   |   53 +
 gi/Makefile.am		   |   50 +
 gi/__init__.py		   |   24 +
 gi/gimodule.c		   |  144 ++
 gi/importer.py		   |   89 ++
 gi/module.py		   |  167 +++
 gi/overrides/Gdk.py	   |   21 +
 gi/overrides/Gtk.py	   |   13 +
 gi/overrides/Makefile.am  |   10 +
 gi/pygi-argument.c	   | 1976 ++++++++++++++++++++++++++
 gi/pygi-argument.h	   |   65 +
 gi/pygi-info.c		   | 2093 ++++++++++++++++++++++++++++
 gi/pygi-info.h		   |   64 +
 gi/pygi-private.h	   |   55 +
 gi/pygi-repository.c	   |  238 ++++
 gi/pygi-repository.h	   |   39 +
 gi/pygi-struct.c	   |  175 +++
 gi/pygi-struct.h	   |   40 +
 gi/pygi-type.c		   |   96 ++
 gi/pygi-type.h		   |   43 +
 gi/pygi.h		   |   99 ++
 gi/pygobject-external.h   |   83 ++
 gi/repository/Makefile.am |	8 +
 gi/repository/__init__.py |   30 +
 gi/types.py		   |  163 +++
 tests/Makefile.am	   |   48 +
 tests/libtestgi.c	   | 3397
 +++++++++++++++++++++++++++++++++++++++++++++
 tests/libtestgi.h	   |  643 +++++++++
 tests/runtests.py	   |   22 +
 tests/test_gi.py	   | 1416 +++++++++++++++++++
 33 files changed, 11566 insertions(+)

commit bfd3100a580b8bea9db25b8bb7443fb8c3dbe1cc
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Sat Nov 7 13:23:53 2009 +0100

    Fix girpository build setup

 configure.ac		  |   21 +++++++----
 girepository/Makefile.am |   13 +++----
 m4/introspection.m4	  |   92
 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 111 insertions(+), 15 deletions(-)

commit 421c03b1c5b69f90c778663df901b45ca3ee8ba5
Author: Simon van der Linden <svdlinden@src.gnome.org>
Date:	Fri Nov 6 19:17:36 2009 +0100

    Make GType.pytype aware of the interface, enum, flags, pointer and
    boxed wrappers

 gobject/pygtype.c |   39 +++++++++++++++++++++++++++++++++------
 1 file changed, 33 insertions(+), 6 deletions(-)

commit a9c168c58cc6a449b51653417bf3f58bdd41457c
Author: Philippe Normad <phil@base-art.net>
Date:	Wed Oct 21 18:01:16 2009 +0200

    pygmainloop: fix use of PySignal_WakeUpFD API for nested loops

    Fixes bug #481569

 glib/pygmainloop.c |	95
 +++++++++++++++++++++++++++-------------------------
 1 file changed, 50 insertions(+), 45 deletions(-)

commit c6a5750379354c12e2599b3c73b4f9a23fd39114
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Sep 25 20:12:21 2009 +0200

    Post release version bump to 2.21.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33920eb013628a5e22b7b32403fb965ae3210f47
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Sep 23 21:52:04 2009 +0200

    Update NEWS and release 2.20.0

 NEWS |    6 ++++++
 1 file changed, 6 insertions(+)

commit 66b12f7d2f54143ea80b4f8aec863b26800363d6
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed Sep 23 21:51:43 2009 +0200

    Bump version to 2.20.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7bf87338a026ac82f908aa5fddf2bfea2daf6617
Author: Brian Cameron <Brian.Cameron@sun.com>
Date:	Wed Sep 23 12:11:50 2009 -0500

    Updated uninstalled.pc file so that it contains the right paths for
    defsdir files and codegen files.  See bug #596023.

 pygobject-2.0-uninstalled.pc.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d042402b7c649b2bed7f20038eb82518ec7cc9b3
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Tue Sep 22 22:02:27 2009 +0300

    Plug reference leak of GSource in pyg_main_loop_init()

    Bug #579406, second change.

 glib/pygmainloop.c |	 1 +
 1 file changed, 1 insertion(+)

commit 640be8109d066e85ed77c810830a5f73c750415b
Author: Frédéric Péters <fpeters@0d.be>
Date:	Sun Aug 30 16:46:02 2009 +0200

    Specify programming language in .devhelp file

    This add a new language attribute (hardcoded to python) in the
    .devhelp
    file that is produced when using ref-html-style.xsl.

 docs/xsl/devhelp.xsl |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c888b5ca722fcad6a03de585606c677c2969ebd6
Author: Paolo Borelli <pborelli@gnome.org>
Date:	Thu Aug 13 21:32:07 2009 +0200

    Allow to use automake 1.11

 autogen.sh |	13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 30deaba4bd1e199aab75cb346ee9237237807fbd
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Aug 11 22:19:50 2009 +0200

    Update README

 README |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit af165d350d0d1bb493be5140bf84376d3da1e4d8
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Aug 11 22:16:52 2009 +0200

    Update AUTHORS

 AUTHORS |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 5f9f87f276b97964b525a501d8584ea8b4d8bfd2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Aug 11 22:11:43 2009 +0200

    Add myself and Paul as maintainers

 MAINTAINERS	|    8 ++++++++
 pygobject.doap |   14 ++++++++++++++
 2 files changed, 22 insertions(+)

commit 3bfae47fbcb5523d91fb2d1ed7ea347eeddd1775
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Aug 11 20:52:44 2009 +0200

    Update NEWS release 2.19.0

 NEWS |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit e82a1841f31ad54dd50569d0d45290713409e0bf
Author: John Finlay <finlay@moeraki.com>
Date:	Tue Aug 11 00:04:31 2009 -0700

    Add macros to help with Python list to/from GList/GSList conversions.

 gobject/pygobject.h |	242
 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 241 insertions(+), 1 deletion(-)

commit f1fad96da2c531fbd3218923baa4fe806a2942d4
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Aug 8 21:37:54 2009 +0200

    Bug 590063 – GFileInfo.list_attributes should accept None/NULL

 gio/gfileinfo.override |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7907cf6ff6ccf8d38b5206f09f5c864c205e5de
Author: Johan Dahlin <johan@gnome.org>
Date:	Fri Jul 24 14:30:37 2009 -0300

    Remove myself as a maintainer

 MAINTAINERS	|    4 ----
 pygobject.doap |    7 -------
 2 files changed, 11 deletions(-)

commit be6eb21320b4688bcfcd8cbea33f7be29a76f2a2
Author: John Finlay <finlay@moeraki.com>
Date:	Wed Jul 8 15:47:44 2009 -0700

	    * codegen/defsgen.py (clean_patterns): Strip out Windows
	    DLL API macros.

 codegen/defsgen.py |	 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2214cad3529979e29342a7e1fdc2915b90ce9c10
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 23 21:18:23 2009 +0200

    Fix the gio.unix namespace in docs

 docs/Makefile.am			   |	2 ++
 docs/reference/pygio-classes.xml	   |	2 --
 docs/reference/pygio-unixinputstream.xml  |   26
 +++++++++++++-------------
 docs/reference/pygio-unixoutputstream.xml |   26
 +++++++++++++-------------
 docs/reference/pygiounix-classes.xml	   |   13 +++++++++++++
 docs/reference/pygobject-ref.xml	   |	1 +
 6 files changed, 42 insertions(+), 28 deletions(-)

commit c0acaedfe7f4e488a490e07e3184f0709e1fadc2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 22 23:13:36 2009 +0200

    Add docs for gio functions (mostly for content types)

 docs/Makefile.am		    |	 2 +
 docs/reference/pygio-classes.xml   |	 1 +
 docs/reference/pygio-functions.xml |  395
 ++++++++++++++++++++++++++++++++++++
 3 files changed, 398 insertions(+)

commit ebddee47fb7f3e06f9e0a7a14b9532d5cf8a3881
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun Jun 21 18:35:56 2009 +0200

    Add docs for gio.Unix[In|Out]putStream classes

 docs/Makefile.am			   |	4 +
 docs/reference/pygio-classes.xml	   |	2 +
 docs/reference/pygio-unixinputstream.xml  |  202
 +++++++++++++++++++++++++++++
 docs/reference/pygio-unixoutputstream.xml |  202
 +++++++++++++++++++++++++++++
 4 files changed, 410 insertions(+)

commit 5b71e58117c85634d95d08449eb54079b246e5be
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun Jun 21 16:50:03 2009 +0300

    Document that many functions got moved gobject -> glib

 docs/reference/pygobject-functions.xml |    7 +++++++
 1 file changed, 7 insertions(+)

commit b270dc43f2cef5260b0bbc71356fd8e6a2b7f754
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jun 20 19:23:25 2009 +0200

    Add docs for class gio.DataOutputStream

 docs/Makefile.am			   |	2 +
 docs/reference/pygio-classes.xml	   |	1 +
 docs/reference/pygio-dataoutputstream.xml |  504
 +++++++++++++++++++++++++++++
 3 files changed, 507 insertions(+)

commit 549313fc4886fa3deb31761de6f5400708165d86
Author: Murray Cumming <murrayc@murrayc.com>
Date:	Thu Jun 18 18:48:37 2009 +0200

    Allow h2def.py to work when there are tabs or multiple spaces after
    the struct keyword.

 codegen/h2def.py |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5c36ef20dca8cd1793f2d3e88949675299097f40
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 15 23:02:34 2009 +0200

    Add dpcs for class gio.DataInputStream

 docs/Makefile.am			  |    2 +
 docs/reference/pygio-classes.xml	  |    1 +
 docs/reference/pygio-constants.xml	  |   66 +++
 docs/reference/pygio-datainputstream.xml |  799
 ++++++++++++++++++++++++++++++
 4 files changed, 868 insertions(+)

commit a8b36c343c6850af929c1d5a930f923831b4e637
Author: Theppitak Karoonboonyanan <thep@linux.thai.net>
Date:	Mon Jun 15 23:25:01 2009 +0300

    Fix build when builddir is not the same as srcdir

    Bug #585817.

 girepository/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9d9ae97b8a49836ec1f3b8d6529bafe1cc06d4d7
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Mon Jun 15 23:19:47 2009 +0300

    Make gio.Emblem constructor new-style

    Add optional 'origin' parameter.  Expand gio.Emblem documentation and
    mark gio.emblem_new_with_origin as sort-of-deprecated.

 docs/reference/pygio-emblem.xml |   51
 +++++++++++++++++++++++++++++++++++++--
 gio/gio.defs			 |    5 ++--
 2 files changed, 52 insertions(+), 4 deletions(-)

commit 268e1681fd5b46e6412d3a8db84f3f1cb02fdbde
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jun 13 14:44:47 2009 +0200

    Add docs for gio.BufferedOutputStream class

 docs/Makefile.am			       |   96 ++++-----
 docs/reference/pygio-bufferedoutputstream.xml |  275
 +++++++++++++++++++++++++
 docs/reference/pygio-classes.xml	       |    1 +
 3 files changed, 325 insertions(+), 47 deletions(-)

commit a6e25aaa7c8f27d62f2917b06728d7ccfcd46416
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jun 13 14:38:34 2009 +0200

    Fix gio.BufferedInputStream docs

    Added the constructor reference and fixed a typo in properties header

 docs/reference/pygio-bufferedinputstream.xml |   34
 ++++++++++++++++++++++++--
 1 file changed, 32 insertions(+), 2 deletions(-)

commit a9b13b60a5aad726d7d7dd7fdc5153b1561fb591
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat Jun 13 01:25:06 2009 +0200

    Add docs for gio.BufferedInputStream

 docs/Makefile.am			      |    2 +
 docs/reference/pygio-bufferedinputstream.xml |  431
 ++++++++++++++++++++++++++
 docs/reference/pygio-classes.xml	      |    1 +
 3 files changed, 434 insertions(+)

commit 7766daa59b0e2b85413cee368bf2ebd2afe198e1
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun May 31 18:25:47 2009 +0300

    Cleanup GIO overrides to use Python function/method names

    Also move several gio.Mount overrides over from 'gio.override' to
    existing 'gmount.override'.  Part of bug #584289.

 gio/gfile.override	      |   20 ++---
 gio/gfileenumerator.override |    6 +-
 gio/ginputstream.override    |    2 +-
 gio/gio.override	      |  204
 ------------------------------------------
 gio/gmount.override	      |  204
 ++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 218 insertions(+), 218 deletions(-)

commit 07e9c18dc092f6546230168b6b69c1b3454e120a
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun May 31 18:56:55 2009 +0300

    Make codegen report errors using Python function/method names

    Part of bug #584289.

 codegen/codegen.py	|    9 +++++----
 codegen/definitions.py |   10 +++++++++-
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 235fde85d015382f2ba38b21968e82b3ac0b6612
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri Jun 12 00:12:17 2009 +0200

    Fix object type in gio.BufferedInputStream_fill_async

 gio/gbufferedinputstream.override |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 407b0e909056f15960e6a4e549896d786ce0a0b2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 9 00:08:21 2009 +0200

    Wrap gio.BufferedInputStream.fill_async

    Wrap the method gio.BufferedInputStream.fill_async and add a test

 gio/Makefile.am		   |	1 +
 gio/gbufferedinputstream.override |   70
 +++++++++++++++++++++++++++++++++++++
 gio/gio.override		   |	1 +
 tests/test_gio.py		   |   25 +++++++++++++
 4 files changed, 97 insertions(+)

commit b7c96b41b287685fe57504e0add3a6f16e649975
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 8 15:42:40 2009 +0200

    Add gio.BufferedOutputStream which was forgotten in the types
    definition

 gio/gio-types.defs |	 7 +++++++
 1 file changed, 7 insertions(+)

commit 3666f75af4ef2c8e038116aee5afada59d59f689
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 8 14:20:02 2009 +0200

    Add docs for gio.MemoryOutputStream

 docs/Makefile.am			     |	  2 +
 docs/reference/pygio-classes.xml	     |	  1 +
 docs/reference/pygio-memoryoutputstream.xml |	175
 +++++++++++++++++++++++++++
 3 files changed, 178 insertions(+)

commit 6eb5e3988cbddb4afb3d5747364d6eb80370bb78
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 8 13:30:15 2009 +0200

    Split overrides for gio.MemoryOutputStream

 gio/Makefile.am		  |    1 +
 gio/gio.override		  |    1 +
 gio/gmemoryoutputstream.override |   45
 ++++++++++++++++++++++++++++++++++++++
 gio/goutputstream.override	  |   24 --------------------
 4 files changed, 47 insertions(+), 24 deletions(-)

commit dfbdf23633a772e78b47b0e7b0c3e3b87855d9ff
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 8 11:45:11 2009 +0200

    Wrap gio.memory_input_stream_new_from_data

    Add the wrapper for gio.memory_input_stream_new_from_data including
    docs and a test.

 docs/Makefile.am			    |	 4 +-
 docs/reference/pygio-classes.xml	    |	 1 +
 docs/reference/pygio-memoryinputstream.xml |  151
 ++++++++++++++++++++++++++++
 gio/Makefile.am			    |	 1 +
 gio/ginputstream.override		    |	34 -------
 gio/gio.override			    |	 1 +
 gio/gmemoryinputstream.override	    |	91 +++++++++++++++++
 tests/test_gio.py			    |	 4 +
 8 files changed, 252 insertions(+), 35 deletions(-)

commit fcc3cb0e167789746a1a9db0cba54ea7a97c7259
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Mon Jun 8 19:15:24 2009 +0200

    Fixes whitespaces style issues with girepository.

 girepository/Makefile.am	|    2 +-
 girepository/bank-repository.c |   67
 ++++++++++++++++++++--------------------
 girepository/bank.h		|    2 +-
 girepository/btypes.py		|    6 ++--
 girepository/module.py		|    2 +-
 5 files changed, 39 insertions(+), 40 deletions(-)

commit fb4b2c8cdad2853e6bfe9526529e3a3ab052c5e0
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Fri Jun 5 19:03:59 2009 +0200

    Removes the header but the modeline in test_girepository.py.

 tests/test_girepository.py |	26 +-------------------------
 1 file changed, 1 insertion(+), 25 deletions(-)

commit abe4828f52c7eb3a08f5b592e7ced1e97a58ef5c
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Wed Jun 3 10:47:58 2009 +0200

    Adds overrides modules from PyBank.

 girepository/Makefile.am      |    3 +++
 girepository/importer.py      |    3 +--
 girepository/overrides/Gdk.py |   14 ++++++++++++++
 girepository/overrides/Gtk.py |    8 ++++++++
 4 files changed, 26 insertions(+), 2 deletions(-)

commit c12964e6a3354d8063355225c94e6d21d621e08b
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Tue Jun 2 23:40:41 2009 +0200

    Disables the tests that fail in tests/test_girepository.py.

 tests/test_girepository.py |  242
 +++++++++++++++++++++++++++++++++-----------
 1 file changed, 182 insertions(+), 60 deletions(-)

commit a4469a3f7d32a25156bae5e7aef9ec4ae5f6e140
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Tue Jun 2 23:03:26 2009 +0200

    Imports test_girepository.py from former PyBank's
    everything_unittest.py.

 tests/test_girepository.py |  288
 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 288 insertions(+)

commit e4f2a5ef8734cf40cf8345d442612db1f6c62d5a
Author: Simon van der Linden <simon.vanderlinden@student.uclouvain.be>
Date:	Thu May 28 17:45:11 2009 +0200

    Introduces the girepository module from the former PyBank.

 INSTALL			|   69 +--
 Makefile.am			|    2 +-
 configure.ac			|   12 +
 girepository/Makefile.am	|   52 ++
 girepository/__init__.py	|   24 +
 girepository/bank-argument.c	|  379 +++++++++++++
 girepository/bank-info.c	| 1194
 ++++++++++++++++++++++++++++++++++++++++
 girepository/bank-repository.c |  237 ++++++++
 girepository/bank.c		|  155 ++++++
 girepository/bank.h		|   80 +++
 girepository/btypes.py		|  300 ++++++++++
 girepository/importer.py	|   52 ++
 girepository/module.py		|  224 ++++++++
 girepository/repository.py	|   51 ++
 14 files changed, 2799 insertions(+), 32 deletions(-)

commit f5ab5046fe9b67ec5e8fc64679e1a3d01787af7e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 18:28:22 2009 +0200

    Fix the docs for gio.FilterOutputStream

 docs/reference/pygio-filteroutputstream.xml |	  6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fded60d8376fc45d19bf6cd8be6b927cc3f2e8c6
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 18:27:00 2009 +0200

    Add gio.FilterOutputStream docs

 docs/Makefile.am			     |	  2 +
 docs/reference/pygio-classes.xml	     |	  1 +
 docs/reference/pygio-filteroutputstream.xml |	152
 +++++++++++++++++++++++++++
 3 files changed, 155 insertions(+)

commit e2c31f916967229b6547e68013628ce0082cf875
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 13:29:59 2009 +0200

    Add gio.FilterInputStream docs

 docs/Makefile.am			    |	 2 +
 docs/reference/pygio-classes.xml	    |	 1 +
 docs/reference/pygio-filterinputstream.xml |  152
 ++++++++++++++++++++++++++++
 3 files changed, 155 insertions(+)

commit 49a467eee445bc75554db0374006722ac075194b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 11:33:20 2009 +0200

    Add API appeared in 2.20 but not marked as such in gio docs

 gio/gio.defs |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 180c157f2a20b7d2dd9af05bfb5f515fd23870a0
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 10:41:26 2009 +0200

    Wrap gio.FileOutputStream.query_info_async

    Add the wrapper for gio.FileOutputStream.query_info_async
    including docs and a test.

 docs/Makefile.am			   |	2 +
 docs/reference/pygio-classes.xml	   |	1 +
 docs/reference/pygio-fileoutputstream.xml |  257
 +++++++++++++++++++++++++++++
 gio/Makefile.am			   |	3 +-
 gio/gfileoutputstream.override		   |   68 ++++++++
 gio/gio.override			   |	1 +
 tests/test_gio.py			   |   27 +++
 7 files changed, 358 insertions(+), 1 deletion(-)

commit 4673577d1f6c3d54423808dd575987092fb05ad2
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue Jun 2 10:17:41 2009 +0200

    Fix gio.FileInputStream docs

    Add implemented interface section and remove a method description

 docs/reference/pygio-fileinputstream.xml |   25 +++++++++----------------
 1 file changed, 9 insertions(+), 16 deletions(-)

commit 1e1cad02879d514745b5233658654cbe944530a5
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 1 22:54:26 2009 +0200

    Fix the method name

 gio/gfileinputstream.override |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit f605811afe8c91f121e89b6f9ec28c70b62f4110
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon Jun 1 22:40:56 2009 +0200

    Wrap gio.FileInputStream.query_async

    Add the wrapper for gio.FileInputStream.query_async including docs and
    a test.

 docs/Makefile.am			  |    2 +
 docs/reference/pygio-classes.xml	  |    1 +
 docs/reference/pygio-fileinputstream.xml |  221
 ++++++++++++++++++++++++++++++
 gio/Makefile.am			  |    1 +
 gio/gfileinputstream.override		  |   68 +++++++++
 gio/gio.override			  |    1 +
 tests/test_gio.py			  |   27 ++++
 7 files changed, 321 insertions(+)

commit 08623e54a426377c1504b5c364aabae5a17f8ad8
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sun May 31 17:43:16 2009 +0300

    Install executable codegen parts with executing permissions

    Also add shebang where it was missing.  Bug #583979.

 codegen/Makefile.am	  |   23 ++++++++++++-----------
 codegen/code-coverage.py |    2 ++
 codegen/codegen.py	  |    2 ++
 codegen/defsconvert.py   |    2 ++
 4 files changed, 18 insertions(+), 11 deletions(-)

commit 833d4da202bcfcb01a414f8aec4b751ec8e1ccb2
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sat May 30 16:57:49 2009 +0300

    Wrap gio.DataInputStream.read_line_async and read_until_async

    Wrap the functions and their corresponding *_finish() functions.
    Create 'gdatainputstream.override' for these and move two existing
    functions there.  Add unit tests.  Re-enable synchronous read_line
    unit test and adjust it for new official GIO behavior.  Bug #584285.

 gio/Makefile.am	       |    1 +
 gio/gdatainputstream.override |  250
 +++++++++++++++++++++++++++++++++++++++++
 gio/ginputstream.override     |   65 -----------
 gio/gio.defs		       |    4 +-
 gio/gio.override	       |    1 +
 tests/test_gio.py	       |   51 ++++++++-
 6 files changed, 300 insertions(+), 72 deletions(-)

commit 2cb569c0ced49f9ed5ca83292d5f15c837066688
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sat May 30 17:24:15 2009 +0300

    Fix gio.OutputStream.splice_async

    Bug #584290.

 gio/goutputstream.override |	 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e43fa429f6b4019a432acb481bbc07c8201cc46d
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Wed May 27 21:19:27 2009 +0300

    Code maintenance: ignore one more file created by unit tests

 tests/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 76e9dc74ac706a9207f9d31f887d6e38df2a678f
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon May 25 20:20:38 2009 +0200

    Update the docs with new 2.20 API

 docs/reference/pygio-appinfo.xml |  115 ++++++++++++++++++++++++++++
 docs/reference/pygio-icon.xml	  |   99 +++++++++++++++++++++++-
 docs/reference/pygio-mount.xml   |  156
 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 367 insertions(+), 3 deletions(-)

commit 8e40d71ac23deb7d91789486ee8cad440a6be1dd
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon May 25 01:33:08 2009 +0200

    Add gio 2.20 API

    add the new API added in gio 2.20, some needs to be wrapped manually

 gio/gio.defs  |  106
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 gio/unix.defs |   48 +++++++++++++++++++++-----
 2 files changed, 146 insertions(+), 8 deletions(-)

commit 0d08df42514fba6abc896814abfee0d2d083c29e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon May 25 00:14:21 2009 +0200

    Post release version bump 2.19.0

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit edfb09e3de7baf294b3beba84b4ecb94e1f16764
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 24 23:56:29 2009 +0200

    Update NEWS, release 2.18.0

 NEWS	      |   14 ++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 16 insertions(+), 2 deletions(-)

commit e0648ea435e0b309cdd5bb0ebe56d4534efd26e4
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 24 22:18:40 2009 +0200

    Add documentation for the gio.OutputStream class

    The docs for this class are not completed, missing methods
    descriptions.
    The index is complete though, it will be completed once all the
    classes
    are in place so we can ship a (almost) complete reference.

 docs/Makefile.am		       |    2 +
 docs/reference/pygio-classes.xml      |    3 +-
 docs/reference/pygio-outputstream.xml |  140
 +++++++++++++++++++++++++++++++++
 3 files changed, 144 insertions(+), 1 deletion(-)

commit 11524cdf6472d9115a812ce431f6767aec5627bc
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 24 22:12:04 2009 +0200

    Wrap gio.OutputStream.splice_async()

    wrap gio.OutputStream.splice_async() and add a test.

 gio/goutputstream.override |	58
 +++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gio.py	    |	20 +++++++++++++++
 2 files changed, 77 insertions(+), 1 deletion(-)

commit 82ad6b8c8ea4d6694126f5e0e67b826717e38f19
Author: Emilio Pozuelo Monfort <pochu@ubuntu.com>
Date:	Sun May 24 22:55:16 2009 +0300

    Add Python version into installed libpyglib name

    Do this now, while no-one (as far as we know) links to the library
    besides PyGObject itself.  Bug #550235.

 configure.ac	     |	  2 ++
 gio/Makefile.am     |	  2 +-
 glib/Makefile.am    |	 10 +++++-----
 gobject/Makefile.am |	  2 +-
 4 files changed, 9 insertions(+), 7 deletions(-)

commit 59da8cd24ea390b6c983995833ec6b0e5d028b35
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 24 11:44:24 2009 +0200

    Wrap gio.OutputStream.flush_async()

    wrap gio.OutputStream.flush_async() and add a test.

 gio/goutputstream.override |	47
 +++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gio.py	    |	11 +++++++++++
 2 files changed, 57 insertions(+), 1 deletion(-)

commit 84ab6178ed0033f69932df5bc73c86bdff80c953
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 17 17:29:37 2009 +0200

    Add documentation for the gio.FileMonitor class

    The docs for this class are not completed, missing methods
    descriptions.
    The index is complete though, it will be completed once all the
    classes
    are in place so we can ship a (almost) complete reference.

 docs/Makefile.am		      |    2 +
 docs/reference/pygio-classes.xml     |    1 +
 docs/reference/pygio-filemonitor.xml |  128
 ++++++++++++++++++++++++++++++++++
 3 files changed, 131 insertions(+)

commit 629496a5617d30e4dfa494b05a62c85a6af77b9a
Author: Josselin Mouette <joss@malsain.org>
Date:	Sun May 17 18:03:44 2009 +0300

    Use 'Requires.private' for libffi in '.pc' files

    Correction for patch in bug #550231.

 pygobject-2.0-uninstalled.pc.in |    3 ++-
 pygobject-2.0.pc.in		 |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 90cd8b7c4a25cd2ecb751f8337b401c98538272b
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Wed May 13 21:54:39 2009 +0200

    Add wrapper for gio.FileAttributeMatcher

    added a boxed type for gio.FileAttributeMatcher which has been
    forgotten while
    wrapping the gio API. This should probably be done in gio itself.

 gio/gfileinfo.override |   24 ++++++++++++++++++++++--
 gio/gio-types.defs	|    7 +++++++
 gio/gio.override	|    2 ++
 3 files changed, 31 insertions(+), 2 deletions(-)

commit e707447d9313f2f2ecba395cfe3682d5a5e859f4
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Wed May 13 22:06:25 2009 +0300

    Mark relevant glib.IOChannel methods as METH_NOARGS

    Additionally fix glib.IOChannel.set_close_on_unref: was marked
    METH_NOARGS but actually accepted arguments.  Fixes bug #582427.

 glib/pygiochannel.c |	 83
 +++++++++++++--------------------------------------
 1 file changed, 20 insertions(+), 63 deletions(-)

commit 002915e5f458fec5a89766a54e8119a70a80caa7
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Tue May 12 20:37:24 2009 +0200

    Add documentation for the gio.FileInfo class

    The docs for this class are not completed, missing methods
    descriptions.
    The index is complete though, it will be completed once all the
    classes
    are in place so we can ship a (almost) complete reference.

 docs/Makefile.am		   |	2 +
 docs/reference/pygio-classes.xml  |	1 +
 docs/reference/pygio-fileinfo.xml |  346
 +++++++++++++++++++++++++++++++++++++
 3 files changed, 349 insertions(+)

commit 8cd25c871609580425c6c4c9e5bc6ec8d40862a1
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sat May 9 16:46:04 2009 +0300

    Retire hand-written ChangeLog; autocreate from Git history

    Basically copied over from GLib source tree.

 ChangeLog	    | 3606
 ---------------------------------------------------
 ChangeLog.pre-2.18 | 3608
 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 Makefile.am	    |	32 +
 3 files changed, 3640 insertions(+), 3606 deletions(-)

commit 23556bdbcf9cf06db866901fb822dd78a9043648
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat May 9 00:03:05 2009 +0200

    Fix a bug in InputStream.skip_async

    use the count argument instead of buffer_size which is always zero

 gio/ginputstream.override |	3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ed6b06315c17441b41c001d38537c904b8fe18de
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat May 9 00:02:33 2009 +0200

    Add docs for the gio.InputStream class

 docs/Makefile.am		      |    2 +
 docs/reference/pygio-classes.xml     |    1 +
 docs/reference/pygio-inputstream.xml |  730
 ++++++++++++++++++++++++++++++++++
 3 files changed, 733 insertions(+)

commit d58322b84d47da7905f95b43e9e0daf9f7c4b507
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Mon May 4 23:40:28 2009 +0200

    Wrap gio.InputStream.skip_async()

    wrap gio.InputStream.skip_async() and add a test.

 gio/ginputstream.override |   50
 ++++++++++++++++++++++++++++++++++++++++++++-
 tests/test_gio.py	   |   20 ++++++++++++++++++
 2 files changed, 69 insertions(+), 1 deletion(-)

commit 2311187824d1b48a996ee2620fd3c9a63e3edd66
Author: Siavash Safi <siavash@siavashs.org>
Date:	Mon May 4 15:46:49 2009 +0430

    Add -n --namespace option and the code to remove
    dll API in headers, Added documentation

    Patch from bug #579275

 ChangeLog	  |    8 ++++
 codegen/h2def.py |  133
 ++++++++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 117 insertions(+), 24 deletions(-)

commit 442ec5bb997bb7dab55baeea6e54e79d3ce0d3c1
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Sat May 2 23:54:52 2009 +0300

    Properly mark glib.get_user_special_dir() as a keywords method

    Fixes bug #581082.

 glib/glibmodule.c |	2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f466dca880cc6ea68b9fe236943eea7a07d33520
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 3 11:03:25 2009 +0200

    Add docs for the gio.LoadableIcon class

 docs/Makefile.am		       |    2 +
 docs/reference/pygio-classes.xml      |    1 +
 docs/reference/pygio-loadableicon.xml |  198
 +++++++++++++++++++++++++++++++++
 3 files changed, 201 insertions(+)

commit eab4ebf7f6c82580b61205f34e1cfe535aeada60
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sun May 3 01:21:55 2009 +0200

    Add docs for the gio.ThemedIcon class

 docs/Makefile.am		     |	  2 +
 docs/reference/pygio-classes.xml    |	  1 +
 docs/reference/pygio-themedicon.xml |	204
 +++++++++++++++++++++++++++++++++++
 3 files changed, 207 insertions(+)

commit 22d7de8b620055f14b30f9c3c99160c8b4ebe672
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Sat May 2 12:25:19 2009 +0200

    post release version bump to 2.17.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 282ac3c76e1e3513bd76f819f320ec56aba15d9e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri May 1 23:40:31 2009 +0200

    Fix the class title

 docs/reference/pygio-mountoperation.xml |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8b70dec1e5c09b73ae277f4f5b246315841fb8e
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Fri May 1 22:24:33 2009 +0200

    Add docs for the gio.MountOperation class

 docs/Makefile.am			 |    2 +
 docs/reference/pygio-classes.xml	 |    1 +
 docs/reference/pygio-constants.xml	 |  107 +++++
 docs/reference/pygio-mountoperation.xml |  726
 +++++++++++++++++++++++++++++++
 4 files changed, 836 insertions(+)

commit fceea8e843e880f0469e454df23141e7dd2bc0cf
Author: Gian Mario Tagliaretti <gianmt@gnome.org>
Date:	Thu Apr 30 22:13:06 2009 +0200

    Update NEWS, release 2.17.0

 NEWS |   93
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 47389217d1a65a8e3f404d486c508cf5d3164756
Author: Paul Pogonyshev <pogonyshev@gmx.net>
Date:	Thu Apr 30 22:47:19 2009 +0300

    Fix memory leak in gio.File.query_info_async()

    After the recent patch it would leak exception data if old argument
    order was used.  Properly decref the objects.

 gio/gfile.override |	 4 ++++
 1 file changed, 4 insertions(+)
